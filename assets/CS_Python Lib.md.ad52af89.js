import{_ as s,c as n,o as a,a as l}from"./app.7d58ac0d.js";const C=JSON.parse('{"title":"Python Lib","description":"","frontmatter":{"title":"Python Lib","created_at":"2022-02-01T05:44:43.000Z","updated_at":"2022-09-10T06:02:43.000Z","word_count":19385},"headers":[{"level":2,"title":"\u2014\u2014 Moudle \u2014\u2014","slug":"\u2014\u2014-moudle-\u2014\u2014","link":"#\u2014\u2014-moudle-\u2014\u2014","children":[]},{"level":2,"title":"\u2014\u2014 \u6570\u636E\u7C7B\u578B","slug":"\u2014\u2014-\u6570\u636E\u7C7B\u578B","link":"#\u2014\u2014-\u6570\u636E\u7C7B\u578B","children":[]},{"level":2,"title":"datetime--- \u57FA\u672C\u7684\u65E5\u671F\u548C\u65F6\u95F4\u7C7B\u578B","slug":"datetime-\u57FA\u672C\u7684\u65E5\u671F\u548C\u65F6\u95F4\u7C7B\u578B","link":"#datetime-\u57FA\u672C\u7684\u65E5\u671F\u548C\u65F6\u95F4\u7C7B\u578B","children":[]},{"level":2,"title":"time--- \u65F6\u95F4\u7684\u8BBF\u95EE\u548C\u8F6C\u6362","slug":"time-\u65F6\u95F4\u7684\u8BBF\u95EE\u548C\u8F6C\u6362","link":"#time-\u65F6\u95F4\u7684\u8BBF\u95EE\u548C\u8F6C\u6362","children":[]},{"level":2,"title":"collections--- \u5BB9\u5668\u6570\u636E\u7C7B\u578B","slug":"collections-\u5BB9\u5668\u6570\u636E\u7C7B\u578B","link":"#collections-\u5BB9\u5668\u6570\u636E\u7C7B\u578B","children":[{"level":3,"title":"namedtuple","slug":"namedtuple","link":"#namedtuple","children":[]},{"level":3,"title":"deque","slug":"deque","link":"#deque","children":[]},{"level":3,"title":"Counter","slug":"counter","link":"#counter","children":[]},{"level":3,"title":"defaultdict","slug":"defaultdict","link":"#defaultdict","children":[]},{"level":3,"title":"OrderedDict","slug":"ordereddict","link":"#ordereddict","children":[]},{"level":3,"title":"ChainMap","slug":"chainmap","link":"#chainmap","children":[]}]},{"level":2,"title":"queue\xA0--- \u4E00\u4E2A\u540C\u6B65\u7684\u961F\u5217\u7C7B","slug":"queue-\u4E00\u4E2A\u540C\u6B65\u7684\u961F\u5217\u7C7B","link":"#queue-\u4E00\u4E2A\u540C\u6B65\u7684\u961F\u5217\u7C7B","children":[]},{"level":2,"title":"heapq\xA0--- \u5806\u961F\u5217\u7B97\u6CD5","slug":"heapq-\u5806\u961F\u5217\u7B97\u6CD5","link":"#heapq-\u5806\u961F\u5217\u7B97\u6CD5","children":[]},{"level":2,"title":"bisect\xA0--- \u6570\u7EC4\u4E8C\u5206\u67E5\u627E\u7B97\u6CD5","slug":"bisect-\u6570\u7EC4\u4E8C\u5206\u67E5\u627E\u7B97\u6CD5","link":"#bisect-\u6570\u7EC4\u4E8C\u5206\u67E5\u627E\u7B97\u6CD5","children":[]},{"level":2,"title":"re--- \u6B63\u5219\u8868\u8FBE\u5F0F\u64CD\u4F5C","slug":"re-\u6B63\u5219\u8868\u8FBE\u5F0F\u64CD\u4F5C","link":"#re-\u6B63\u5219\u8868\u8FBE\u5F0F\u64CD\u4F5C","children":[]},{"level":2,"title":"\u2014\u2014 \u51FD\u6570\u5F0F\u7F16\u7A0B\u6A21\u5757","slug":"\u2014\u2014-\u51FD\u6570\u5F0F\u7F16\u7A0B\u6A21\u5757","link":"#\u2014\u2014-\u51FD\u6570\u5F0F\u7F16\u7A0B\u6A21\u5757","children":[]},{"level":2,"title":"itertools--- \u4E3A\u9AD8\u6548\u5FAA\u73AF\u800C\u521B\u5EFA\u8FED\u4EE3\u5668\u7684\u51FD\u6570","slug":"itertools-\u4E3A\u9AD8\u6548\u5FAA\u73AF\u800C\u521B\u5EFA\u8FED\u4EE3\u5668\u7684\u51FD\u6570","link":"#itertools-\u4E3A\u9AD8\u6548\u5FAA\u73AF\u800C\u521B\u5EFA\u8FED\u4EE3\u5668\u7684\u51FD\u6570","children":[{"level":3,"title":"\u65E0\u7A77\u8FED\u4EE3\u5668","slug":"\u65E0\u7A77\u8FED\u4EE3\u5668","link":"#\u65E0\u7A77\u8FED\u4EE3\u5668","children":[]},{"level":3,"title":"\u6839\u636E\u6700\u77ED\u8F93\u5165\u5E8F\u5217\u957F\u5EA6\u505C\u6B62\u7684\u8FED\u4EE3\u5668","slug":"\u6839\u636E\u6700\u77ED\u8F93\u5165\u5E8F\u5217\u957F\u5EA6\u505C\u6B62\u7684\u8FED\u4EE3\u5668","link":"#\u6839\u636E\u6700\u77ED\u8F93\u5165\u5E8F\u5217\u957F\u5EA6\u505C\u6B62\u7684\u8FED\u4EE3\u5668","children":[]},{"level":3,"title":"\u6392\u5217\u7EC4\u5408\u8FED\u4EE3\u5668","slug":"\u6392\u5217\u7EC4\u5408\u8FED\u4EE3\u5668","link":"#\u6392\u5217\u7EC4\u5408\u8FED\u4EE3\u5668","children":[]}]},{"level":2,"title":"operator\xA0--- \u6807\u51C6\u8FD0\u7B97\u7B26\u66FF\u4EE3\u51FD\u6570","slug":"operator-\u6807\u51C6\u8FD0\u7B97\u7B26\u66FF\u4EE3\u51FD\u6570","link":"#operator-\u6807\u51C6\u8FD0\u7B97\u7B26\u66FF\u4EE3\u51FD\u6570","children":[]},{"level":2,"title":"functools--- \u9AD8\u9636\u51FD\u6570\u548C\u53EF\u8C03\u7528\u5BF9\u8C61\u4E0A\u7684\u64CD\u4F5C","slug":"functools-\u9AD8\u9636\u51FD\u6570\u548C\u53EF\u8C03\u7528\u5BF9\u8C61\u4E0A\u7684\u64CD\u4F5C","link":"#functools-\u9AD8\u9636\u51FD\u6570\u548C\u53EF\u8C03\u7528\u5BF9\u8C61\u4E0A\u7684\u64CD\u4F5C","children":[]},{"level":2,"title":"timeit\xA0--- \u6D4B\u91CF\u5C0F\u4EE3\u7801\u7247\u6BB5\u7684\u6267\u884C\u65F6\u95F4","slug":"timeit-\u6D4B\u91CF\u5C0F\u4EE3\u7801\u7247\u6BB5\u7684\u6267\u884C\u65F6\u95F4","link":"#timeit-\u6D4B\u91CF\u5C0F\u4EE3\u7801\u7247\u6BB5\u7684\u6267\u884C\u65F6\u95F4","children":[]},{"level":2,"title":"pickle\xA0--- Python \u5BF9\u8C61\u5E8F\u5217\u5316","slug":"pickle-python-\u5BF9\u8C61\u5E8F\u5217\u5316","link":"#pickle-python-\u5BF9\u8C61\u5E8F\u5217\u5316","children":[]},{"level":2,"title":"json--- JSON \u7F16\u7801\u548C\u89E3\u7801\u5668","slug":"json-json-\u7F16\u7801\u548C\u89E3\u7801\u5668","link":"#json-json-\u7F16\u7801\u548C\u89E3\u7801\u5668","children":[]},{"level":2,"title":"csv\xA0--- CSV \u6587\u4EF6\u8BFB\u5199","slug":"csv-csv-\u6587\u4EF6\u8BFB\u5199","link":"#csv-csv-\u6587\u4EF6\u8BFB\u5199","children":[]},{"level":2,"title":"html","slug":"html","link":"#html","children":[]},{"level":2,"title":"array\xA0--- \u9AD8\u6548\u7684\u6570\u503C\u6570\u7EC4","slug":"array-\u9AD8\u6548\u7684\u6570\u503C\u6570\u7EC4","link":"#array-\u9AD8\u6548\u7684\u6570\u503C\u6570\u7EC4","children":[]},{"level":2,"title":"os--- \u591A\u79CD\u64CD\u4F5C\u7CFB\u7EDF\u63A5\u53E3","slug":"os-\u591A\u79CD\u64CD\u4F5C\u7CFB\u7EDF\u63A5\u53E3","link":"#os-\u591A\u79CD\u64CD\u4F5C\u7CFB\u7EDF\u63A5\u53E3","children":[]},{"level":2,"title":"pathlib--- \u9762\u5411\u5BF9\u8C61\u7684\u6587\u4EF6\u7CFB\u7EDF\u8DEF\u5F84","slug":"pathlib-\u9762\u5411\u5BF9\u8C61\u7684\u6587\u4EF6\u7CFB\u7EDF\u8DEF\u5F84","link":"#pathlib-\u9762\u5411\u5BF9\u8C61\u7684\u6587\u4EF6\u7CFB\u7EDF\u8DEF\u5F84","children":[]},{"level":2,"title":"shutil--- \u9AD8\u9636\u6587\u4EF6\u64CD\u4F5C","slug":"shutil-\u9AD8\u9636\u6587\u4EF6\u64CD\u4F5C","link":"#shutil-\u9AD8\u9636\u6587\u4EF6\u64CD\u4F5C","children":[]},{"level":2,"title":"glob\xA0--- Unix \u98CE\u683C\u8DEF\u5F84\u540D\u6A21\u5F0F\u6269\u5C55","slug":"glob-unix-\u98CE\u683C\u8DEF\u5F84\u540D\u6A21\u5F0F\u6269\u5C55","link":"#glob-unix-\u98CE\u683C\u8DEF\u5F84\u540D\u6A21\u5F0F\u6269\u5C55","children":[]},{"level":2,"title":"sys--- \u7CFB\u7EDF\u76F8\u5173\u7684\u53C2\u6570\u548C\u51FD\u6570","slug":"sys-\u7CFB\u7EDF\u76F8\u5173\u7684\u53C2\u6570\u548C\u51FD\u6570","link":"#sys-\u7CFB\u7EDF\u76F8\u5173\u7684\u53C2\u6570\u548C\u51FD\u6570","children":[]},{"level":2,"title":"argparse --- \u547D\u4EE4\u884C\u9009\u9879\u3001\u53C2\u6570\u548C\u5B50\u547D\u4EE4\u89E3\u6790\u5668","slug":"argparse-\u547D\u4EE4\u884C\u9009\u9879\u3001\u53C2\u6570\u548C\u5B50\u547D\u4EE4\u89E3\u6790\u5668","link":"#argparse-\u547D\u4EE4\u884C\u9009\u9879\u3001\u53C2\u6570\u548C\u5B50\u547D\u4EE4\u89E3\u6790\u5668","children":[]},{"level":2,"title":"urllib--- URL \u5904\u7406\u6A21\u5757","slug":"urllib-url-\u5904\u7406\u6A21\u5757","link":"#urllib-url-\u5904\u7406\u6A21\u5757","children":[]},{"level":2,"title":"threading--- \u57FA\u4E8E\u7EBF\u7A0B\u7684\u5E76\u884C","slug":"threading-\u57FA\u4E8E\u7EBF\u7A0B\u7684\u5E76\u884C","link":"#threading-\u57FA\u4E8E\u7EBF\u7A0B\u7684\u5E76\u884C","children":[]},{"level":2,"title":"multiprocessing--- \u57FA\u4E8E\u8FDB\u7A0B\u7684\u5E76\u884C","slug":"multiprocessing-\u57FA\u4E8E\u8FDB\u7A0B\u7684\u5E76\u884C","link":"#multiprocessing-\u57FA\u4E8E\u8FDB\u7A0B\u7684\u5E76\u884C","children":[]},{"level":2,"title":"subprocess --- \u5B50\u8FDB\u7A0B\u7BA1\u7406","slug":"subprocess-\u5B50\u8FDB\u7A0B\u7BA1\u7406","link":"#subprocess-\u5B50\u8FDB\u7A0B\u7BA1\u7406","children":[]},{"level":2,"title":"asyncio--- \u5F02\u6B65 I/O","slug":"asyncio-\u5F02\u6B65-i-o","link":"#asyncio-\u5F02\u6B65-i-o","children":[]},{"level":2,"title":"\u2014\u2014 \u5F00\u53D1\u5DE5\u5177","slug":"\u2014\u2014-\u5F00\u53D1\u5DE5\u5177","link":"#\u2014\u2014-\u5F00\u53D1\u5DE5\u5177","children":[]},{"level":2,"title":"logging--- Python \u7684\u65E5\u5FD7\u8BB0\u5F55\u5DE5\u5177","slug":"logging-python-\u7684\u65E5\u5FD7\u8BB0\u5F55\u5DE5\u5177","link":"#logging-python-\u7684\u65E5\u5FD7\u8BB0\u5F55\u5DE5\u5177","children":[]},{"level":2,"title":"unittest--- \u5355\u5143\u6D4B\u8BD5\u6846\u67B6","slug":"unittest-\u5355\u5143\u6D4B\u8BD5\u6846\u67B6","link":"#unittest-\u5355\u5143\u6D4B\u8BD5\u6846\u67B6","children":[]},{"level":2,"title":"pydoc --- \u6587\u6863\u751F\u6210\u5668\u548C\u5728\u7EBF\u5E2E\u52A9\u7CFB\u7EDF","slug":"pydoc-\u6587\u6863\u751F\u6210\u5668\u548C\u5728\u7EBF\u5E2E\u52A9\u7CFB\u7EDF","link":"#pydoc-\u6587\u6863\u751F\u6210\u5668\u548C\u5728\u7EBF\u5E2E\u52A9\u7CFB\u7EDF","children":[]},{"level":2,"title":"doctest --- \u6D4B\u8BD5\u4EA4\u4E92\u6027\u7684Python\u793A\u4F8B","slug":"doctest-\u6D4B\u8BD5\u4EA4\u4E92\u6027\u7684python\u793A\u4F8B","link":"#doctest-\u6D4B\u8BD5\u4EA4\u4E92\u6027\u7684python\u793A\u4F8B","children":[]},{"level":2,"title":"dataclasses --- \u6570\u636E\u7C7B","slug":"dataclasses-\u6570\u636E\u7C7B","link":"#dataclasses-\u6570\u636E\u7C7B","children":[]},{"level":2,"title":"smtplib\xA0---SMTP\u534F\u8BAE\u5BA2\u6237\u7AEF","slug":"smtplib-smtp\u534F\u8BAE\u5BA2\u6237\u7AEF","link":"#smtplib-smtp\u534F\u8BAE\u5BA2\u6237\u7AEF","children":[]},{"level":2,"title":"base64\xA0--- Base16, Base32, Base64, Base85 \u6570\u636E\u7F16\u7801","slug":"base64-base16-base32-base64-base85-\u6570\u636E\u7F16\u7801","link":"#base64-base16-base32-base64-base85-\u6570\u636E\u7F16\u7801","children":[]},{"level":2,"title":"struct --- \u5C06\u5B57\u8282\u4E32\u89E3\u8BFB\u4E3A\u6253\u5305\u7684\u4E8C\u8FDB\u5236\u6570\u636E","slug":"struct-\u5C06\u5B57\u8282\u4E32\u89E3\u8BFB\u4E3A\u6253\u5305\u7684\u4E8C\u8FDB\u5236\u6570\u636E","link":"#struct-\u5C06\u5B57\u8282\u4E32\u89E3\u8BFB\u4E3A\u6253\u5305\u7684\u4E8C\u8FDB\u5236\u6570\u636E","children":[]},{"level":2,"title":"hashlib --- \u5B89\u5168\u54C8\u5E0C\u4E0E\u6D88\u606F\u6458\u8981","slug":"hashlib-\u5B89\u5168\u54C8\u5E0C\u4E0E\u6D88\u606F\u6458\u8981","link":"#hashlib-\u5B89\u5168\u54C8\u5E0C\u4E0E\u6D88\u606F\u6458\u8981","children":[]},{"level":2,"title":"secrets--- \u751F\u6210\u7BA1\u7406\u5BC6\u7801\u7684\u5B89\u5168\u968F\u673A\u6570","slug":"secrets-\u751F\u6210\u7BA1\u7406\u5BC6\u7801\u7684\u5B89\u5168\u968F\u673A\u6570","link":"#secrets-\u751F\u6210\u7BA1\u7406\u5BC6\u7801\u7684\u5B89\u5168\u968F\u673A\u6570","children":[]},{"level":2,"title":"zipfile--- \u4F7F\u7528ZIP\u5B58\u6863","slug":"zipfile-\u4F7F\u7528zip\u5B58\u6863","link":"#zipfile-\u4F7F\u7528zip\u5B58\u6863","children":[]},{"level":2,"title":"socket --- \u5E95\u5C42\u7F51\u7EDC\u63A5\u53E3","slug":"socket-\u5E95\u5C42\u7F51\u7EDC\u63A5\u53E3","link":"#socket-\u5E95\u5C42\u7F51\u7EDC\u63A5\u53E3","children":[]},{"level":2,"title":"winreg \u2014 Windows registry access","slug":"winreg-\u2014-windows-registry-access","link":"#winreg-\u2014-windows-registry-access","children":[]},{"level":2,"title":"ctypes --- \u5916\u90E8\u51FD\u6570\u5E93","slug":"ctypes-\u5916\u90E8\u51FD\u6570\u5E93","link":"#ctypes-\u5916\u90E8\u51FD\u6570\u5E93","children":[]}],"relativePath":"CS/Python Lib.md","lastUpdated":1667217212000}'),p={name:"CS/Python Lib.md"},e=l(`<h1 id="python-lib" tabindex="-1">Python Lib <a class="header-anchor" href="#python-lib" aria-hidden="true">#</a></h1><h2 id="\u2014\u2014-moudle-\u2014\u2014" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/index.html" target="_blank" rel="noreferrer">\u2014\u2014 Moudle \u2014\u2014</a> <a class="header-anchor" href="#\u2014\u2014-moudle-\u2014\u2014" aria-hidden="true">#</a></h2><h2 id="\u2014\u2014-\u6570\u636E\u7C7B\u578B" tabindex="-1">\u2014\u2014 \u6570\u636E\u7C7B\u578B <a class="header-anchor" href="#\u2014\u2014-\u6570\u636E\u7C7B\u578B" aria-hidden="true">#</a></h2><h2 id="datetime-\u57FA\u672C\u7684\u65E5\u671F\u548C\u65F6\u95F4\u7C7B\u578B" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/datetime.html" target="_blank" rel="noreferrer">datetime--- \u57FA\u672C\u7684\u65E5\u671F\u548C\u65F6\u95F4\u7C7B\u578B</a> <a class="header-anchor" href="#datetime-\u57FA\u672C\u7684\u65E5\u671F\u548C\u65F6\u95F4\u7C7B\u578B" aria-hidden="true">#</a></h2><p><strong>\u5E38\u91CF</strong></p><ul><li>datetime.MINYEAR\u2014\u20141</li><li>datetime.MAXYEAR\u2014\u20149999</li></ul><p><strong>\u7C7B</strong> <br> class <strong>date</strong>time.date \u4E00\u4E2A\u7406\u60F3\u5316\u7684\u7B80\u5355\u578B\u65E5\u671F\uFF0C\u5C5E\u6027: <a href="https://docs.python.org/zh-cn/3/library/datetime.html#datetime.date.year" target="_blank" rel="noreferrer">year</a>,\xA0month, and\xA0day\u3002 <br> class datetime.date(year, month, day)</p><ul><li>classmethod date.today() \u8FD4\u56DE\u5F53\u524D\u7684\u672C\u5730\u65E5\u671F</li><li>classmethod date.fromtimestamp(timestamp) \u8FD4\u56DE\u5BF9\u5E94\u4E8E POSIX \u65F6\u95F4\u6233\u7684\u5F53\u5730\u65F6\u95F4</li><li>classmethod date.fromordinal(ordinal) \u8FD4\u56DE\u5BF9\u5E94\u4E8E\u9884\u671F\u683C\u5217\u9AD8\u5229\u5386\u5E8F\u53F7\u7684\u65E5\u671F</li><li>classmethod date.fromisoformat(date_string) \u8FD4\u56DE\u4E00\u4E2A\u5BF9\u5E94\u4E8E\u4EE5 YYYY-MM-DD \u683C\u5F0F\u7ED9\u51FA\u7684 date_string \u7684 date \u5BF9\u8C61</li></ul><p>\u5B9E\u4F8B\u65B9\u6CD5</p><ul><li>date.replace(year=self.year, month=self.month, day=self.day) \u8FD4\u56DE\u4E00\u4E2A\u5177\u6709\u540C\u6837\u503C\u7684\u65E5\u671F</li><li>date.weekday() \u8FD4\u56DE\u4E00\u4E2A\u6574\u6570\u4EE3\u8868\u661F\u671F\u51E0\uFF0C\u661F\u671F\u4E00\u4E3A0\uFF0C\u661F\u671F\u5929\u4E3A6</li><li>date.isoweekday() \u8FD4\u56DE\u4E00\u4E2A\u6574\u6570\u4EE3\u8868\u661F\u671F\u51E0\uFF0C\u661F\u671F\u4E00\u4E3A1\uFF0C\u661F\u671F\u5929\u4E3A7</li><li>date.isoformat() \u8FD4\u56DE\u4E00\u4E2A\u4EE5 ISO 8601 \u683C\u5F0F YYYY-MM-DD \u6765\u8868\u793A\u65E5\u671F\u7684\u5B57\u7B26\u4E32</li><li>date.strftime(format) \u8FD4\u56DE\u4E00\u4E2A\u7531\u663E\u5F0F\u683C\u5F0F\u5B57\u7B26\u4E32\u6240\u6307\u660E\u7684\u4EE3\u8868\u65E5\u671F\u7684\u5B57\u7B26\u4E32</li></ul><p>class\xA0datetime.<strong>time</strong> <br> \u4E00\u4E2A\u72EC\u7ACB\u4E8E\u4EFB\u4F55\u7279\u5B9A\u65E5\u671F\u7684\u7406\u60F3\u5316\u65F6\u95F4\uFF0C\u5C5E\u6027\uFF1A<a href="https://docs.python.org/zh-cn/3/library/datetime.html#datetime.time.hour" target="_blank" rel="noreferrer">hour</a>,\xA0minute,\xA0second,\xA0microsecond\xA0\u548C\xA0tzinfo</p><p>class datetime.time(hour=0, minute=0, second=0, microsecond=0, tzinfo=None, *, fold=0)</p><ul><li>classmethod time.fromisoformat(time_string)</li><li>time.replace(hour=self.hour, minute=self.minute, second=self.second, microsecond=self.microsecond, tzinfo=self.tzinfo, *, fold=0)</li><li>time.isoformat(timespec=&#39;auto&#39;)</li><li>time.utcoffset() \u5982\u679C tzinfo \u4E3A None\uFF0C\u5219\u8FD4\u56DE None\uFF0C\u5426\u5219\u8FD4\u56DE self.tzinfo.utcoffset(None)</li><li>time.dst() \u5982\u679C tzinfo \u4E3A None\uFF0C\u5219\u8FD4\u56DE None\uFF0C\u5426\u5219\u8FD4\u56DE self.tzinfo.dst(None)</li><li>time.tzname() \u5982\u679C tzinfo \u4E3A None\uFF0C\u5219\u8FD4\u56DE None\uFF0C\u5426\u5219\u8FD4\u56DE self.tzinfo.tzname(None)</li></ul><p>class\xA0datetime.**datetime **\u65E5\u671F\u548C\u65F6\u95F4\u7684\u7ED3\u5408\u3002</p><ul><li>today()</li><li>now(tz=None)</li><li>utcnow()</li><li>fromtimestamp(timestamp,\xA0tz=None)</li><li>utcfromtimestamp(timestamp) \u8FD4\u56DE\u5BF9\u5E94\u4E8E POSIX \u65F6\u95F4\u6233\u7684 UTC datetime\uFF0C\u5176\u4E2D tzinfo \u503C\u4E3A None</li><li>combine(date, time, tzinfo=self.tzinfo) \u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684 datetime \u5BF9\u8C61</li></ul><p>\u5B9E\u4F8B\u65B9\u6CD5</p><ul><li>datetime.date()</li><li>datetime.time() \u8FD4\u56DE\u5177\u6709\u540C\u6837 hour, minute, second, microsecond \u548C fold \u503C\u7684 time \u5BF9\u8C61</li><li>datetime.timetz() \u8FD4\u56DE\u5177\u6709\u540C\u6837 hour, minute, second, microsecond, fold \u548C tzinfo \u5C5E\u6027\u6027\u7684 time \u5BF9\u8C61</li><li>datetime.astimezone(tz=None) \u8FD4\u56DE\u4E00\u4E2A\u5177\u6709\u65B0\u7684 tzinfo \u5C5E\u6027 tz \u7684 datetime \u5BF9\u8C61\uFF0C\u5E76\u4F1A\u8C03\u6574\u65E5\u671F\u548C\u65F6\u95F4\u6570\u636E\u4F7F\u5F97\u7ED3\u679C\u5BF9\u5E94\u7684 UTC \u65F6\u95F4\u4E0E self \u76F8\u540C\uFF0C\u4F46\u4E3A tz \u65F6\u533A\u7684\u672C\u5730\u65F6\u95F4</li><li>datetime.timestamp() \u8FD4\u56DE\u5BF9\u5E94\u4E8E datetime \u5B9E\u4F8B\u7684 POSIX \u65F6\u95F4\u6233</li><li>datetime.isoformat(sep=&#39;T&#39;, timespec=&#39;auto&#39;) \u8FD4\u56DE\u4E00\u4E2A\u4EE5 ISO 8601 \u683C\u5F0F\u8868\u793A\u7684\u65E5\u671F\u548C\u65F6\u95F4\u5B57\u7B26\u4E32</li><li>&#39;auto&#39;: \u5982\u679C\xA0microsecond\xA0\u4E3A 0 \u5219\u4E0E\xA0&#39;seconds&#39;\xA0\u76F8\u540C\uFF0C\u5426\u5219\u4E0E\xA0&#39;microseconds&#39;\xA0\u76F8\u540C\u3002</li><li>&#39;hours&#39;: \u4EE5\u4E24\u4E2A\u6570\u7801\u7684\xA0HH\xA0\u683C\u5F0F \u5305\u542B\xA0hour\u3002</li><li>&#39;minutes&#39;: \u4EE5\xA0HH:MM\xA0\u683C\u5F0F\u5305\u542B\xA0hour\xA0\u548C\xA0minute\u3002</li><li>&#39;seconds&#39;: \u4EE5\xA0HH:MM:SS\xA0\u683C\u5F0F\u5305\u542B\xA0hour,\xA0minute\xA0\u548C\xA0second\u3002</li><li>&#39;milliseconds&#39;: \u5305\u542B\u5B8C\u6574\u65F6\u95F4\uFF0C\u4F46\u5C06\u79D2\u503C\u7684\u5C0F\u6570\u90E8\u5206\u622A\u65AD\u81F3\u5FAE\u79D2\u3002 \u683C\u5F0F\u4E3A\xA0HH:MM:SS.sss</li><li>&#39;microseconds&#39;: \u4EE5\xA0HH:MM:SS.ffffff\xA0\u683C\u5F0F\u5305\u542B\u5B8C\u6574\u65F6\u95F4\u3002</li></ul><p>class\xA0datetime.**timedelta **\u8868\u793A\u4E24\u4E2A date \u6216\u8005 time \u7684\u65F6\u95F4\u95F4\u9694\uFF0C\u7CBE\u786E\u5230\u5FAE\u79D2 <br> class datetime.timedelta(days=0, seconds=0, microseconds=0, milliseconds=0, minutes=0, hours=0, weeks=0) <br> \u6240\u6709\u53C2\u6570\u90FD\u662F\u53EF\u9009\u7684\u5E76\u4E14\u9ED8\u8BA4\u4E3A 0\u3002 \u8FD9\u4E9B\u53C2\u6570\u53EF\u4EE5\u662F\u6574\u6570\u6216\u8005\u6D6E\u70B9\u6570\uFF0C\u4E5F\u53EF\u4EE5\u662F\u6B63\u6570\u6216\u8005\u8D1F\u6570\u3002</p><ul><li>timedelta.total_seconds()</li></ul><p>class\xA0datetime.<strong>timezone</strong> \u4E00\u4E2A\u5B9E\u73B0\u4E86 <a href="https://docs.python.org/zh-cn/3/library/datetime.html#datetime.tzinfo" target="_blank" rel="noreferrer">tzinfo</a> \u62BD\u8C61\u57FA\u7C7B\u7684\u5B50\u7C7B\uFF0C\u7528\u4E8E\u8868\u793A\u76F8\u5BF9\u4E8E \u4E16\u754C\u6807\u51C6\u65F6\u95F4\uFF08UTC\uFF09\u7684\u504F\u79FB\u91CF\u3002 <br> class datetime.timezone(offset, name=None) offset \u9650\u5236\u4E8E -timedelta(hours=24) \u548C timedelta(hours=24) \u4E4B\u95F4 <br> \u65F6\u533A\u8F6C\u6362</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">from datetime </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> datetime</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> timedelta</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> timezone</span></span>
<span class="line"><span style="color:#A6ACCD;">utc_8 = timezone(timedelta(hours=8))</span></span>
<span class="line"><span style="color:#A6ACCD;">start = datetime.fromisoformat(datetime.now().date().isoformat()).replace(tzinfo=utc_8)</span></span>
<span class="line"><span style="color:#A6ACCD;">end = start + timedelta(days=1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> hours=3)</span></span>
<span class="line"><span style="color:#A6ACCD;">print(</span></span>
<span class="line"><span style="color:#A6ACCD;">    start.astimezone(tz=timezone.utc).isoformat(timespec=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">milliseconds</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    end.astimezone(tz=timezone.utc).isoformat()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    datetime.today().isoformat(timespec=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">milliseconds</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    datetime.fromisoformat(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2021-10-20T05:41:27</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">).isoformat()</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>strftime(format) \uFF1A\u521B\u5EFA\u7531\u4E00\u4E2A\u663E\u5F0F\u683C\u5F0F\u5B57\u7B26\u4E32\u6240\u63A7\u5236\u7684\u8868\u793A\u65F6\u95F4\u7684\u5B57\u7B26\u4E32\u3002 <br> strptime(date_string,\xA0format)\uFF1A\u6839\u636E\u8868\u793A\u65E5\u671F\u548C\u65F6\u95F4\u7684\u5B57\u7B26\u4E32\u548C\u76F8\u5E94\u7684\u683C\u5F0F\u5B57\u7B26\u4E32\u6765\u521B\u5EFA\u4E00\u4E2A datetime \u5BF9\u8C61\u3002</p><table><thead><tr><th>\u6307\u4EE4</th><th>\u542B\u4E49</th></tr></thead><tbody><tr><td>%a</td><td>\u672C\u5730\u5316\u7684\u7F29\u5199\u661F\u671F\u4E2D\u6BCF\u65E5\u7684\u540D\u79F0\u3002</td></tr><tr><td>%A</td><td>\u672C\u5730\u5316\u7684\u661F\u671F\u4E2D\u6BCF\u65E5\u7684\u5B8C\u6574\u540D\u79F0\u3002</td></tr><tr><td>%b</td><td>\u672C\u5730\u5316\u7684\u6708\u7F29\u5199\u540D\u79F0\u3002</td></tr><tr><td>%B</td><td>\u672C\u5730\u5316\u7684\u6708\u5B8C\u6574\u540D\u79F0\u3002</td></tr><tr><td>%c</td><td>\u672C\u5730\u5316\u7684\u9002\u5F53\u65E5\u671F\u548C\u65F6\u95F4\u8868\u793A\u3002</td></tr><tr><td>%d</td><td>\u5341\u8FDB\u5236\u6570 [01,31] \u8868\u793A\u7684\u6708\u4E2D\u65E5\u3002</td></tr><tr><td>%H</td><td>\u5341\u8FDB\u5236\u6570 [00,23] \u8868\u793A\u7684\u5C0F\u65F6\uFF0824\u5C0F\u65F6\u5236\uFF09\u3002</td></tr><tr><td>%I</td><td>\u5341\u8FDB\u5236\u6570 [01,12] \u8868\u793A\u7684\u5C0F\u65F6\uFF0812\u5C0F\u65F6\u5236\uFF09\u3002</td></tr><tr><td>%j</td><td>\u5341\u8FDB\u5236\u6570 [001,366] \u8868\u793A\u7684\u5E74\u4E2D\u65E5\u3002</td></tr><tr><td>%m</td><td>\u5341\u8FDB\u5236\u6570 [01,12] \u8868\u793A\u7684\u6708\u3002</td></tr><tr><td>%M</td><td>\u5341\u8FDB\u5236\u6570 [00,59] \u8868\u793A\u7684\u5206\u949F\u3002</td></tr><tr><td>%p</td><td>\u672C\u5730\u5316\u7684 AM \u6216 PM \u3002</td></tr><tr><td>%S</td><td>\u5341\u8FDB\u5236\u6570 [00,61] \u8868\u793A\u7684\u79D2\u3002</td></tr><tr><td>%U</td><td>\u5341\u8FDB\u5236\u6570 [00,53] \u8868\u793A\u7684\u4E00\u5E74\u4E2D\u7684\u5468\u6570\uFF08\u661F\u671F\u65E5\u4F5C\u4E3A\u4E00\u5468\u7684\u7B2C\u4E00\u5929\uFF09\u4F5C\u4E3A\u3002\u5728\u7B2C\u4E00\u4E2A\u661F\u671F\u65E5\u4E4B\u524D\u7684\u65B0\u5E74\u4E2D\u7684\u6240\u6709\u65E5\u5B50\u90FD\u88AB\u8BA4\u4E3A\u662F\u5728\u7B2C0\u5468\u3002</td></tr><tr><td>%w</td><td>\u5341\u8FDB\u5236\u6570 [0(\u661F\u671F\u65E5),6] \u8868\u793A\u7684\u5468\u4E2D\u65E5\u3002</td></tr><tr><td>%W</td><td>\u5341\u8FDB\u5236\u6570 [00,53] \u8868\u793A\u7684\u4E00\u5E74\u4E2D\u7684\u5468\u6570\uFF08\u661F\u671F\u4E00\u4F5C\u4E3A\u4E00\u5468\u7684\u7B2C\u4E00\u5929\uFF09\u4F5C\u4E3A\u3002\u5728\u7B2C\u4E00\u4E2A\u661F\u671F\u4E00\u4E4B\u524D\u7684\u65B0\u5E74\u4E2D\u7684\u6240\u6709\u65E5\u5B50\u88AB\u8BA4\u4E3A\u662F\u5728\u7B2C0\u5468\u3002</td></tr><tr><td>%x</td><td>\u672C\u5730\u5316\u7684\u9002\u5F53\u65E5\u671F\u8868\u793A\u3002</td></tr><tr><td>%X</td><td>\u672C\u5730\u5316\u7684\u9002\u5F53\u65F6\u95F4\u8868\u793A\u3002</td></tr><tr><td>%y</td><td>\u5341\u8FDB\u5236\u6570 [00,99] \u8868\u793A\u7684\u6CA1\u6709\u4E16\u7EAA\u7684\u5E74\u4EFD\u3002</td></tr><tr><td>%Y</td><td>\u5341\u8FDB\u5236\u6570\u8868\u793A\u7684\u5E26\u4E16\u7EAA\u7684\u5E74\u4EFD\u3002</td></tr><tr><td>%z</td><td>\u65F6\u533A\u504F\u79FB\u4EE5\u683C\u5F0F +HHMM \u6216 -HHMM \u5F62\u5F0F\u7684 UTC/GMT \u7684\u6B63\u6216\u8D1F\u65F6\u5DEE\u6307\u793A\uFF0C\u5176\u4E2DH\u8868\u793A\u5341\u8FDB\u5236\u5C0F\u65F6\u6570\u5B57\uFF0CM\u8868\u793A\u5C0F\u6570\u5206\u949F\u6570\u5B57 [-23:59, +23:59] \u3002</td></tr><tr><td>%Z</td><td>\u65F6\u533A\u540D\u79F0\uFF08\u5982\u679C\u4E0D\u5B58\u5728\u65F6\u533A\uFF0C\u5219\u4E0D\u5305\u542B\u5B57\u7B26\uFF09\u3002</td></tr></tbody></table><p>str\u4E92\u6362datetime</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> from datetime </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> datetime</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; cday = datetime.strptime(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2015-6-1 18:19:59</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%Y-%m-%d %H:%M:%S</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; print(cday)</span></span>
<span class="line"><span style="color:#A6ACCD;">2015-06-01 18:19:59</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; now = datetime.now()</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; print(now.strftime(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%Y{y}%m{m}%d{d}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">).format(y=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u5E74</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">m=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u6708</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">d=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u65E5</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">2020\u5E7410\u670818\u65E5</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="time-\u65F6\u95F4\u7684\u8BBF\u95EE\u548C\u8F6C\u6362" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/time.html" target="_blank" rel="noreferrer">time--- \u65F6\u95F4\u7684\u8BBF\u95EE\u548C\u8F6C\u6362</a> <a class="header-anchor" href="#time-\u65F6\u95F4\u7684\u8BBF\u95EE\u548C\u8F6C\u6362" aria-hidden="true">#</a></h2><table><thead><tr><th>\u4ECE</th><th>\u5230</th><th>\u4F7F\u7528</th></tr></thead><tbody><tr><td>\u81EA\u7EAA\u5143\u4EE5\u6765\u7684\u79D2\u6570</td><td>UTC \u7684 <a href="https://docs.python.org/zh-cn/3/library/time.html#time.struct_time" target="_blank" rel="noreferrer">struct_time</a></td><td><a href="https://docs.python.org/zh-cn/3/library/time.html#time.gmtime" target="_blank" rel="noreferrer">gmtime()</a></td></tr><tr><td>\u81EA\u7EAA\u5143\u4EE5\u6765\u7684\u79D2\u6570</td><td>\u672C\u5730\u65F6\u95F4\u7684 <a href="https://docs.python.org/zh-cn/3/library/time.html#time.struct_time" target="_blank" rel="noreferrer">struct_time</a></td><td><a href="https://docs.python.org/zh-cn/3/library/time.html#time.localtime" target="_blank" rel="noreferrer">localtime()</a></td></tr><tr><td>UTC \u7684 <a href="https://docs.python.org/zh-cn/3/library/time.html#time.struct_time" target="_blank" rel="noreferrer">struct_time</a></td><td>\u81EA\u7EAA\u5143\u4EE5\u6765\u7684\u79D2\u6570</td><td><a href="https://docs.python.org/zh-cn/3/library/calendar.html#calendar.timegm" target="_blank" rel="noreferrer">calendar.timegm()</a></td></tr><tr><td>\u672C\u5730\u65F6\u95F4\u7684 <a href="https://docs.python.org/zh-cn/3/library/time.html#time.struct_time" target="_blank" rel="noreferrer">struct_time</a></td><td>\u81EA\u7EAA\u5143\u4EE5\u6765\u7684\u79D2\u6570</td><td><a href="https://docs.python.org/zh-cn/3/library/time.html#time.mktime" target="_blank" rel="noreferrer">mktime()</a></td></tr></tbody></table><p><strong>class time.struct_time</strong></p><table><thead><tr><th>\u7D22\u5F15</th><th>\u5C5E\u6027</th><th>\u503C</th></tr></thead><tbody><tr><td>0</td><td>tm_year</td><td>\uFF08\u4F8B\u5982\uFF0C1993\uFF09</td></tr><tr><td>1</td><td>tm_mon</td><td>range [1, 12]</td></tr><tr><td>2</td><td>tm_mday</td><td>range [1, 31]</td></tr><tr><td>3</td><td>tm_hour</td><td>range [0, 23]</td></tr><tr><td>4</td><td>tm_min</td><td>range [0, 59]</td></tr><tr><td>5</td><td>tm_sec</td><td>range [0, 61]</td></tr><tr><td>6</td><td>tm_wday</td><td>range [0, 6] \uFF0C\u5468\u4E00\u4E3A 0</td></tr><tr><td>7</td><td>tm_yday</td><td>range [1, 366]</td></tr><tr><td>8</td><td>tm_isdst</td><td>0, 1 \u6216 -1\uFF1B\u5982\u4E0B\u6240\u793A</td></tr><tr><td>N/A</td><td>tm_zone</td><td>\u65F6\u533A\u540D\u79F0\u7684\u7F29\u5199</td></tr><tr><td>N/A</td><td>tm_gmtoff</td><td>\u4EE5\u79D2\u4E3A\u5355\u4F4D\u7684UTC\u4EE5\u4E1C\u504F\u79BB</td></tr></tbody></table><ul><li>time.sleep(secs)\uFF1A\u6682\u505C\u6267\u884C\u8C03\u7528\u7EBF\u7A0B\u8FBE\u5230\u7ED9\u5B9A\u7684\u79D2\u6570</li><li>time.time() \uFF1A\u8FD4\u56DE\u4EE5\u6D6E\u70B9\u6570\u8868\u793A\u7684\u4ECE epoch \u5F00\u59CB\u7684\u79D2\u6570\u7684\u65F6\u95F4\u503C</li><li>time.ctime([secs])\uFF1A\u8F6C\u6362\u4EE5\u8DDD\u79BB\u521D\u59CB\u7EAA\u5143\u7684\u79D2\u6570\u8868\u793A\u7684\u65F6\u95F4\uFF0C\u5F62\u5F0F &#39;Sun Jun 20 23:21:05 1993&#39; \u4EE3\u8868\u672C\u5730\u65F6\u95F4</li><li>time.strftime(format[, t])\uFF1A\u8F6C\u6362\u4E00\u4E2A\u5143\u7EC4\u6216 struct_time \u8868\u793A\u7684\u7531 gmtime() \u6216 localtime() \u8FD4\u56DE\u7684\u65F6\u95F4\u5230\u7531 format \u53C2\u6570\u6307\u5B9A\u7684\u5B57\u7B26\u4E32</li><li>time.strptime(string[, format])\uFF1A\u6839\u636E\u683C\u5F0F\u89E3\u6790\u8868\u793A\u65F6\u95F4\u7684\u5B57\u7B26\u4E32</li></ul><h2 id="collections-\u5BB9\u5668\u6570\u636E\u7C7B\u578B" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/collections.html" target="_blank" rel="noreferrer">collections--- \u5BB9\u5668\u6570\u636E\u7C7B\u578B</a> <a class="header-anchor" href="#collections-\u5BB9\u5668\u6570\u636E\u7C7B\u578B" aria-hidden="true">#</a></h2><table><thead><tr><th><a href="https://docs.python.org/zh-cn/3/library/collections.html#collections.namedtuple" target="_blank" rel="noreferrer">namedtuple()</a></th><th>\u521B\u5EFA\u547D\u540D\u5143\u7EC4\u5B50\u7C7B\u7684\u5DE5\u5382\u51FD\u6570</th></tr></thead><tbody><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.html#collections.deque" target="_blank" rel="noreferrer">deque</a></td><td>\u7C7B\u4F3C\u5217\u8868(list)\u7684\u5BB9\u5668\uFF0C\u5B9E\u73B0\u4E86\u5728\u4E24\u7AEF\u5FEB\u901F\u6DFB\u52A0(append)\u548C\u5F39\u51FA(pop)</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.html#collections.ChainMap" target="_blank" rel="noreferrer">ChainMap</a></td><td>\u7C7B\u4F3C\u5B57\u5178(dict)\u7684\u5BB9\u5668\u7C7B\uFF0C\u5C06\u591A\u4E2A\u6620\u5C04\u96C6\u5408\u5230\u4E00\u4E2A\u89C6\u56FE\u91CC\u9762</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.html#collections.Counter" target="_blank" rel="noreferrer">Counter</a></td><td>\u5B57\u5178\u7684\u5B50\u7C7B\uFF0C\u63D0\u4F9B\u4E86\u53EF\u54C8\u5E0C\u5BF9\u8C61\u7684\u8BA1\u6570\u529F\u80FD</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.html#collections.OrderedDict" target="_blank" rel="noreferrer">OrderedDict</a></td><td>\u5B57\u5178\u7684\u5B50\u7C7B\uFF0C\u4FDD\u5B58\u4E86\u4ED6\u4EEC\u88AB\u6DFB\u52A0\u7684\u987A\u5E8F</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.html#collections.defaultdict" target="_blank" rel="noreferrer">defaultdict</a></td><td>\u5B57\u5178\u7684\u5B50\u7C7B\uFF0C\u63D0\u4F9B\u4E86\u4E00\u4E2A\u5DE5\u5382\u51FD\u6570\uFF0C\u4E3A\u5B57\u5178\u67E5\u8BE2\u63D0\u4F9B\u4E00\u4E2A\u9ED8\u8BA4\u503C</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.html#collections.UserDict" target="_blank" rel="noreferrer">UserDict</a></td><td>\u5C01\u88C5\u4E86\u5B57\u5178\u5BF9\u8C61\uFF0C\u7B80\u5316\u4E86\u5B57\u5178\u5B50\u7C7B\u5316</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.html#collections.UserList" target="_blank" rel="noreferrer">UserList</a></td><td>\u5C01\u88C5\u4E86\u5217\u8868\u5BF9\u8C61\uFF0C\u7B80\u5316\u4E86\u5217\u8868\u5B50\u7C7B\u5316</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.html#collections.UserString" target="_blank" rel="noreferrer">UserString</a></td><td>\u5C01\u88C5\u4E86\u5217\u8868\u5BF9\u8C61\uFF0C\u7B80\u5316\u4E86\u5B57\u7B26\u4E32\u5B50\u7C7B\u5316</td></tr></tbody></table><h3 id="namedtuple" tabindex="-1">namedtuple <a class="header-anchor" href="#namedtuple" aria-hidden="true">#</a></h3><p>*<em>namedtuple(typename, field_names, <em>, rename=False, defaults=None, module=None)</em></em> <br> \u5143\u7EC4\u5B50\u7C7B\uFF0C\u53EF\u4EE5\u901A\u8FC7\u57DF\u540D\u6765\u83B7\u53D6\u5C5E\u6027\u503C\uFF0C\u4E5F\u53EF\u4EE5\u901A\u8FC7\u7D22\u5F15\u548C\u8FED\u4EE3\u83B7\u53D6\u503C\u3002</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> from collections </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> namedtuple</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; Point = namedtuple(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Point</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">x</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">y</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; p = Point(1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> 2)</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; p.x</span></span>
<span class="line"><span style="color:#A6ACCD;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; p.y</span></span>
<span class="line"><span style="color:#A6ACCD;">2</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="deque" tabindex="-1">deque <a class="header-anchor" href="#deque" aria-hidden="true">#</a></h3><p><strong>class\xA0collections.deque([iterable[,\xA0maxlen]])</strong> \u53CC\u5411\u961F\u5217</p><ul><li>append(x) \u6DFB\u52A0 x \u5230\u53F3\u7AEF\u3002</li><li>appendleft(x) \u6DFB\u52A0 x \u5230\u5DE6\u7AEF\u3002</li><li>clear() \u79FB\u9664\u6240\u6709\u5143\u7D20\uFF0C\u4F7F\u5176\u957F\u5EA6\u4E3A0.</li><li>copy() \u521B\u5EFA\u4E00\u4EFD\u6D45\u62F7\u8D1D\u3002</li><li>count(x) \u8BA1\u7B97deque\u4E2D\u4E2A\u6570\u7B49\u4E8E x \u7684\u5143\u7D20\u3002</li><li>extend(iterable) \u6269\u5C55deque\u7684\u53F3\u4FA7\uFF0C\u901A\u8FC7\u6DFB\u52A0iterable\u53C2\u6570\u4E2D\u7684\u5143\u7D20\u3002</li><li>extendleft(iterable) \u6269\u5C55deque\u7684\u5DE6\u4FA7\u3002\u5DE6\u6DFB\u52A0\u65F6\uFF0C\u5728\u7ED3\u679C\u4E2Diterable\u53C2\u6570\u4E2D\u7684\u987A\u5E8F\u5C06\u88AB\u53CD\u8FC7\u6765\u6DFB\u52A0\u3002</li><li>index(x[, start[, stop]]) \u8FD4\u56DE\u7B2C x \u4E2A\u5143\u7D20\uFF08\u4ECE start \u5F00\u59CB\u8BA1\u7B97\uFF0C\u5728 stop \u4E4B\u524D\uFF09\u3002\u8FD4\u56DE\u7B2C\u4E00\u4E2A\u5339\u914D\uFF0CValueError \u3002</li><li>insert(i, x) \u5728\u4F4D\u7F6E i \u63D2\u5165 x (\u5982\u679C\u63D2\u5165\u4F1A\u5BFC\u81F4\u4E00\u4E2A\u9650\u957Fdeque\u8D85\u51FA\u957F\u5EA6 maxlen \u7684\u8BDD\uFF0C\u5C31\u5347\u8D77\u4E00\u4E2A IndexError )</li><li>pop() \u79FB\u53BB\u5E76\u4E14\u8FD4\u56DE\u4E00\u4E2A\u5143\u7D20\uFF0Cdeque\u6700\u53F3\u4FA7\u7684\u90A3\u4E00\u4E2A\u3002\u5982\u679C\u6CA1\u6709\u5143\u7D20\u7684\u8BDD\uFF0C\u5C31\u5347\u8D77 IndexError \u7D22\u5F15\u9519\u8BEF\u3002</li><li>popleft() \u79FB\u53BB\u5E76\u4E14\u8FD4\u56DE\u4E00\u4E2A\u5143\u7D20\uFF0Cdeque\u6700\u5DE6\u4FA7\u7684\u90A3\u4E00\u4E2A\u3002\u5982\u679C\u6CA1\u6709\u5143\u7D20\u7684\u8BDD\uFF0C\u5C31\u5347\u8D77 IndexError \u7D22\u5F15\u9519\u8BEF\u3002</li><li>remove(value) \u79FB\u53BB\u627E\u5230\u7684\u7B2C\u4E00\u4E2A value\u3002 \u5982\u679C\u6CA1\u6709\u7684\u8BDD\u5C31\u5347\u8D77 ValueError \u3002</li><li>reverse() \u5C06deque\u9006\u5E8F\u6392\u5217\u3002\u8FD4\u56DE None \u3002</li><li>rotate(n=1) \u5411\u53F3\u5FAA\u73AF\u79FB\u52A8 n \u6B65\u3002 \u5982\u679C n \u662F\u8D1F\u6570\uFF0C\u5C31\u5411\u5DE6\u5FAA\u73AF\u3002</li></ul><p>\u5982\u679Cdeque\u4E0D\u662F\u7A7A\u7684\uFF0C\u5411\u53F3\u5FAA\u73AF\u79FB\u52A8\u4E00\u6B65\u5C31\u7B49\u4EF7\u4E8E d.appendleft(d.pop()) \uFF0C \u5411\u5DE6\u5FAA\u73AF\u4E00\u6B65\u5C31\u7B49\u4EF7\u4E8E d.append(d.popleft()) \u3002</p><p>\u53EA\u8BFB\u5C5E\u6027: <strong>maxlen</strong>\u2014\u2014Deque\u7684\u6700\u5927\u5C3A\u5BF8\uFF0C\u5982\u679C\u6CA1\u6709\u9650\u5B9A\u7684\u8BDD\u5C31\u662F None \u3002</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> from collections </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> deque</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; d = deque(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ghi</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)                 # make a new deque with three items</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; for elem in d:                   # iterate over the deque</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s elements</span></span>
<span class="line"><span style="color:#A6ACCD;">...     print(elem.upper())</span></span>
<span class="line"><span style="color:#A6ACCD;">G</span></span>
<span class="line"><span style="color:#A6ACCD;">H</span></span>
<span class="line"><span style="color:#A6ACCD;">I</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; d.append(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">j</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)                    # add a new entry to the right side</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; d.appendleft(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">f</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)                # add a new entry to the left side</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; d                                # show the representation of the deque</span></span>
<span class="line"><span style="color:#A6ACCD;">deque([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">f</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">g</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">j</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; d.pop()                          # return and remove the rightmost item</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">j</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; d.popleft()                      # return and remove the leftmost item</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">f</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; list(d)                          # list the contents of the deque</span></span>
<span class="line"><span style="color:#A6ACCD;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">g</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; d[0]                             # peek at leftmost item</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">g</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; d[-1]                            # peek at rightmost item</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">i</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; list(reversed(d))                # list the contents of a deque in reverse</span></span>
<span class="line"><span style="color:#A6ACCD;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">g</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> in d                         # search the deque</span></span>
<span class="line"><span style="color:#A6ACCD;">True</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; d.extend(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">jkl</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)                  # add multiple elements at once</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; d</span></span>
<span class="line"><span style="color:#A6ACCD;">deque([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">g</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">j</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">k</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">l</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; d.rotate(1)                      # right rotation</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; d</span></span>
<span class="line"><span style="color:#A6ACCD;">deque([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">l</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">g</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">j</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">k</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; d.rotate(-1)                     # left rotation</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; d</span></span>
<span class="line"><span style="color:#A6ACCD;">deque([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">g</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">j</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">k</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">l</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; deque(reversed(d))               # make a new deque in reverse order</span></span>
<span class="line"><span style="color:#A6ACCD;">deque([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">l</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">k</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">j</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">g</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; d.clear()                        # empty the deque</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; d.pop()                          # cannot pop </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> an empty deque</span></span>
<span class="line"><span style="color:#82AAFF;">Traceback</span><span style="color:#A6ACCD;"> (most recent call last):</span></span>
<span class="line"><span style="color:#A6ACCD;">    File </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&lt;pyshell#6&gt;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> line </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">toplevel</span><span style="color:#89DDFF;">-</span></span>
<span class="line"><span style="color:#A6ACCD;">        d</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">pop</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#FFCB6B;">IndexError</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> pop from an empty deque</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> d</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">extendleft</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)              # </span><span style="color:#82AAFF;">extendleft</span><span style="color:#A6ACCD;">() reverses the input order</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> d</span></span>
<span class="line"><span style="color:#82AAFF;">deque</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">])</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h3 id="counter" tabindex="-1">Counter <a class="header-anchor" href="#counter" aria-hidden="true">#</a></h3><p><strong>class collections.Counter([iterable-or-mapping])</strong> <br> \u5B57\u5178\u7684\u5B50\u7C7B\uFF0C\u4E0D\u9650\u5236\u952E\u548C\u503C</p><ul><li>elements()\uFF1A\u8FD4\u56DE\u4E00\u4E2A\u8FED\u4EE3\u5668\uFF0C\u5176\u4E2D\u6BCF\u4E2A\u5143\u7D20\u5C06\u91CD\u590D\u51FA\u73B0\u8BA1\u6570\u503C\u6240\u6307\u5B9A\u6B21\u3002 \u5143\u7D20\u4F1A\u6309\u9996\u6B21\u51FA\u73B0\u7684\u987A\u5E8F\u8FD4\u56DE\u3002 \u5982\u679C\u4E00\u4E2A\u5143\u7D20\u7684\u8BA1\u6570\u503C&lt;1\uFF0C\u5FFD\u7565\u3002</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> c </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Counter</span><span style="color:#A6ACCD;">(a</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> b</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> c</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> d</span><span style="color:#89DDFF;">=-</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">sorted</span><span style="color:#A6ACCD;">(c</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">elements</span><span style="color:#A6ACCD;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>most_common([n])\uFF1A\u8FD4\u56DE\u4E00\u4E2A\u5217\u8868\uFF0C\u5176\u4E2D\u5305\u542B\xA0n\xA0\u4E2A\u6700\u5E38\u89C1\u7684\u5143\u7D20\u53CA\u51FA\u73B0\u6B21\u6570\uFF0C\u6309\u5E38\u89C1\u7A0B\u5EA6\u7531\u9AD8\u5230\u4F4E\u6392\u5E8F\u3002 \u5982\u679C\xA0n\xA0\u88AB\u7701\u7565\u6216\u4E3A\xA0None\uFF0C\u8FD4\u56DE\u8BA1\u6570\u5668\u4E2D\u7684\xA0\u6240\u6709\xA0\u5143\u7D20\u3002 \u8BA1\u6570\u503C\u76F8\u7B49\u7684\u5143\u7D20\u6309\u9996\u6B21\u51FA\u73B0\u7684\u987A\u5E8F\u6392\u5E8F\uFF1A</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Counter</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abracadabra</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">most_common</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">[(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>subtract([iterable-or-mapping])\uFF1A\u4ECE\xA0\u8FED\u4EE3\u5BF9\u8C61\xA0\u6216\xA0\u6620\u5C04\u5BF9\u8C61\xA0\u51CF\u53BB\u5143\u7D20\u3002\u8F93\u5165\u548C\u8F93\u51FA\u90FD\u53EF\u4EE5\u662F0\u6216\u8005\u8D1F\u6570\u3002</li><li>update([iterable-or-mapping])\uFF1A\u4ECE\xA0\u8FED\u4EE3\u5BF9\u8C61 \u8BA1\u6570\u5143\u7D20\u6216\u8005 \u4ECE\u53E6\u4E00\u4E2A\xA0\u6620\u5C04\u5BF9\u8C61\xA0(\u6216\u8BA1\u6570\u5668) \u6DFB\u52A0\u3002\u8FED\u4EE3\u5BF9\u8C61\xA0\u5E94\u8BE5\u662F\u5E8F\u5217\u5143\u7D20\uFF0C\u800C\u4E0D\u662F\u4E00\u4E2A\xA0(key,\xA0value)\xA0\u5BF9\u3002</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> c </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Counter</span><span style="color:#A6ACCD;">(a</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> b</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> d </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Counter</span><span style="color:#A6ACCD;">(a</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> b</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> c </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> d                       # add two counters </span><span style="color:#FFCB6B;">together</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">  c[x] </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> d[x]</span></span>
<span class="line"><span style="color:#82AAFF;">Counter</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> c </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> d                       # </span><span style="color:#82AAFF;">subtract</span><span style="color:#A6ACCD;"> (keeping only positive counts)</span></span>
<span class="line"><span style="color:#82AAFF;">Counter</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> c </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> d                       # </span><span style="color:#FFCB6B;">intersection</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">min</span><span style="color:#A6ACCD;">(c[x]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> d[x]) </span></span>
<span class="line"><span style="color:#82AAFF;">Counter</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> c </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> d                       # </span><span style="color:#FFCB6B;">union</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">max</span><span style="color:#A6ACCD;">(c[x]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> d[x])</span></span>
<span class="line"><span style="color:#82AAFF;">Counter</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> c </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Counter</span><span style="color:#A6ACCD;">(a</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> b</span><span style="color:#89DDFF;">=-</span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">c</span></span>
<span class="line"><span style="color:#82AAFF;">Counter</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">c</span></span>
<span class="line"><span style="color:#82AAFF;">Counter</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="defaultdict" tabindex="-1">defaultdict <a class="header-anchor" href="#defaultdict" aria-hidden="true">#</a></h3><p><strong>class collections.defaultdict([default_factory[, ...]])</strong> <br> \u53EF\u4EE5\u4E00\u4E2A\u952E\u6620\u5C04\u591A\u4E2A\u503C\u7684\u9ED8\u8BA4\u503C\u5B57\u5178</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> from collections </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> defaultdict</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; dd = defaultdict(lambda: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">N/A</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; dd[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">key1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">] = </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; dd[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">key1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">] # key1\u5B58\u5728</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; dd[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">key2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">] # key2\u4E0D\u5B58\u5728\uFF0C\u8FD4\u56DE\u9ED8\u8BA4\u503C</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">N/A</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">s </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">blue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">blue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">blue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">)]</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> d </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defaultdict</span><span style="color:#A6ACCD;">(set)</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> for k</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> v </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">s</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">     d[k]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(v)</span></span>
<span class="line"><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">sorted</span><span style="color:#A6ACCD;">(d</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">items</span><span style="color:#A6ACCD;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">[(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">blue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="ordereddict" tabindex="-1">OrderedDict <a class="header-anchor" href="#ordereddict" aria-hidden="true">#</a></h3><p><strong>class\xA0collections.OrderedDict([items])</strong></p><ul><li>popitem(last=True)\uFF1A\u79FB\u9664\u5E76\u8FD4\u56DE\u4E00\u4E2A (key, value) \u952E\u503C\u5BF9\u3002 \u5982\u679C\xA0last\xA0\u503C\u4E3A\u771F\uFF0C\u5219\u6309\xA0LIFO\xA0\u540E\u8FDB\u5148\u51FA\u7684\u987A\u5E8F\u8FD4\u56DE\u952E\u503C\u5BF9\uFF0C\u5426\u5219\u5C31\u6309\xA0FIFO\xA0\u5148\u8FDB\u5148\u51FA\u7684\u987A\u5E8F\u8FD4\u56DE\u952E\u503C\u5BF9\u3002</li><li>move_to_end(key,\xA0last=True)\uFF1A\u5C06\u73B0\u6709\xA0key\xA0\u79FB\u52A8\u5230\u6709\u5E8F\u5B57\u5178\u7684\u4EFB\u4E00\u7AEF\u3002 \u5982\u679C\xA0last\xA0\u4E3A\u771F\u503C\uFF08\u9ED8\u8BA4\uFF09\u5219\u5C06\u5143\u7D20\u79FB\u81F3\u672B\u5C3E\uFF1B\u5982\u679C\xA0last\xA0\u4E3A\u5047\u503C\u5219\u5C06\u5143\u7D20\u79FB\u81F3\u5F00\u5934\u3002\u5982\u679C\xA0key\xA0\u4E0D\u5B58\u5728\u5219\u4F1A\u89E6\u53D1\xA0KeyError</li></ul><h3 id="chainmap" tabindex="-1">ChainMap <a class="header-anchor" href="#chainmap" aria-hidden="true">#</a></h3><p>*<em>class collections.ChainMap(<em>maps)</em></em> <br> \u5C06\u591A\u4E2A\u6620\u5C04\u5FEB\u901F\u7684\u94FE\u63A5\u5230\u4E00\u8D77 <br> \u652F\u6301\u6240\u6709\u5E38\u7528\u5B57\u5178\u65B9\u6CD5\u3002\u8FD8\u6709\u4E00\u4E2A\xA0maps\xA0\u5C5E\u6027(attribute)\uFF0C\u4E00\u4E2A\u521B\u5EFA\u5B50\u4E0A\u4E0B\u6587\u7684\u65B9\u6CD5(method)\uFF0C \u4E00\u4E2A\u5B58\u53D6\u5B83\u4EEC\u9996\u4E2A\u6620\u5C04\u7684\u5C5E\u6027(property)</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">x</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">z</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">y</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">z</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> merged </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ChainMap</span><span style="color:#A6ACCD;">(a</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> b)</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> merged[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">x</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> a[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">x</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">] </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">42</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> merged[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">x</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">] # Notice change to merged dicts</span></span>
<span class="line"><span style="color:#F78C6C;">42</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="queue-\u4E00\u4E2A\u540C\u6B65\u7684\u961F\u5217\u7C7B" tabindex="-1">queue\xA0--- \u4E00\u4E2A\u540C\u6B65\u7684\u961F\u5217\u7C7B <a class="header-anchor" href="#queue-\u4E00\u4E2A\u540C\u6B65\u7684\u961F\u5217\u7C7B" aria-hidden="true">#</a></h2><p><strong>class queue.Queue(maxsize=0) FIFO</strong> <br> maxsize \u7528\u4E8E\u8BBE\u7F6E\u53EF\u4EE5\u653E\u5165\u961F\u5217\u4E2D\u7684\u9879\u76EE\u6570\u7684\u4E0A\u9650\u3002\u5F53\u8FBE\u5230\u8FD9\u4E2A\u5927\u5C0F\u7684\u65F6\u5019\uFF0C\u63D2\u5165\u64CD\u4F5C\u5C06\u963B\u585E\u81F3\u961F\u5217\u4E2D\u7684\u9879\u76EE\u88AB\u6D88\u8D39\u6389\u3002\u5982\u679C maxsize = 0\uFF0C\u961F\u5217\u5C3A\u5BF8\u4E3A\u65E0\u9650\u5927\u3002 <br> <strong>class queue.LifoQueue(maxsize=0)</strong> LIFO <br> <strong>class queue.PriorityQueue(maxsize=0)</strong> \u4F18\u5148\u7EA7\u961F\u5217</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">from dataclasses </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> dataclass</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> field</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> typing import Any</span></span>
<span class="line"><span style="color:#A6ACCD;">@dataclass(order=True)</span></span>
<span class="line"><span style="color:#A6ACCD;">class PrioritizedItem:</span></span>
<span class="line"><span style="color:#A6ACCD;">    priority: int</span></span>
<span class="line"><span style="color:#A6ACCD;">    item: Any=field(compare=False)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>class queue.SimpleQueue</strong> \u65E0\u754C\u7684 FIFO \u961F\u5217\u6784\u9020\u51FD\u6570\u3002\u7B80\u5355\u7684\u961F\u5217\uFF0C\u7F3A\u5C11\u4EFB\u52A1\u8DDF\u8E2A\u7B49\u9AD8\u7EA7\u529F\u80FD <br> <strong>exception queue.Empty</strong> <br> <strong>exception queue.Full</strong></p><ul><li>Queue.qsize()</li><li>Queue.empty()</li><li>Queue.full()</li><li>Queue.put(item, block=True, timeout=None)</li><li>Queue.put_nowait(item)\uFF1A\u76F8\u5F53\u4E8E put(item, False) \u3002</li><li>Queue.get(block=True, timeout=None)\uFF1A\u4ECE\u961F\u5217\u4E2D\u79FB\u9664\u5E76\u8FD4\u56DE\u4E00\u4E2A\u9879\u76EE</li><li>Queue.get_nowait()\uFF1A\u76F8\u5F53\u4E8E get(False) \u3002</li><li>Queue.task_done()\uFF1A\u8868\u793A\u524D\u9762\u6392\u961F\u7684\u4EFB\u52A1\u5DF2\u7ECF\u88AB\u5B8C\u6210</li><li>Queue.join()\uFF1A\u963B\u585E\u81F3\u961F\u5217\u4E2D\u6240\u6709\u7684\u5143\u7D20\u90FD\u88AB\u63A5\u6536\u548C\u5904\u7406\u5B8C\u6BD5</li></ul><h2 id="heapq-\u5806\u961F\u5217\u7B97\u6CD5" tabindex="-1">heapq\xA0--- \u5806\u961F\u5217\u7B97\u6CD5 <a class="header-anchor" href="#heapq-\u5806\u961F\u5217\u7B97\u6CD5" aria-hidden="true">#</a></h2><blockquote><p>\u5806\u662F\u4E00\u4E2A\u4E8C\u53C9\u6811\uFF0C\u5B83\u7684\u6BCF\u4E2A\u7236\u8282\u70B9\u7684\u503C\u90FD\u53EA\u4F1A\u5C0F\u4E8E\u6216\u5927\u4E8E\u6240\u6709\u5B69\u5B50\u8282\u70B9\uFF08\u7684\u503C\uFF09\u3002\u5B83\u4F7F\u7528\u4E86\u6570\u7EC4\u6765\u5B9E\u73B0\uFF1A\u4ECE\u96F6\u5F00\u59CB\u8BA1\u6570\uFF0C\u5BF9\u4E8E\u6240\u6709\u7684\xA0k\xA0\uFF0C\u90FD\u6709\xA0heap[k]\xA0&lt;=\xA0heap[2_k+1]\xA0\u548C\xA0heap[k]\xA0&lt;=\xA0heap[2_k+2]\u3002</p></blockquote><ul><li>\u6700\u5C0F\u5806</li><li>\u7D22\u5F15\u4ECE 0 \u5F00\u59CB\uFF0C\u6700\u5C0F\u7684\u5143\u7D20\u603B\u662F\u5728\u6839\u7ED3\u70B9\uFF1Aheap[0]</li><li>pop \u65B9\u6CD5\u8FD4\u56DE\u6700\u5C0F\u7684\u9879</li></ul><p>\u65B9\u6CD5</p><ul><li>heapq.heappush(heap, item)\uFF1A\u5C06 item \u7684\u503C\u52A0\u5165 heap \u4E2D\uFF0C\u4FDD\u6301\u5806\u7684\u4E0D\u53D8\u6027\u3002</li><li>heapq.heappop(heap)\uFF1A\u5F39\u51FA\u5E76\u8FD4\u56DE heap \u7684\u6700\u5C0F\u7684\u5143\u7D20\uFF0C\u4FDD\u6301\u5806\u7684\u4E0D\u53D8\u6027\u3002\u5982\u679C\u5806\u4E3A\u7A7A\uFF0C\u629B\u51FA IndexError \u3002</li><li>heapq.heappushpop(heap, item)\uFF1A\u5C06 item \u653E\u5165\u5806\u4E2D\uFF0C\u7136\u540E\u5F39\u51FA\u5E76\u8FD4\u56DE heap \u7684\u6700\u5C0F\u5143\u7D20\u3002\u8BE5\u7EC4\u5408\u64CD\u4F5C\u6BD4\u5148\u8C03\u7528 heappush() \u518D\u8C03\u7528 heappop() \u8FD0\u884C\u8D77\u6765\u66F4\u6709\u6548\u7387\u3002</li><li>heapq.heapify(x)\uFF1A\u5C06list x \u8F6C\u6362\u6210\u5806\uFF0C\u539F\u5730\uFF0C\u7EBF\u6027\u65F6\u95F4\u5185\u3002</li><li>heapq.heapreplace(heap, item)\uFF1A\u5F39\u51FA\u5E76\u8FD4\u56DE heap \u4E2D\u6700\u5C0F\u7684\u4E00\u9879\uFF0C\u540C\u65F6\u63A8\u5165\u65B0\u7684 item\u3002 \u5806\u7684\u5927\u5C0F\u4E0D\u53D8\u3002 \u5982\u679C\u5806\u4E3A\u7A7A\u5219\u5F15\u53D1 IndexError\u3002</li><li>heapq.merge(*iterables, key=None, reverse=False)\uFF1A\u5C06\u591A\u4E2A\u5DF2\u6392\u5E8F\u7684\u8F93\u5165\u5408\u5E76\u4E3A\u4E00\u4E2A\u5DF2\u6392\u5E8F\u7684\u8F93\u51FA\uFF0C\u8FD4\u56DE\u5DF2\u6392\u5E8F\u503C\u7684 iterator\u3002</li><li>heapq.nlargest(n, iterable, key=None)\uFF1A\u4ECE iterable \u6240\u5B9A\u4E49\u7684\u6570\u636E\u96C6\u4E2D\u8FD4\u56DE\u524D n \u4E2A\u6700\u5927\u5143\u7D20\u7EC4\u6210\u7684\u5217\u8868\u3002</li><li>heapq.nsmallest(n, iterable, key=None)\uFF1A\u4ECE iterable \u6240\u5B9A\u4E49\u7684\u6570\u636E\u96C6\u4E2D\u8FD4\u56DE\u524D n \u4E2A\u6700\u5C0F\u5143\u7D20\u7EC4\u6210\u7684\u5217\u8868\u3002</li></ul><h2 id="bisect-\u6570\u7EC4\u4E8C\u5206\u67E5\u627E\u7B97\u6CD5" tabindex="-1">bisect\xA0--- \u6570\u7EC4\u4E8C\u5206\u67E5\u627E\u7B97\u6CD5 <a class="header-anchor" href="#bisect-\u6570\u7EC4\u4E8C\u5206\u67E5\u627E\u7B97\u6CD5" aria-hidden="true">#</a></h2><p>\u4E8C\u5206\uFF08bisection\uFF09\u7B97\u6CD5</p><ul><li>bisect.bisect_left(a, x, lo=0, hi=len(a))\uFF1A\u5728 a \u4E2D\u627E\u5230 x \u5408\u9002\u7684\u63D2\u5165\u70B9\u4EE5\u7EF4\u6301\u6709\u5E8F\u3002\u53C2\u6570 lo \u548C hi \u53EF\u4EE5\u88AB\u7528\u4E8E\u786E\u5B9A\u9700\u8981\u8003\u8651\u7684\u5B50\u96C6\uFF1B\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u6574\u4E2A\u5217\u8868\u90FD\u4F1A\u88AB\u4F7F\u7528\u3002\u5982\u679C x \u5DF2\u7ECF\u5728 a \u91CC\u5B58\u5728\uFF0C\u90A3\u4E48\u63D2\u5165\u70B9\u4F1A\u5728\u5DF2\u5B58\u5728\u5143\u7D20\u4E4B\u524D\uFF08\u4E5F\u5C31\u662F\u5DE6\u8FB9\uFF09\u3002</li></ul><p>\u8FD4\u56DE\u7684\u63D2\u5165\u70B9 i \u53EF\u4EE5\u5C06\u6570\u7EC4 a \u5206\u6210\u4E24\u90E8\u5206\u3002\u5DE6\u4FA7\u662F all(val &lt; x for val in a[lo:i]) \uFF0C\u53F3\u4FA7\u662F all(val &gt;= x for val in a[i:hi]) \u3002</p><ul><li>bisect.bisect_right(a, x, lo=0, hi=len(a))</li><li>bisect.bisect(a, x, lo=0, hi=len(a))\uFF1A\u7C7B\u4F3C\u4E8E bisect_left()\uFF0C\u4F46\u662F\u8FD4\u56DE\u7684\u63D2\u5165\u70B9\u662F a \u4E2D\u5DF2\u5B58\u5728\u5143\u7D20 x \u7684\u53F3\u4FA7\u3002</li><li>bisect.insort_left(a, x, lo=0, hi=len(a))\uFF1A\u5C06 x \u63D2\u5165\u5230\u4E00\u4E2A\u6709\u5E8F\u5E8F\u5217 a \u91CC\uFF0C\u5E76\u7EF4\u6301\u5176\u6709\u5E8F\u3002\u5982\u679C a \u6709\u5E8F\u7684\u8BDD\uFF0C\u8FD9\u76F8\u5F53\u4E8E a.insert(bisect.bisect_left(a, x, lo, hi), x)\u3002\u8981\u6CE8\u610F\u641C\u7D22\u662F O(log n) \u7684\uFF0C\u63D2\u5165\u5374\u662F O(n) \u7684\u3002</li><li>bisect.insort_right(a, x, lo=0, hi=len(a))</li><li>bisect.insort(a, x, lo=0, hi=len(a))\uFF1A\u7C7B\u4F3C\u4E8E insort_left()\uFF0C\u4F46\u662F\u628A x \u63D2\u5165\u5230 a \u4E2D\u5DF2\u5B58\u5728\u5143\u7D20 x \u7684\u53F3\u4FA7\u3002</li></ul><h2 id="re-\u6B63\u5219\u8868\u8FBE\u5F0F\u64CD\u4F5C" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/re.html" target="_blank" rel="noreferrer">re--- \u6B63\u5219\u8868\u8FBE\u5F0F\u64CD\u4F5C</a> <a class="header-anchor" href="#re-\u6B63\u5219\u8868\u8FBE\u5F0F\u64CD\u4F5C" aria-hidden="true">#</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> re</span></span>
<span class="line"><span style="color:#A6ACCD;">Chinese = re.compile(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[</span><span style="color:#A6ACCD;">\\u4e00</span><span style="color:#C3E88D;">-</span><span style="color:#A6ACCD;">\\u9fa5</span><span style="color:#C3E88D;">]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)  # \u4E2D\u6587\u7684\u7F16\u7801\u8303\u56F4</span></span>
<span class="line"><span style="color:#A6ACCD;">if Chinese.search(q):</span></span>
<span class="line"><span style="color:#A6ACCD;">    return </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">en-US</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">return </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">zh-CN</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>re.match(pattern, string, flags=0)\uFF1A\u4ECE\u5B57\u7B26\u4E32\u7684\u8D77\u59CB\u4F4D\u7F6E\u5339\u914D\u4E00\u4E2A\u6A21\u5F0F\uFF0C\u5982\u679C\u8D77\u59CB\u4F4D\u7F6E\u5339\u914D\u5931\u8D25\u8FD4\u56DENone</li><li>re.fullmatch(pattern, string, flags=0)</li><li>re.search(pattern, string, flags=0)\uFF1A\u8FD4\u56DE\u7B2C\u4E00\u4E2A\u6210\u529F\u7684\u5339\u914D</li><li>re.sub(pattern, replace, string, count=0, flags=0)\uFF1A\u66FF\u6362\u5B57\u7B26\u4E32\u4E2D\u7684\u5339\u914D\u9879</li><li>re.subn(pattern, repl, string, count=0, flags=0)\uFF1A\u4E0E sub() \u76F8\u540C\uFF0C\u8FD4\u56DE\u4E00\u4E2A\u5143\u7EC4 (\u5B57\u7B26\u4E32, \u66FF\u6362\u6B21\u6570)</li><li>re.compile(pattern[, flags])\uFF1A\u8FD4\u56DE\u4E00\u4E2Are.RegexObject\uFF08 Pattern \uFF09\uFF0C\u4F9B match() \u548C search() \u4F7F\u7528</li><li>re.split(pattern, string[, maxsplit=0, flags=0])\uFF1A\u6309\u7167\u80FD\u591F\u5339\u914D\u7684\u5B50\u4E32\u5C06\u5B57\u7B26\u4E32\u5206\u5272\u540E\u8FD4\u56DE\u5217\u8868</li><li>re.findall(string[, pos[, endpos]])\uFF1A\u5728\u5B57\u7B26\u4E32\u4E2D\u627E\u5230\u6B63\u5219\u8868\u8FBE\u5F0F\u6240\u5339\u914D\u7684\u6240\u6709\u5B50\u4E32\uFF0C\u5E76\u8FD4\u56DE\u4E00\u4E2A\u5217\u8868</li><li>re.finditer(pattern, string, flags=0)\uFF1A\u548C findall \u7C7B\u4F3C\uFF0C\u627E\u5230\u6240\u5339\u914D\u7684\u6240\u6709\u5B50\u4E32\uFF0C\u5E76\u628A\u5B83\u4EEC\u4F5C\u4E3A\u4E00\u4E2A\u8FED\u4EE3\u5668\u8FD4\u56DE</li><li>re.escape(pattern)\uFF1A\u8F6C\u4E49 pattern \u4E2D\u7684\u7279\u6B8A\u5B57\u7B26\u3002</li><li>re.purge()\uFF1A\u6E05\u9664\u6B63\u5219\u8868\u8FBE\u5F0F\u7F13\u5B58\u3002</li><li>exception re.error(msg, pattern=None, pos=None)</li></ul><p>\u53C2\u6570</p><ul><li>pattern\uFF1A\u5339\u914D\u7684\u6B63\u5219\u8868\u8FBE\u5F0F</li><li>string\uFF1A\u8981\u5339\u914D\u7684\u5B57\u7B26\u4E32\u3002</li><li>flags\uFF1A\u6807\u5FD7\u4F4D\uFF0C\u7528\u4E8E\u63A7\u5236\u6B63\u5219\u8868\u8FBE\u5F0F\u7684\u5339\u914D\u65B9\u5F0F\uFF0C\u5982\uFF1A\u662F\u5426\u533A\u5206\u5927\u5C0F\u5199\uFF0C\u591A\u884C\u5339\u914D\u7B49\u3002</li><li>replace : \u66FF\u6362\u7684\u5B57\u7B26\u4E32\u6216\u51FD\u6570\u3002</li><li>count : \u6A21\u5F0F\u5339\u914D\u540E\u66FF\u6362\u7684\u6700\u5927\u6B21\u6570\uFF0C\u9ED8\u8BA4 0 \u8868\u793A\u66FF\u6362\u6240\u6709\u7684\u5339\u914D\u3002</li><li>maxsplit\uFF1A\u5206\u9694\u6B21\u6570\uFF0Cmaxsplit=1 \u5206\u9694\u4E00\u6B21\uFF0C\u9ED8\u8BA4\u4E3A 0\uFF0C\u4E0D\u9650\u5236\u6B21\u6570\u3002</li><li>endpos\uFF1A\u6307\u5B9A\u5B57\u7B26\u4E32\u7684\u7ED3\u675F\u4F4D\u7F6E\uFF0C\u9ED8\u8BA4\u4E3A\u5B57\u7B26\u4E32\u7684\u957F\u5EA6\u3002</li><li>pos \uFF1A\u6307\u5B9A\u5B57\u7B26\u4E32\u7684\u8D77\u59CB\u4F4D\u7F6E\uFF0C\u9ED8\u8BA4\u4E3A 0\u3002 | flags | \u63CF\u8FF0 | | --- | --- | | re.I | \u5FFD\u7565\u5927\u5C0F\u5199 IGNORECASE | | re.L | \u505A\u672C\u5730\u5316\u8BC6\u522B\uFF08locale-aware\uFF09\u5339\u914D | | re.M | \u591A\u884C\u5339\u914D MULTILINE\uFF0C\u5F71\u54CD ^ \u548C $ | | re.S | \u4F7F . \u5339\u914D\u5305\u62EC\u6362\u884C\u5728\u5185\u7684\u6240\u6709\u5B57\u7B26 | | re.U | \u6839\u636EUnicode\u5B57\u7B26\u96C6\u89E3\u6790\u5B57\u7B26\u3002\u8FD9\u4E2A\u6807\u5FD7\u5F71\u54CD \\w, \\W, \\b, \\B. | | re.X | \u53EF\u5206\u6BB5\u548C\u6DFB\u52A0\u6CE8\u91CA |</li></ul><p><strong>re.MatchObject</strong></p><ul><li>group(num=0)\uFF1A\u5339\u914D\u7684\u6574\u4E2A\u8868\u8FBE\u5F0F\u7684\u5B57\u7B26\u4E32\uFF0Cgroup() \u53EF\u4EE5\u4E00\u6B21\u8F93\u5165\u591A\u4E2A\u7EC4\u53F7\uFF0C\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\u5B83\u5C06\u8FD4\u56DE\u4E00\u4E2A\u5305\u542B\u90A3\u4E9B\u7EC4\u6240\u5BF9\u5E94\u503C\u7684\u5143\u7EC4\u3002</li><li>groups()\uFF1A\u8FD4\u56DE\u4E00\u4E2A\u5305\u542B\u6240\u6709\u5C0F\u7EC4\u5B57\u7B26\u4E32\u7684\u5143\u7EC4\uFF0C\u4ECE 1 \u5230 \u6240\u542B\u7684\u5C0F\u7EC4\u53F7\u3002</li></ul><h2 id="\u2014\u2014-\u51FD\u6570\u5F0F\u7F16\u7A0B\u6A21\u5757" tabindex="-1">\u2014\u2014 \u51FD\u6570\u5F0F\u7F16\u7A0B\u6A21\u5757 <a class="header-anchor" href="#\u2014\u2014-\u51FD\u6570\u5F0F\u7F16\u7A0B\u6A21\u5757" aria-hidden="true">#</a></h2><h2 id="itertools-\u4E3A\u9AD8\u6548\u5FAA\u73AF\u800C\u521B\u5EFA\u8FED\u4EE3\u5668\u7684\u51FD\u6570" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/itertools.html" target="_blank" rel="noreferrer">itertools--- \u4E3A\u9AD8\u6548\u5FAA\u73AF\u800C\u521B\u5EFA\u8FED\u4EE3\u5668\u7684\u51FD\u6570</a> <a class="header-anchor" href="#itertools-\u4E3A\u9AD8\u6548\u5FAA\u73AF\u800C\u521B\u5EFA\u8FED\u4EE3\u5668\u7684\u51FD\u6570" aria-hidden="true">#</a></h2><h3 id="\u65E0\u7A77\u8FED\u4EE3\u5668" tabindex="-1">\u65E0\u7A77\u8FED\u4EE3\u5668 <a class="header-anchor" href="#\u65E0\u7A77\u8FED\u4EE3\u5668" aria-hidden="true">#</a></h3><table><thead><tr><th>\u8FED\u4EE3\u5668</th><th>\u5B9E\u53C2</th><th>\u7ED3\u679C</th><th>\u793A\u4F8B</th></tr></thead><tbody><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.count" target="_blank" rel="noreferrer">count()</a></td><td>start, [step]</td><td>start, start+step, start+2*step, ...</td><td>count(10)\xA0--&gt;\xA010\xA011\xA012\xA013\xA014...</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.cycle" target="_blank" rel="noreferrer">cycle()</a></td><td>p</td><td>p0, p1, ... plast, p0, p1, ...</td><td>cycle(&#39;ABCD&#39;)\xA0--&gt;\xA0A\xA0B\xA0C\xA0D\xA0A\xA0B\xA0CD\xA0...</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.repeat" target="_blank" rel="noreferrer">repeat()</a></td><td>elem [,n]</td><td>elem, elem, elem, ... \u91CD\u590D\u65E0\u9650\u6B21\u6216n\u6B21</td><td>repeat(10,\xA03)\xA0--&gt;\xA010\xA010\xA010</td></tr></tbody></table><h3 id="\u6839\u636E\u6700\u77ED\u8F93\u5165\u5E8F\u5217\u957F\u5EA6\u505C\u6B62\u7684\u8FED\u4EE3\u5668" tabindex="-1">\u6839\u636E\u6700\u77ED\u8F93\u5165\u5E8F\u5217\u957F\u5EA6\u505C\u6B62\u7684\u8FED\u4EE3\u5668 <a class="header-anchor" href="#\u6839\u636E\u6700\u77ED\u8F93\u5165\u5E8F\u5217\u957F\u5EA6\u505C\u6B62\u7684\u8FED\u4EE3\u5668" aria-hidden="true">#</a></h3><table><thead><tr><th>\u8FED\u4EE3\u5668</th><th>\u5B9E\u53C2</th><th>\u7ED3\u679C</th><th>\u793A\u4F8B</th></tr></thead><tbody><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.accumulate" target="_blank" rel="noreferrer">accumulate()</a></td><td>p [,func]</td><td>p0, p0+p1, p0+p1+p2, ...</td><td>accumulate([1,2,3,4,5])\xA0--&gt;\xA01\xA03\xA0610\xA015</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.chain" target="_blank" rel="noreferrer">chain()</a></td><td>p, q, ...</td><td>p0, p1, ... plast, q0, q1, ...</td><td>chain(&#39;ABC&#39;,\xA0&#39;DEF&#39;)\xA0--&gt;\xA0A\xA0B\xA0C\xA0D\xA0EF</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.chain.from_iterable" target="_blank" rel="noreferrer">chain.from_iterable()</a></td><td>iterable</td><td>p0, p1, ... plast, q0, q1, ...</td><td>chain.from_iterable([&#39;ABC&#39;,&#39;DEF&#39;])\xA0--&gt;\xA0A\xA0B\xA0C\xA0D\xA0E\xA0F</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.compress" target="_blank" rel="noreferrer">compress()</a></td><td>data, selectors</td><td>(d[0] if s[0]), (d[1] if s[1]), ...</td><td>compress(&#39;ABCDEF&#39;,\xA0[1,0,1,0,1,1])--&gt;\xA0A\xA0C\xA0E\xA0F</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.dropwhile" target="_blank" rel="noreferrer">dropwhile()</a></td><td>pred, seq</td><td>seq[n], seq[n+1], ... \u4ECEpred\u9996\u6B21\u771F\u503C\u6D4B\u8BD5\u5931\u8D25\u5F00\u59CB</td><td>dropwhile(lambda\xA0x:\xA0x&lt;5,[1,4,6,4,1])\xA0--&gt;\xA06\xA04\xA01</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.filterfalse" target="_blank" rel="noreferrer">filterfalse()</a></td><td>pred, seq</td><td>seq\u4E2Dpred(x)\u4E3A\u5047\u503C\u7684\u5143\u7D20\uFF0Cx\u662Fseq\u4E2D\u7684\u5143\u7D20\u3002</td><td>filterfalse(lambda\xA0x:\xA0x%2,range(10))\xA0--&gt;\xA00\xA02\xA04\xA06\xA08</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.groupby" target="_blank" rel="noreferrer">groupby()</a></td><td>iterable[, key]</td><td>\u6839\u636Ekey(v)\u503C\u5206\u7EC4\u7684\u8FED\u4EE3\u5668</td><td></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.islice" target="_blank" rel="noreferrer">islice()</a></td><td>seq, [start,] stop [, step]</td><td>seq[start:stop:step]\u4E2D\u7684\u5143\u7D20</td><td>islice(&#39;ABCDEFG&#39;,\xA02,\xA0None)\xA0--&gt;\xA0CD\xA0E\xA0F\xA0G</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.starmap" target="_blank" rel="noreferrer">starmap()</a></td><td>func, seq</td><td>func(_seq[0]), func(_seq[1]), ...</td><td>starmap(pow,\xA0[(2,5),\xA0(3,2),(10,3)])\xA0--&gt;\xA032\xA09\xA01000</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.takewhile" target="_blank" rel="noreferrer">takewhile()</a></td><td>pred, seq</td><td>seq[0], seq[1], ..., \u76F4\u5230pred\u771F\u503C\u6D4B\u8BD5\u5931\u8D25</td><td>takewhile(lambda\xA0x:\xA0x&lt;5,[1,4,6,4,1])\xA0--&gt;\xA01\xA04</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.tee" target="_blank" rel="noreferrer">tee()</a></td><td>it, n</td><td>it1, it2, ... itn \u5C06\u4E00\u4E2A\u8FED\u4EE3\u5668\u62C6\u5206\u4E3An\u4E2A\u8FED\u4EE3\u5668</td><td></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.zip_longest" target="_blank" rel="noreferrer">zip_longest()</a></td><td>p, q, ...</td><td>(p[0], q[0]), (p[1], q[1]), ...</td><td>zip_longest(&#39;ABCD&#39;,\xA0&#39;xy&#39;,fillvalue=&#39;-&#39;)\xA0--&gt;\xA0Ax\xA0By\xA0C-\xA0D-</td></tr></tbody></table><h3 id="\u6392\u5217\u7EC4\u5408\u8FED\u4EE3\u5668" tabindex="-1">\u6392\u5217\u7EC4\u5408\u8FED\u4EE3\u5668 <a class="header-anchor" href="#\u6392\u5217\u7EC4\u5408\u8FED\u4EE3\u5668" aria-hidden="true">#</a></h3><table><thead><tr><th>\u8FED\u4EE3\u5668</th><th>\u5B9E\u53C2</th><th>\u7ED3\u679C</th></tr></thead><tbody><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.product" target="_blank" rel="noreferrer">product()</a></td><td>p, q, ... [repeat=1]</td><td>\u7B1B\u5361\u5C14\u79EF\uFF0C\u76F8\u5F53\u4E8E\u5D4C\u5957\u7684for\u5FAA\u73AF</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.permutations" target="_blank" rel="noreferrer">permutations()</a></td><td>p[, r]</td><td>\u957F\u5EA6r\u5143\u7EC4\uFF0C\u6240\u6709\u53EF\u80FD\u7684\u6392\u5217\uFF0C\u65E0\u91CD\u590D\u5143\u7D20</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.combinations" target="_blank" rel="noreferrer">combinations()</a></td><td>p, r</td><td>\u957F\u5EA6r\u5143\u7EC4\uFF0C\u6709\u5E8F\uFF0C\u65E0\u91CD\u590D\u5143\u7D20</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/itertools.html?highlight=itertools#itertools.combinations_with_replacement" target="_blank" rel="noreferrer">combinations_with_replacement()</a></td><td>p, r</td><td>\u957F\u5EA6r\u5143\u7EC4\uFF0C\u6709\u5E8F\uFF0C\u5143\u7D20\u53EF\u91CD\u590D</td></tr></tbody></table><table><thead><tr><th>\u4F8B\u5B50</th><th>\u7ED3\u679C</th></tr></thead><tbody><tr><td>product(&#39;ABCD&#39;,\xA0repeat=2)</td><td>AA\xA0AB\xA0AC\xA0AD\xA0BA\xA0BB\xA0BC\xA0BD\xA0CA\xA0CB\xA0CC\xA0CD\xA0DA\xA0DB\xA0DC\xA0DD</td></tr><tr><td>permutations(&#39;ABCD&#39;,\xA02)</td><td>AB\xA0AC\xA0AD\xA0BA\xA0BC\xA0BD\xA0CA\xA0CB\xA0CD\xA0DA\xA0DB\xA0DC</td></tr><tr><td>combinations(&#39;ABCD&#39;,\xA02)</td><td>AB\xA0AC\xA0AD\xA0BC\xA0BD\xA0CD</td></tr><tr><td>combinations_with_replacement(&#39;ABCD&#39;,\xA02)</td><td>AA\xA0AB\xA0AC\xA0AD\xA0BB\xA0BC\xA0BD\xA0CC\xA0CD\xA0DD</td></tr></tbody></table><h2 id="operator-\u6807\u51C6\u8FD0\u7B97\u7B26\u66FF\u4EE3\u51FD\u6570" tabindex="-1">operator\xA0--- \u6807\u51C6\u8FD0\u7B97\u7B26\u66FF\u4EE3\u51FD\u6570 <a class="header-anchor" href="#operator-\u6807\u51C6\u8FD0\u7B97\u7B26\u66FF\u4EE3\u51FD\u6570" aria-hidden="true">#</a></h2><table><thead><tr><th>\u8FD0\u7B97</th><th>\u8BED\u6CD5</th><th>\u51FD\u6570</th></tr></thead><tbody><tr><td>\u52A0\u6CD5</td><td>a\xA0+\xA0b</td><td>add(a,\xA0b)</td></tr><tr><td>\u5B57\u7B26\u4E32\u62FC\u63A5</td><td>seq1\xA0+\xA0seq2</td><td>concat(seq1,\xA0seq2)</td></tr><tr><td>\u5305\u542B\u6D4B\u8BD5</td><td>obj\xA0in\xA0seq</td><td>contains(seq,\xA0obj)</td></tr><tr><td>\u9664\u6CD5</td><td>a\xA0/\xA0b</td><td>truediv(a,\xA0b)</td></tr><tr><td>\u9664\u6CD5</td><td>a\xA0//\xA0b</td><td>floordiv(a,\xA0b)</td></tr><tr><td>\u6309\u4F4D\u4E0E</td><td>a\xA0&amp;\xA0b</td><td>and_(a,\xA0b)</td></tr><tr><td>\u6309\u4F4D\u5F02\u6216</td><td>a\xA0^\xA0b</td><td>xor(a,\xA0b)</td></tr><tr><td>\u6309\u4F4D\u53D6\u53CD</td><td>~\xA0a</td><td>invert(a)</td></tr><tr><td>\u6309\u4F4D\u6216</td><td>a</td><td>b</td></tr><tr><td>\u53D6\u5E42</td><td>a\xA0**\xA0b</td><td>pow(a,\xA0b)</td></tr><tr><td>\u6807\u8BC6</td><td>a\xA0is\xA0b</td><td>is_(a,\xA0b)</td></tr><tr><td>\u6807\u8BC6</td><td>a\xA0is\xA0not\xA0b</td><td>is_not(a,\xA0b)</td></tr><tr><td>\u7D22\u5F15\u8D4B\u503C</td><td>obj[k]\xA0=\xA0v</td><td>setitem(obj,\xA0k,\xA0v)</td></tr><tr><td>\u7D22\u5F15\u5220\u9664</td><td>del\xA0obj[k]</td><td>delitem(obj,\xA0k)</td></tr><tr><td>\u7D22\u5F15\u53D6\u503C</td><td>obj[k]</td><td>getitem(obj,\xA0k)</td></tr><tr><td>\u5DE6\u79FB</td><td>a\xA0&lt;&lt;\xA0b</td><td>lshift(a,\xA0b)</td></tr><tr><td>\u53D6\u6A21</td><td>a\xA0%\xA0b</td><td>mod(a,\xA0b)</td></tr><tr><td>\u4E58\u6CD5</td><td>a\xA0*\xA0b</td><td>mul(a,\xA0b)</td></tr><tr><td>\u77E9\u9635\u4E58\u6CD5</td><td>a\xA0@\xA0b</td><td>matmul(a,\xA0b)</td></tr><tr><td>\u53D6\u53CD\uFF08\u7B97\u672F\uFF09</td><td>-\xA0a</td><td>neg(a)</td></tr><tr><td>\u53D6\u53CD\uFF08\u903B\u8F91\uFF09</td><td>not\xA0a</td><td>not_(a)</td></tr><tr><td>\u6B63\u6570</td><td>+\xA0a</td><td>pos(a)</td></tr><tr><td>\u53F3\u79FB</td><td>a\xA0&gt;&gt;\xA0b</td><td>rshift(a,\xA0b)</td></tr><tr><td>\u5207\u7247\u8D4B\u503C</td><td>seq[i:j]\xA0=\xA0values</td><td>setitem(seq,\xA0slice(i,\xA0j),\xA0values)</td></tr><tr><td>\u5207\u7247\u5220\u9664</td><td>del\xA0seq[i:j]</td><td>delitem(seq,\xA0slice(i,\xA0j))</td></tr><tr><td>\u5207\u7247\u53D6\u503C</td><td>seq[i:j]</td><td>getitem(seq,\xA0slice(i,\xA0j))</td></tr><tr><td>\u5B57\u7B26\u4E32\u683C\u5F0F\u5316</td><td>s\xA0%\xA0obj</td><td>mod(s,\xA0obj)</td></tr><tr><td>\u51CF\u6CD5</td><td>a\xA0-\xA0b</td><td>sub(a,\xA0b)</td></tr><tr><td>\u771F\u503C\u6D4B\u8BD5</td><td>obj</td><td>truth(obj)</td></tr><tr><td>\u6BD4\u8F83</td><td>a\xA0&lt;\xA0b</td><td>lt(a,\xA0b)</td></tr><tr><td>\u6BD4\u8F83</td><td>a\xA0&lt;=\xA0b</td><td>le(a,\xA0b)</td></tr><tr><td>\u76F8\u7B49</td><td>a\xA0==\xA0b</td><td>eq(a,\xA0b)</td></tr><tr><td>\u4E0D\u7B49</td><td>a\xA0!=\xA0b</td><td>ne(a,\xA0b)</td></tr><tr><td>\u6BD4\u8F83</td><td>a\xA0&gt;=\xA0b</td><td>ge(a,\xA0b)</td></tr><tr><td>\u6BD4\u8F83</td><td>a\xA0&gt;\xA0b</td><td>gt(a,\xA0b)</td></tr></tbody></table><ul><li>operator.attrgetter(*attrs)</li><li>operator.itemgetter(*items)</li><li>operator.methodcaller(name,\xA0/,\xA0*args,\xA0**kwargs)</li></ul><p><strong>\u539F\u5730\u8FD0\u7B97\u7B26</strong> <br> operator.<strong>iadd</strong>(a,\xA0b) <br> operator.<strong><strong>iadd</strong></strong>(a,\xA0b) <br> a\xA0=\xA0iadd(a,\xA0b)\xA0\u7B49\u4EF7\u4E8E\xA0a\xA0+=\xA0b\u3002 <br> operator.<strong>iand</strong>(a,\xA0b) <br> operator.<strong><strong>iand</strong></strong>(a,\xA0b) <br> a\xA0=\xA0iand(a,\xA0b)\xA0\u7B49\u4EF7\u4E8E\xA0a\xA0&amp;=\xA0b\u3002 <br> operator.<strong>iconcat</strong>(a,\xA0b) <br> operator.<strong><strong>iconcat</strong></strong>(a,\xA0b) <br> a\xA0=\xA0iconcat(a,\xA0b)\xA0\u7B49\u4EF7\u4E8E\xA0a\xA0+=\xA0b\xA0\u5176\u4E2D\xA0a\xA0\u548C\xA0b\xA0\u4E3A\u5E8F\u5217\u3002 <br> operator.<strong>ifloordiv</strong>(a,\xA0b) <br> operator.<strong><strong>ifloordiv</strong></strong>(a,\xA0b) <br> a\xA0=\xA0ifloordiv(a,\xA0b)\xA0\u7B49\u4EF7\u4E8E\xA0a\xA0//=\xA0b\u3002 <br> operator.<strong>ilshift</strong>(a,\xA0b) <br> operator.<strong><strong>ilshift</strong></strong>(a,\xA0b) <br> a\xA0=\xA0ilshift(a,\xA0b)\xA0\u7B49\u4EF7\u4E8E\xA0a\xA0&lt;&lt;=\xA0b\u3002 <br> operator.<strong>imod</strong>(a,\xA0b) <br> operator.<strong><strong>imod</strong></strong>(a,\xA0b) <br> a\xA0=\xA0imod(a,\xA0b)\xA0\u7B49\u4EF7\u4E8E\xA0a\xA0%=\xA0b\u3002 <br> operator.<strong>imul</strong>(a,\xA0b) <br> operator.<strong><strong>imul</strong></strong>(a,\xA0b) <br> a\xA0=\xA0imul(a,\xA0b)\xA0\u7B49\u4EF7\u4E8E\xA0a\xA0*=\xA0b\u3002 <br> operator.<strong>imatmul</strong>(a,\xA0b) <br> operator.<strong><strong>imatmul</strong></strong>(a,\xA0b) <br> a\xA0=\xA0imatmul(a,\xA0b)\xA0\u7B49\u4EF7\u4E8E\xA0a\xA0@=\xA0b\u3002 <br> operator.<strong>ior</strong>(a,\xA0b) <br> operator.<strong><strong>ior</strong></strong>(a,\xA0b) <br> a\xA0=\xA0ior(a,\xA0b)\xA0\u7B49\u4EF7\u4E8E\xA0a\xA0|=\xA0b\u3002 <br> operator.<strong>ipow</strong>(a,\xA0b) <br> operator.<strong><strong>ipow</strong></strong>(a,\xA0b) <br> a\xA0=\xA0ipow(a,\xA0b)\xA0\u7B49\u4EF7\u4E8E\xA0a\xA0<strong>=\xA0b\u3002 <br> operator.<strong>irshift</strong>(a,\xA0b) <br> operator.</strong><strong>irshift</strong><strong>(a,\xA0b) <br> a\xA0=\xA0irshift(a,\xA0b)\xA0\u7B49\u4EF7\u4E8E\xA0a\xA0&gt;&gt;=\xA0b\u3002 <br> operator.<strong>isub</strong>(a,\xA0b) <br> operator.</strong><strong>isub</strong><strong>(a,\xA0b) <br> a\xA0=\xA0isub(a,\xA0b)\xA0\u7B49\u4EF7\u4E8E\xA0a\xA0-=\xA0b\u3002 <br> operator.<strong>itruediv</strong>(a,\xA0b) <br> operator.</strong><strong>itruediv</strong><strong>(a,\xA0b) <br> a\xA0=\xA0itruediv(a,\xA0b)\xA0\u7B49\u4EF7\u4E8E\xA0a\xA0/=\xA0b\u3002 <br> operator.<strong>ixor</strong>(a,\xA0b) <br> operator.</strong><strong>ixor</strong>**(a,\xA0b) <br> a\xA0=\xA0ixor(a,\xA0b)\xA0\u7B49\u4EF7\u4E8E\xA0a\xA0^=\xA0b\u3002</p><h2 id="functools-\u9AD8\u9636\u51FD\u6570\u548C\u53EF\u8C03\u7528\u5BF9\u8C61\u4E0A\u7684\u64CD\u4F5C" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/functools.html" target="_blank" rel="noreferrer">functools--- \u9AD8\u9636\u51FD\u6570\u548C\u53EF\u8C03\u7528\u5BF9\u8C61\u4E0A\u7684\u64CD\u4F5C</a> <a class="header-anchor" href="#functools-\u9AD8\u9636\u51FD\u6570\u548C\u53EF\u8C03\u7528\u5BF9\u8C61\u4E0A\u7684\u64CD\u4F5C" aria-hidden="true">#</a></h2><p><strong>@functools.cached_property(func)</strong>\uFF1A\u5C06\u4E00\u4E2A\u7C7B\u65B9\u6CD5\u8F6C\u6362\u4E3A\u7279\u5F81\u5C5E\u6027\uFF0C\u4E00\u6B21\u6027\u8BA1\u7B97\u8BE5\u7279\u5F81\u5C5E\u6027\u7684\u503C\uFF0C\u7136\u540E\u5C06\u5176\u7F13\u5B58\u4E3A\u5B9E\u4F8B\u751F\u547D\u5468\u671F\u5185\u7684\u666E\u901A\u5C5E\u6027\u3002 <br> <strong>@functools.lru_cache(user_function)</strong> <br> <strong>@functools.lru_cache(maxsize=128, typed=False)</strong> <br> <strong>@functools.total_ordering</strong>\uFF1A\u7ED9\u5B9A\u4E00\u4E2A\u58F0\u660E\u4E00\u4E2A\u6216\u591A\u4E2A\u5168\u6BD4\u8F83\u6392\u5E8F\u65B9\u6CD5\u7684\u7C7B\uFF0C\u8FD9\u4E2A\u7C7B\u88C5\u9970\u5668\u5B9E\u73B0\u5269\u4F59\u7684\u65B9\u6CD5 <br> <strong>@functools.singledispatch</strong>\uFF1A\u5C06\u4E00\u4E2A\u51FD\u6570\u8F6C\u6362\u4E3A \u5355\u5206\u6D3E generic function <br> <strong>@functools.wraps(wrapped, assigned=WRAPPER_ASSIGNMENTS, updated=WRAPPER_UPDATES)</strong>\uFF1A\u7528\u4E8E\u5728\u5B9A\u4E49\u5305\u88C5\u5668\u51FD\u6570\u65F6\u53D1\u8D77\u8C03\u7528 update_wrapper() \u4F5C\u4E3A\u51FD\u6570\u88C5\u9970\u5668</p><p><strong>functools.cmp_to_key(func)</strong> <br> **functools.partial(func, /, *args, <strong>keywords)</strong>\uFF1A\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u90E8\u5206\u5BF9\u8C61\uFF0C\u5F53\u88AB\u8C03\u7528\u65F6\u5176\u884C\u4E3A\u7C7B\u4F3C\u4E8E func \u9644\u5E26\u4F4D\u7F6E\u53C2\u6570 args \u548C\u5173\u952E\u5B57\u53C2\u6570 keywords \u88AB\u8C03\u7528\u3002 <br> <strong>functools.reduce(function, iterable[, initializer])</strong> <br> <strong>functools.update_wrapper(wrapper, wrapped, assigned=WRAPPER_ASSIGNMENTS, updated=WRAPPER_UPDATES)</strong>\uFF1A\u66F4\u65B0\u4E00\u4E2A wrapper \u51FD\u6570\u4EE5\u4F7F\u5176\u7C7B\u4F3C\u4E8E wrapped \u51FD\u6570</p><p>**class functools.partialmethod(func, /, *args, <strong>keywords)</strong>\uFF1A\u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684 partialmethod \u63CF\u8FF0\u5668\uFF0C\u5176\u884C\u4E3A\u7C7B\u4F3C partial \u4F46\u5B83\u88AB\u8BBE\u8BA1\u7528\u4F5C\u65B9\u6CD5\u5B9A\u4E49\u800C\u975E\u76F4\u63A5\u7528\u4F5C\u53EF\u8C03\u7528\u5BF9\u8C61\u3002 <br> <strong>class functools.singledispatchmethod(func)</strong>\uFF1A\u5C06\u4E00\u4E2A\u65B9\u6CD5\u8F6C\u6362\u4E3A \u5355\u5206\u6D3E generic function</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> functools</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> int2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> functools</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">partial</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">int</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">base</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">int2</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1000000</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#F78C6C;">64</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="timeit-\u6D4B\u91CF\u5C0F\u4EE3\u7801\u7247\u6BB5\u7684\u6267\u884C\u65F6\u95F4" tabindex="-1">timeit\xA0--- \u6D4B\u91CF\u5C0F\u4EE3\u7801\u7247\u6BB5\u7684\u6267\u884C\u65F6\u95F4 <a class="header-anchor" href="#timeit-\u6D4B\u91CF\u5C0F\u4EE3\u7801\u7247\u6BB5\u7684\u6267\u884C\u65F6\u95F4" aria-hidden="true">#</a></h2><p><strong>\u547D\u4EE4\u884C\u754C\u9762</strong> <br> <strong>python -m timeit [-n N] [-r N] [-u U] [-s S] [-h] [statement ...]</strong></p><ul><li>-n N, --number=N \u6267\u884C &#39;\u8BED\u53E5&#39; \u591A\u5C11\u6B21</li><li>-r N, --repeat=N \u91CD\u590D\u8BA1\u65F6\u5668\u7684\u6B21\u6570\uFF08\u9ED8\u8BA4\u4E3A5\uFF09</li><li>-s S, --setup=S \u6700\u521D\u8981\u6267\u884C\u4E00\u6B21\u7684\u8BED\u53E5\uFF08\u9ED8\u8BA4\u4E3A pass \uFF09</li><li>-p, --process \u6D4B\u91CF\u8FDB\u7A0B\u65F6\u95F4\uFF0C\u4F7F\u7528 time.process_time() \u800C\u4E0D\u662F time.perf_counter() \uFF0C\u8FD9\u662F\u9ED8\u8BA4\u503C</li><li>-u, --unit=U \u6307\u5B9A\u5B9A\u65F6\u5668\u8F93\u51FA\u7684\u65F6\u95F4\u5355\u4F4D\uFF1B\u53EF\u4EE5\u9009\u62E9 nsec\uFF0Cusec\uFF0Cmsec\u6216sec</li><li>-v, --verbose \u6253\u5370\u539F\u59CB\u8BA1\u65F6\u7ED3\u679C\uFF1B\u91CD\u590D\u66F4\u591A\u4F4D\u6570\u7CBE\u5EA6</li><li>-h, --help \u6253\u5370\u4E00\u6761\u7B80\u77ED\u7684\u4F7F\u7528\u4FE1\u606F\u5E76\u9000\u51FA</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">python </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">m timeit </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&#39;-&#39;.join(map(str, range(100)))</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>API</strong></p><ul><li>timeit.timeit(stmt=&#39;pass&#39;, setup=&#39;pass&#39;, timer=, number=1000000, globals=None)</li><li>timeit.repeat(stmt=&#39;pass&#39;, setup=&#39;pass&#39;, timer=, repeat=5, number=1000000, globals=None)</li><li>timeit.default_timer() \u9ED8\u8BA4\u7684\u8BA1\u65F6\u5668\uFF0C\u603B\u662F time.perf_counter() \u3002</li></ul><p>class timeit.Timer(stmt=&#39;pass&#39;, setup=&#39;pass&#39;, timer=, globals=None) <br> \u7528\u4E8E\u5C0F\u4EE3\u7801\u7247\u6BB5\u7684\u8BA1\u6570\u6267\u884C\u901F\u5EA6\u7684\u7C7B</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// \u5BF9\u6BD4\u4F7F\u7528 hasattr() \u4E0E try/except \u7684\u5F00\u9500\u6765\u6D4B\u8BD5\u7F3A\u5931\u4E0E\u63D0\u4F9B\u5BF9\u8C61\u5C5E\u6027</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> timeit</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; # attribute is missing</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; s = </span><span style="color:#89DDFF;">&quot;&quot;&quot;</span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">... try:</span></span>
<span class="line"><span style="color:#A6ACCD;">...     str.__bool__</span></span>
<span class="line"><span style="color:#A6ACCD;">... except AttributeError:</span></span>
<span class="line"><span style="color:#A6ACCD;">...     pass</span></span>
<span class="line"><span style="color:#A6ACCD;">... </span><span style="color:#89DDFF;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#C3E88D;">&gt;&gt;&gt; timeit.timeit(stmt=s, number=100000)</span></span>
<span class="line"><span style="color:#A6ACCD;">0.9138244460009446</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; s = </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">if hasattr(str, &#39;__bool__&#39;): pass</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">&gt;&gt;&gt; timeit.timeit(stmt=s</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> number=100000)</span></span>
<span class="line"><span style="color:#A6ACCD;">0.5829014980008651</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">def </span><span style="color:#82AAFF;">f</span><span style="color:#A6ACCD;">(x):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> x</span><span style="color:#89DDFF;">**</span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#A6ACCD;">def </span><span style="color:#82AAFF;">g</span><span style="color:#A6ACCD;">(x):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> x</span><span style="color:#89DDFF;">**</span><span style="color:#F78C6C;">4</span></span>
<span class="line"><span style="color:#A6ACCD;">def </span><span style="color:#82AAFF;">h</span><span style="color:#A6ACCD;">(x):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> x</span><span style="color:#89DDFF;">**</span><span style="color:#F78C6C;">8</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> timeit</span></span>
<span class="line"><span style="color:#A6ACCD;">print(timeit.timeit(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[func(42) for func in (f,g,h)]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> globals=globals()))</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="pickle-python-\u5BF9\u8C61\u5E8F\u5217\u5316" tabindex="-1">pickle\xA0--- Python \u5BF9\u8C61\u5E8F\u5217\u5316 <a class="header-anchor" href="#pickle-python-\u5BF9\u8C61\u5E8F\u5217\u5316" aria-hidden="true">#</a></h2><p>\u5BF9\u4E00\u4E2A Python \u5BF9\u8C61\u7ED3\u6784\u7684\u4E8C\u8FDB\u5236\u5E8F\u5217\u5316\u548C\u53CD\u5E8F\u5217\u5316</p><ul><li>\u5C01\u5B58 (pickling)\uFF1A\u5C06 Python \u5BF9\u8C61\u53CA\u5176\u6240\u62E5\u6709\u7684\u5C42\u6B21\u7ED3\u6784\u8F6C\u5316\u4E3A\u4E00\u4E2A\u5B57\u8282\u6D41\u7684\u8FC7\u7A0B</li><li>\u89E3\u5C01 (unpickling)</li></ul><p>\u65B9\u6CD5</p><ul><li>pickle.dump(obj, file, protocol=None, *, fix_imports=True, buffer_callback=None) <ul><li>\u5C06\u5BF9\u8C61 obj \u5C01\u5B58\u4EE5\u540E\u7684\u5BF9\u8C61\u5199\u5165\u5DF2\u6253\u5F00\u7684 file object file</li></ul></li><li>pickle.dumps(obj, protocol=None, *, fix_imports=True, buffer_callback=None) <ul><li>\u5C06 obj \u5C01\u5B58\u4EE5\u540E\u7684\u5BF9\u8C61\u4F5C\u4E3A bytes \u7C7B\u578B\u76F4\u63A5\u8FD4\u56DE\uFF0C\u800C\u4E0D\u662F\u5C06\u5176\u5199\u5165\u5230\u6587\u4EF6</li></ul></li><li>pickle.load(file, *, fix_imports=True, encoding=&quot;ASCII&quot;, errors=&quot;strict&quot;, buffers=None) <ul><li>\u4ECE\u5DF2\u6253\u5F00\u7684 file object \u6587\u4EF6 \u4E2D\u8BFB\u53D6\u5C01\u5B58\u540E\u7684\u5BF9\u8C61\uFF0C\u91CD\u5EFA\u5176\u4E2D\u7279\u5B9A\u5BF9\u8C61\u7684\u5C42\u6B21\u7ED3\u6784\u5E76\u8FD4\u56DE</li></ul></li><li>pickle.loads(bytes_object, *, fix_imports=True, encoding=&quot;ASCII&quot;, errors=&quot;strict&quot;, buffers=None) <ul><li>\u5BF9\u4E8E\u5C01\u5B58\u751F\u6210\u7684\u5BF9\u8C61 bytes_object\uFF0C\u8FD8\u539F\u51FA\u539F\u5BF9\u8C61\u7684\u7ED3\u6784\u5E76\u8FD4\u56DE</li></ul></li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> pickle</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">bytes</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> pickle</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">dumps</span><span style="color:#89DDFF;">(&lt;</span><span style="color:#FFCB6B;">object</span><span style="color:#89DDFF;">&gt;)</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">object</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> pickle</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">loads</span><span style="color:#89DDFF;">(&lt;</span><span style="color:#FFCB6B;">bytes</span><span style="color:#89DDFF;">&gt;)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">read_pickle_file</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">filename</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">filename</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rb</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> file</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> pickle</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">load</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">file</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">write_to_pickle_file</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">filename</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">an_object</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">filename</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">wb</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> file</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        pickle</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">dump</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">an_object</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">file</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>class pickle.Pickler(file, protocol=None, *, fix_imports=True, buffer_callback=None) <br> \u63A5\u53D7\u4E00\u4E2A\u4E8C\u8FDB\u5236\u6587\u4EF6\u7528\u4E8E\u5199\u5165 pickle \u6570\u636E\u6D41</p><ul><li>dump(obj)</li><li>\u5C06 obj \u5C01\u5B58\u540E\u7684\u5185\u5BB9\u5199\u5165\u5DF2\u6253\u5F00\u7684\u6587\u4EF6\u5BF9\u8C61\uFF0C\u8BE5\u6587\u4EF6\u5BF9\u8C61\u5DF2\u7ECF\u5728\u6784\u9020\u51FD\u6570\u4E2D\u6307\u5B9A</li><li>persistent_id(obj)</li><li>\u9ED8\u8BA4\u65E0\u52A8\u4F5C\uFF0C\u5B50\u7C7B\u7EE7\u627F\u91CD\u8F7D\u65F6\u4F7F\u7528</li><li>reducer_override(self, obj)</li><li>\u53EF\u4EE5\u5728 Pickler \u7684\u5B50\u7C7B\u4E2D\u5B9A\u4E49\u7684\u7279\u6B8A reducer</li></ul><p>class pickle.Unpickler(file, *, fix_imports=True, encoding=&quot;ASCII&quot;, errors=&quot;strict&quot;, buffers=None) <br> \u63A5\u53D7\u4E00\u4E2A\u4E8C\u8FDB\u5236\u6587\u4EF6\u7528\u4E8E\u8BFB\u53D6 pickle \u6570\u636E\u6D41</p><ul><li>load()\uFF1A\u4ECE\u6784\u9020\u51FD\u6570\u4E2D\u6307\u5B9A\u7684\u6587\u4EF6\u5BF9\u8C61\u91CC\u8BFB\u53D6\u5C01\u5B58\u597D\u7684\u5BF9\u8C61\uFF0C\u91CD\u5EFA\u5176\u4E2D\u7279\u5B9A\u5BF9\u8C61\u7684\u5C42\u6B21\u7ED3\u6784\u5E76\u8FD4\u56DE</li><li>persistent_load(pid)\uFF1A\u9ED8\u8BA4\u629B\u51FA UnpicklingError \u5F02\u5E38</li><li>find_class(module, name)\uFF1A\u5982\u6709\u5FC5\u8981\uFF0C\u5BFC\u5165 module \u6A21\u5757\u5E76\u8FD4\u56DE\u5176\u4E2D\u540D\u53EB name \u7684\u5BF9\u8C61</li></ul><p><strong>class pickle.PickleBuffer(buffer)</strong> <br> \u7F13\u51B2\u533A\u7684\u5305\u88C5\u5668 (wrapper)\uFF0C\u7F13\u51B2\u533A\u4E2D\u5305\u542B\u7740\u53EF\u5C01\u5B58\u7684\u6570\u636E</p><ul><li>raw()\uFF1A\u8FD4\u56DE\u8BE5\u7F13\u51B2\u533A\u5E95\u5C42\u5185\u5B58\u533A\u57DF\u7684 memoryview</li><li>release()\uFF1A\u91CA\u653E\u7531 PickleBuffer \u5360\u7528\u7684\u5E95\u5C42\u7F13\u51B2\u533A</li></ul><h2 id="json-json-\u7F16\u7801\u548C\u89E3\u7801\u5668" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/json.html" target="_blank" rel="noreferrer">json--- JSON \u7F16\u7801\u548C\u89E3\u7801\u5668</a> <a class="header-anchor" href="#json-json-\u7F16\u7801\u548C\u89E3\u7801\u5668" aria-hidden="true">#</a></h2><ul><li><p>json.dump(obj, fp, *, skipkeys=False, ensure_ascii=True, check_circular=True, allow_nan=True, cls=None, indent=None, separators=None, default=None, sort_keys=False, **kw)</p><ul><li>\u5C06 obj \u5E8F\u5217\u5316\u4E3A JSON \u683C\u5F0F\u5316\u6D41\u5F62\u5F0F</li></ul></li><li><p>json.load(fp, *, cls=None, object_hook=None, parse_float=None, parse_int=None, parse_constant=None, object_pairs_hook=None, **kw)</p></li><li><p>json.dumps(obj, *, skipkeys=False, ensure_ascii=True, check_circular=True, allow_nan=True, cls=None, indent=None, separators=None, default=None, sort_keys=False, **kw)</p><ul><li>\u5C06 obj \u5E8F\u5217\u5316\u4E3A JSON \u683C\u5F0F\u7684 str</li></ul></li><li><p>json.loads(s, *, cls=None, object_hook=None, parse_float=None, parse_int=None, parse_constant=None, object_pairs_hook=None, **kw)</p></li></ul><p>class json.<strong>JSONDecoder</strong>(<em>, object_hook=None, parse_float=None, parse_int=None, parse_constant=None, strict=True, object_pairs_hook=None) <br> \u7B80\u5355\u7684JSON\u89E3\u7801\u5668 <br> class json.<strong>JSONEncoder</strong>(</em>, skipkeys=False, ensure_ascii=True, check_circular=True, allow_nan=True, sort_keys=False, indent=None, separators=None, default=None) <br> \u7528\u4E8EPython\u6570\u636E\u7ED3\u6784\u7684\u53EF\u6269\u5C55JSON\u7F16\u7801\u5668</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> json</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">str</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> json</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">dumps</span><span style="color:#89DDFF;">(&lt;</span><span style="color:#FFCB6B;">object</span><span style="color:#89DDFF;">&gt;,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">ensure_ascii</span><span style="color:#89DDFF;">=True,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">indent</span><span style="color:#89DDFF;">=None)</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">object</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> json</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">loads</span><span style="color:#89DDFF;">(&lt;</span><span style="color:#FFCB6B;">str</span><span style="color:#89DDFF;">&gt;)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">read_json_file</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">filename</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">filename</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> file</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> json</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">load</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">file</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">write_to_json_file</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">filename</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">an_object</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">filename</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">w</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> file</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        json</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">dump</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">an_object</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">file</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">ensure_ascii</span><span style="color:#89DDFF;">=False,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">indent</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="csv-csv-\u6587\u4EF6\u8BFB\u5199" tabindex="-1">csv\xA0--- CSV \u6587\u4EF6\u8BFB\u5199 <a class="header-anchor" href="#csv-csv-\u6587\u4EF6\u8BFB\u5199" aria-hidden="true">#</a></h2><p>csv.reader(csvfile, dialect=&#39;excel&#39;, **fmtparams) <br> csv.writer(csvfile, dialect=&#39;excel&#39;, **fmtparams)</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> csv</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">read_csv_file</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">filename</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">filename</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">newline</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> file</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">list</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">csv</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reader</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">file</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">delimiter</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">quoting</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">csv</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">QUOTE_NONE</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;">        </span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">write_to_csv_file</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">filename</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">rows</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">filename</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">w</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">newline</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> file</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        writer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> csv</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writer</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">file</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        writer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writerows</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">rows</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>class csv.DictReader(f, fieldnames=None, restkey=None, restval=None, dialect=&#39;excel&#39;, *args, **kwds) <br> class csv.DictWriter(f, fieldnames, restval=&#39;&#39;, extrasaction=&#39;raise&#39;, dialect=&#39;excel&#39;, *args, **kwds)</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> csv</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">names.csv</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">newline</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> csvfile</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">     reader </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> csv</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">DictReader</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">csvfile</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> row </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> reader</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">row</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">first_name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">],</span><span style="color:#82AAFF;"> row</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">last_name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">names.csv</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">w</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">newline</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> csvfile</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    fieldnames </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">first_name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">last_name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    writer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> csv</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">DictWriter</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">csvfile</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">fieldnames</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">fieldnames</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    writer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writeheader</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    writer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writerow</span><span style="color:#89DDFF;">({</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">first_name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Baked</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">last_name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Beans</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>class csv.Dialect \u4E00\u4E2A\u5BB9\u5668\u7C7B\uFF0C\u5176\u5C5E\u6027\u5305\u542B\u6709\u5982\u4F55\u5904\u7406\u53CC\u5F15\u53F7\u3001\u7A7A\u767D\u7B26\u3001\u5206\u9694\u7B26\u7B49\u7684\u4FE1\u606F\u3002 <br> \u5E38\u91CF <br> csv.QUOTE_ALL \u6307\u793A writer \u5BF9\u8C61\u7ED9\u6240\u6709\u5B57\u6BB5\u52A0\u4E0A\u5F15\u53F7\u3002 <br> Reader \u5BF9\u8C61</p><ul><li>csvreader.dialect \u53EA\u8BFB\uFF0C\u4F9B\u89E3\u6790\u5668\u4F7F\u7528\u3002</li><li>csvreader.line_num \u6E90\u8FED\u4EE3\u5668\u5DF2\u7ECF\u8BFB\u53D6\u4E86\u7684\u884C\u6570\u3002</li></ul><p>Writer \u5BF9\u8C61</p><ul><li>csvwriter.writerow(row) \u5C06 row \u5F62\u53C2\u5199\u5165\u5230 writer \u7684\u6587\u4EF6\u5BF9\u8C61\uFF0C\u6839\u636E\u5F53\u524D Dialect \u8FDB\u884C\u683C\u5F0F\u5316</li><li>csvwriter.writerows(rows)</li><li>DictWriter.writeheader() \u5728 writer \u7684\u6587\u4EF6\u5BF9\u8C61\u4E2D\uFF0C\u5199\u5165\u4E00\u884C\u5B57\u6BB5\u540D\u79F0\uFF08\u5B57\u6BB5\u540D\u79F0\u5728\u6784\u9020\u51FD\u6570\u4E2D\u6307\u5B9A\uFF09</li></ul><h2 id="html" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/html.html#module-html" target="_blank" rel="noreferrer">html</a> <a class="header-anchor" href="#html" aria-hidden="true">#</a></h2><p>html\xA0--- \u8D85\u6587\u672C\u6807\u8BB0\u8BED\u8A00\u652F\u6301</p><ul><li>html.escape(s,\xA0quote=True)\uFF1A\u5C06\u5B57\u7B26\u4E32\u4E2D\u7684\u5B57\u7B26<code>&amp;</code> \u3001\xA0&lt;\xA0\u548C\xA0&gt;\xA0\u8F6C\u6362\u4E3A\u5B89\u5168\u7684HTML\u5E8F\u5217\u3002</li><li>html.unescape(s)\uFF1A\u5C06\u5B57\u7B26\u4E32\u4E2D\u7684\u6240\u6709\u547D\u540D\u548C\u6570\u5B57\u5B57\u7B26\u5F15\u7528 (\u5982\xA0&gt;) \u8F6C\u6362\u4E3A\u76F8\u5E94\u7684Unicode\u5B57\u7B26</li></ul><p>html.parser\xA0--- \u7B80\u5355\u7684 HTML \u548C XHTML \u89E3\u6790\u5668 <br> class html.parser.HTMLParser(*, convert_charrefs=True) \u4E00\u4E2A\u80FD\u89E3\u6790\u65E0\u6548\u6807\u8BB0\u7684\u89E3\u6790\u5668\u5B9E\u4F8B\u3002</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">from html</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">parser </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> HTMLParser</span></span>
<span class="line"><span style="color:#A6ACCD;">class MyHTMLParser(HTMLParser):</span></span>
<span class="line"><span style="color:#A6ACCD;">    def handle_starttag(self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> tag</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> attrs):</span></span>
<span class="line"><span style="color:#A6ACCD;">        print(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Encountered a start tag:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> tag)</span></span>
<span class="line"><span style="color:#A6ACCD;">    def handle_endtag(self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> tag):</span></span>
<span class="line"><span style="color:#A6ACCD;">        print(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Encountered an end tag :</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> tag)</span></span>
<span class="line"><span style="color:#A6ACCD;">    def handle_data(self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> data):</span></span>
<span class="line"><span style="color:#A6ACCD;">        print(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Encountered some data  :</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> data)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">parser = MyHTMLParser()</span></span>
<span class="line"><span style="color:#A6ACCD;">parser.feed(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;&lt;/head&gt;</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&lt;body&gt;&lt;h1&gt;Parse me!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>html.entities\xA0--- HTML \u4E00\u822C\u5B9E\u4F53\u7684\u5B9A\u4E49</p><h2 id="array-\u9AD8\u6548\u7684\u6570\u503C\u6570\u7EC4" tabindex="-1">array\xA0--- \u9AD8\u6548\u7684\u6570\u503C\u6570\u7EC4 <a class="header-anchor" href="#array-\u9AD8\u6548\u7684\u6570\u503C\u6570\u7EC4" aria-hidden="true">#</a></h2><p>\u5B9A\u4E49\u4E86\u4E00\u79CD\u5BF9\u8C61\u7C7B\u578B\uFF0C\u53EF\u4EE5\u7D27\u51D1\u5730\u8868\u793A\u57FA\u672C\u7C7B\u578B\u503C\u7684\u6570\u7EC4\uFF1A\u5B57\u7B26\u3001\u6574\u6570\u3001\u6D6E\u70B9\u6570\u7B49\u3002 \u6570\u7EC4\u5C5E\u4E8E\u5E8F\u5217\u7C7B\u578B\uFF0C\u5176\u884C\u4E3A\u4E0E\u5217\u8868\u975E\u5E38\u76F8\u4F3C\uFF0C\u4E0D\u540C\u4E4B\u5904\u5728\u4E8E\u5176\u4E2D\u5B58\u50A8\u7684\u5BF9\u8C61\u7C7B\u578B\u662F\u53D7\u9650\u7684\u3002</p><table><thead><tr><th>\u7C7B\u578B\u7801</th><th>C \u7C7B\u578B</th><th>Python \u7C7B\u578B</th><th>\u4EE5\u5B57\u8282\u8868\u793A\u7684\u6700\u5C0F\u5C3A\u5BF8</th></tr></thead><tbody><tr><td>&#39;b&#39;</td><td>signed char</td><td>int</td><td>1</td></tr><tr><td>&#39;B&#39;</td><td>unsigned char</td><td>int</td><td>1</td></tr><tr><td>&#39;u&#39;</td><td>Py_UNICODE</td><td>Unicode \u5B57\u7B26</td><td>2</td></tr><tr><td>&#39;h&#39;</td><td>signed short</td><td>int</td><td>2</td></tr><tr><td>&#39;H&#39;</td><td>unsigned short</td><td>int</td><td>2</td></tr><tr><td>&#39;i&#39;</td><td>signed int</td><td>int</td><td>2</td></tr><tr><td>&#39;I&#39;</td><td>unsigned int</td><td>int</td><td>2</td></tr><tr><td>&#39;l&#39;</td><td>signed long</td><td>int</td><td>4</td></tr><tr><td>&#39;L&#39;</td><td>unsigned long</td><td>int</td><td>4</td></tr><tr><td>&#39;q&#39;</td><td>signed long long</td><td>int</td><td>8</td></tr><tr><td>&#39;Q&#39;</td><td>unsigned long long</td><td>int</td><td>8</td></tr><tr><td>&#39;f&#39;</td><td>float</td><td>float</td><td>4</td></tr><tr><td>&#39;d&#39;</td><td>double</td><td>float</td><td>8</td></tr></tbody></table><p><strong>class\xA0array.array(typecode[,\xA0initializer])</strong>\uFF1A\u4E00\u4E2A\u5305\u542B\u7531\xA0typecode\xA0\u9650\u5236\u7C7B\u578B\u7684\u6761\u76EE\u7684\u65B0\u6570\u7EC4\uFF0C\u5E76\u7531\u53EF\u9009\u7684\xA0initializer\xA0\u503C\u8FDB\u884C\u521D\u59CB\u5316\uFF0C\u8BE5\u503C\u5FC5\u987B\u4E3A\u4E00\u4E2A\u5217\u8868\u3001<a href="https://docs.python.org/zh-cn/3/glossary.html#term-bytes-like-object" target="_blank" rel="noreferrer">bytes-like object</a> \u6216\u5305\u542B\u6B63\u786E\u7C7B\u578B\u5143\u7D20\u7684\u53EF\u8FED\u4EE3\u5BF9\u8C61\u3002 <br> <strong>array.typecode</strong>\uFF1A\u7528\u4E8E\u521B\u5EFA\u6570\u7EC4\u7684\u7C7B\u578B\u7801\u5B57\u7B26\u3002 <br> <strong>array.itemsize</strong>\uFF1A\u5728\u5185\u90E8\u8868\u793A\u4E2D\u4E00\u4E2A\u6570\u7EC4\u9879\u7684\u5B57\u8282\u957F\u5EA6\u3002 <br> <strong>array.append(x)</strong>\uFF1A\u6DFB\u52A0\u4E00\u4E2A\u503C\u4E3A x \u7684\u65B0\u9879\u5230\u6570\u7EC4\u672B\u5C3E\u3002 <br> <strong>array.buffer_info()</strong>\uFF1A\u8FD4\u56DE\u4E00\u4E2A\u5143\u7EC4 (address, length) \u4EE5\u7ED9\u51FA\u7528\u4E8E\u5B58\u653E\u6570\u7EC4\u5185\u5BB9\u7684\u7F13\u51B2\u533A\u5143\u7D20\u7684\u5F53\u524D\u5185\u5B58\u5730\u5740\u548C\u957F\u5EA6\u3002 \u4EE5\u5B57\u8282\u8868\u793A\u7684\u5185\u5B58\u7F13\u51B2\u533A\u5927\u5C0F\u53EF\u901A\u8FC7 array.buffer_info()[1] * array.itemsize \u6765\u8BA1\u7B97\u3002 \u8FD9\u5728\u4F7F\u7528\u9700\u8981\u5185\u5B58\u5730\u5740\u7684\u4F4E\u5C42\u7EA7\uFF08\u56E0\u6B64\u4E0D\u591F\u5B89\u5168\uFF09 I/O \u63A5\u53E3\u65F6\u4F1A\u5F88\u6709\u7528\uFF0C\u4F8B\u5982\u67D0\u4E9B ioctl() \u64CD\u4F5C\u3002 \u53EA\u8981\u6570\u7EC4\u5B58\u5728\u5E76\u4E14\u6CA1\u6709\u5E94\u7528\u6539\u53D8\u957F\u5EA6\u7684\u64CD\u4F5C\uFF0C\u8FD4\u56DE\u6570\u503C\u5C31\u662F\u6709\u6548\u7684\u3002 <br> <strong>array.byteswap()</strong>\uFF1A\u201C\u5B57\u8282\u5BF9\u8C03\u201D\u6240\u6709\u6570\u7EC4\u9879\u3002 \u6B64\u65B9\u6CD5\u53EA\u652F\u6301\u5927\u5C0F\u4E3A 1, 2, 4 \u6216 8 \u5B57\u8282\u7684\u503C\uFF1B\u5BF9\u4E8E\u5176\u4ED6\u503C\u7C7B\u578B\u5C06\u5F15\u53D1 RuntimeError\u3002 \u5B83\u9002\u7528\u4E8E\u4ECE\u4E0D\u540C\u5B57\u8282\u5E8F\u673A\u5668\u6240\u751F\u6210\u7684\u6587\u4EF6\u4E2D\u8BFB\u53D6\u6570\u636E\u7684\u60C5\u51B5\u3002 <br> <strong>array.count(x)</strong>\uFF1A\u8FD4\u56DE x \u5728\u6570\u7EC4\u4E2D\u7684\u51FA\u73B0\u6B21\u6570\u3002 <br> <strong>array.extend(iterable)</strong>\uFF1A\u5C06\u6765\u81EA iterable \u7684\u9879\u6DFB\u52A0\u5230\u6570\u7EC4\u672B\u5C3E\u3002 \u5982\u679C iterable \u662F\u53E6\u4E00\u4E2A\u6570\u7EC4\uFF0C\u5B83\u5FC5\u987B\u5177\u6709 \u5B8C\u5168 \u76F8\u540C\u7684\u7C7B\u578B\u7801\uFF1B\u5426\u5219\u5C06\u5F15\u53D1 TypeError\u3002 \u5982\u679C iterable \u4E0D\u662F\u4E00\u4E2A\u6570\u7EC4\uFF0C\u5219\u5B83\u5FC5\u987B\u4E3A\u53EF\u8FED\u4EE3\u5BF9\u8C61\u5E76\u4E14\u5176\u5143\u7D20\u5FC5\u987B\u4E3A\u53EF\u6DFB\u52A0\u5230\u6570\u7EC4\u7684\u9002\u5F53\u7C7B\u578B\u3002 <br> <strong>array.frombytes(s)</strong>\uFF1A\u6DFB\u52A0\u6765\u81EA\u5B57\u7B26\u4E32\u7684\u9879\uFF0C\u5C06\u5B57\u7B26\u4E32\u89E3\u8BFB\u4E3A\u673A\u5668\u503C\u7684\u6570\u7EC4\uFF08\u76F8\u5F53\u4E8E\u4F7F\u7528 fromfile() \u65B9\u6CD5\u4ECE\u6587\u4EF6\u4E2D\u8BFB\u53D6\u6570\u636E\uFF09\u3002 <br> <strong>array.fromfile(f, n)</strong>\uFF1A\u4ECE file object f \u4E2D\u8BFB\u53D6 n \u9879\uFF08\u89E3\u8BFB\u4E3A\u673A\u5668\u503C\uFF09\u5E76\u5C06\u5B83\u4EEC\u6DFB\u52A0\u5230\u6570\u7EC4\u672B\u5C3E\u3002 \u5982\u679C\u53EF\u8BFB\u53D6\u6570\u636E\u5C11\u4E8E n \u9879\u5219\u5C06\u5F15\u53D1 EOFError\uFF0C\u4F46\u6709\u6548\u7684\u9879\u4ECD\u7136\u4F1A\u88AB\u63D2\u5165\u6570\u7EC4\u3002 f \u5FC5\u987B\u4E3A\u4E00\u4E2A\u771F\u5B9E\u7684\u5185\u7F6E\u6587\u4EF6\u5BF9\u8C61\uFF1B\u4E0D\u652F\u6301\u5E26\u6709 read() \u65B9\u6CD5\u7684\u5176\u5B83\u5BF9\u8C61\u3002 <br> <strong>array.fromlist(list)</strong>\uFF1A\u6DFB\u52A0\u6765\u81EA list \u7684\u9879\u3002 \u8FD9\u7B49\u4EF7\u4E8E for x in list: a.append(x)\uFF0C\u533A\u522B\u5728\u4E8E\u5982\u679C\u53D1\u751F\u7C7B\u578B\u9519\u8BEF\uFF0C\u6570\u7EC4\u5C06\u4E0D\u4F1A\u88AB\u6539\u53D8\u3002 <br> <strong>array.fromunicode(s)</strong>\uFF1A\u4F7F\u7528\u6765\u81EA\u7ED9\u5B9A Unicode \u5B57\u7B26\u4E32\u7684\u6570\u7EC4\u6269\u5C55\u6570\u7EC4\u3002 \u6570\u7EC4\u5FC5\u987B\u662F\u7C7B\u578B\u4E3A &#39;u&#39; \u7684\u6570\u7EC4\uFF1B\u5426\u5219\u5C06\u5F15\u53D1 ValueError\u3002 \u8BF7\u4F7F\u7528 array.frombytes(unicodestring.encode(enc)) \u6765\u5C06 Unicode \u6570\u636E\u6DFB\u52A0\u5230\u5176\u4ED6\u7C7B\u578B\u7684\u6570\u7EC4\u3002 <br> <strong>array.index(x)</strong>\uFF1A\u8FD4\u56DE\u6700\u5C0F\u7684 i \u4F7F\u5F97 i \u4E3A x \u5728\u6570\u7EC4\u4E2D\u9996\u6B21\u51FA\u73B0\u7684\u5E8F\u53F7\u3002 <br> <strong>array.insert(i, x)</strong>\uFF1A\u5C06\u503C x \u4F5C\u4E3A\u65B0\u9879\u63D2\u5165\u6570\u7EC4\u7684 i \u4F4D\u7F6E\u4E4B\u524D\u3002 \u8D1F\u503C\u5C06\u88AB\u89C6\u4E3A\u76F8\u5BF9\u4E8E\u6570\u7EC4\u672B\u5C3E\u7684\u4F4D\u7F6E\u3002 <br> <strong>array.pop([i])</strong>\uFF1A\u4ECE\u6570\u7EC4\u4E2D\u79FB\u9664\u5E8F\u53F7\u4E3A i \u7684\u9879\u5E76\u5C06\u5176\u8FD4\u56DE\u3002 \u53EF\u9009\u53C2\u6570\u503C\u9ED8\u8BA4\u4E3A -1\uFF0C\u56E0\u6B64\u9ED8\u8BA4\u5C06\u79FB\u9664\u5E76\u8FD4\u56DE\u672B\u5C3E\u9879\u3002 <br> <strong>array.remove(x)</strong>\uFF1A\u4ECE\u6570\u7EC4\u4E2D\u79FB\u9664\u9996\u6B21\u51FA\u73B0\u7684 x\u3002 <br> <strong>array.reverse()</strong>\uFF1A\u53CD\u8F6C\u6570\u7EC4\u4E2D\u5404\u9879\u7684\u987A\u5E8F\u3002 <br> <strong>array.tobytes()</strong>\uFF1A\u5C06\u6570\u7EC4\u8F6C\u6362\u4E3A\u4E00\u4E2A\u673A\u5668\u503C\u6570\u7EC4\u5E76\u8FD4\u56DE\u5176\u5B57\u8282\u8868\u793A\uFF08\u5373\u76F8\u5F53\u4E0E\u901A\u8FC7 tofile() \u65B9\u6CD5\u5199\u5165\u5230\u6587\u4EF6\u7684\u5B57\u8282\u5E8F\u5217\u3002\uFF09 <br> <strong>array.tofile(f)</strong>\uFF1A\u5C06\u6240\u6709\u9879\uFF08\u4F5C\u4E3A\u673A\u5668\u503C\uFF09\u5199\u5165\u5230 file object f\u3002 <br> <strong>array.tolist()</strong>\uFF1A\u5C06\u6570\u7EC4\u8F6C\u6362\u4E3A\u5305\u542B\u76F8\u540C\u9879\u7684\u666E\u901A\u5217\u8868\u3002 <br> <strong>array.tounicode()</strong>\uFF1A\u5C06\u6570\u7EC4\u8F6C\u6362\u4E3A\u4E00\u4E2A Unicode \u5B57\u7B26\u4E32\u3002 \u6570\u7EC4\u5FC5\u987B\u662F\u7C7B\u578B\u4E3A &#39;u&#39; \u7684\u6570\u7EC4\uFF1B\u5426\u5219\u5C06\u5F15\u53D1 ValueError\u3002 \u8BF7\u4F7F\u7528 array.tobytes().decode(enc) \u6765\u4ECE\u5176\u4ED6\u7C7B\u578B\u7684\u6570\u7EC4\u751F\u6210 Unicode \u5B57\u7B26\u4E32\u3002</p><h2 id="os-\u591A\u79CD\u64CD\u4F5C\u7CFB\u7EDF\u63A5\u53E3" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/os.html" target="_blank" rel="noreferrer">os--- \u591A\u79CD\u64CD\u4F5C\u7CFB\u7EDF\u63A5\u53E3</a> <a class="header-anchor" href="#os-\u591A\u79CD\u64CD\u4F5C\u7CFB\u7EDF\u63A5\u53E3" aria-hidden="true">#</a></h2><ul><li><a href="http://os.name" target="_blank" rel="noreferrer">os.name</a> \uFF1A\u83B7\u53D6\u5E73\u53F0\u540D\u79F0</li><li>os.cpu_count() \uFF1A\u83B7\u53D6\u7CFB\u7EDF\u7684\u6838\u5FC3\u6570</li><li>os.chmod(path, mode) \uFF1A \u6539\u53D8\u6743\u9650</li><li>os.getcwd() \uFF1A\u51FD\u6570\u5F97\u5230\u5F53\u524D\u5DE5\u4F5C\u76EE\u5F55\uFF0C\u5373\u5F53\u524DPython\u811A\u672C\u5DE5\u4F5C\u7684\u76EE\u5F55\u8DEF\u5F84</li><li>os.path.abspath($name) \uFF1A\u5F53\u524D\u76EE\u5F55\u4E0B\u6587\u4EF6\u6216\u6587\u4EF6\u5939\u7684\u7EDD\u5BF9\u8DEF\u5F84</li><li>os.path.basename(path) \uFF1A\u8FD4\u56DE\u6587\u4EF6\u540D</li><li>os.path.dirname(path) \uFF1A\u8FD4\u56DE\u6587\u4EF6\u7684\u4E0A\u7EA7\u8DEF\u5F84</li><li>os.path.split() \uFF1A\u5206\u79BB\u6587\u4EF6\u540D\u548C\u4E0A\u7EA7\u8DEF\u5F84</li><li>os.path.join() \uFF1A\u5408\u5E76\u6587\u4EF6\u540D\u548C\u6307\u5B9A\u8DEF\u5F84</li><li>os.path.splitext() \uFF1A\u5206\u79BB\u6587\u4EF6\u540D\u4E0E\u6269\u5C55\u540D\uFF0C\u8FD4\u56DE\u7684\u6269\u5C55\u540D\u5305\u62EC\u4E86&#39;.&#39;\u7B26\u53F7\uFF0C\u9ED8\u8BA4\u53EA\u8FD4\u56DE\u7B2C\u4E00\u4E2A&#39;.\u540E\u7F00&#39;\u548C\u524D\u7F00\u3002</li><li>os.chdir($dirname)\uFF1A\u6539\u53D8\u5DE5\u4F5C\u76EE\u5F55\u5230dirname</li><li>os.listdir($path) \uFF1A\u8FD4\u56DE\u6307\u5B9A\u76EE\u5F55\u4E0B\u7684\u6240\u6709\u6587\u4EF6\u548C\u76EE\u5F55\u540D</li><li>os.mkdir($path) \u521B\u5EFA\u4E00\u4E2A\u76EE\u5F55</li><li>os.rmdir($path) \u5220\u9664\u4E00\u4E2A\u76EE\u5F55</li><li>os.rename(src, dst) \u8BB0\u5F97\u4E0D\u80FD\u6709\u540C\u540D\u6587\u4EF6\u5B58\u5728</li><li>os.path.getsize(name) \u83B7\u5F97\u6587\u4EF6\u5927\u5C0F\uFF0C\u5982\u679Cname\u662F\u76EE\u5F55\u8FD4\u56DE0L</li><li>os.path.isfile() \u51FD\u6570\u5206\u522B\u68C0\u9A8C\u7ED9\u51FA\u7684\u8DEF\u5F84\u662F\u4E00\u4E2A\u6587\u4EF6</li><li>os.path.isdir() \u51FD\u6570\u5206\u522B\u68C0\u9A8C\u7ED9\u51FA\u7684\u8DEF\u5F84\u662F\u4E00\u4E2A\u76EE\u5F55</li><li>os.path.exists() \u51FD\u6570\u7528\u6765\u68C0\u9A8C\u7ED9\u51FA\u7684\u8DEF\u5F84\u662F\u5426\u771F\u5730\u5B58\u5728</li></ul><p>\u6267\u884C\u5916\u90E8shell\u547D\u4EE4</p><ul><li>os.system(\u2019command\u2018) \u65E0\u8FD4\u56DE</li><li>os.popen(cmd,\xA0mode=&#39;r&#39;,\xA0buffering=-1) \u53EF\u8BFB\u53D6\u8FD4\u56DE</li></ul><h2 id="pathlib-\u9762\u5411\u5BF9\u8C61\u7684\u6587\u4EF6\u7CFB\u7EDF\u8DEF\u5F84" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/pathlib.html" target="_blank" rel="noreferrer">pathlib--- \u9762\u5411\u5BF9\u8C61\u7684\u6587\u4EF6\u7CFB\u7EDF\u8DEF\u5F84</a> <a class="header-anchor" href="#pathlib-\u9762\u5411\u5BF9\u8C61\u7684\u6587\u4EF6\u7CFB\u7EDF\u8DEF\u5F84" aria-hidden="true">#</a></h2><ul><li>PurePath.parent \u7236\u8DEF\u5F84</li><li><a href="http://PurePath.name" target="_blank" rel="noreferrer">PurePath.name</a> \u6700\u540E\u8DEF\u5F84\u7EC4\u4EF6\u7684\u5B57\u7B26\u4E32</li><li>PurePath.suffix \u6700\u540E\u4E00\u4E2A\u7EC4\u4EF6\u7684\u6587\u4EF6\u6269\u5C55\u540D</li><li>PurePath.stem \u6700\u540E\u4E00\u4E2A\u8DEF\u5F84\u7EC4\u4EF6\uFF0C\u9664\u53BB\u540E\u7F00</li><li>PurePath.as_posix() \u8FD4\u56DE\u4F7F\u7528\u6B63\u659C\u6760\uFF08/\uFF09\u7684\u8DEF\u5F84\u5B57\u7B26\u4E32</li><li>PurePath.is_absolute() PurePath.is_relative_to(*other) \u8FD4\u56DE\u6B64\u8DEF\u5F84\u662F\u5426\u76F8\u5BF9\u4E8E other \u7684\u8DEF\u5F84</li><li>PurePath.joinpath(*other) \u8C03\u7528\u6B64\u65B9\u6CD5\u7B49\u540C\u4E8E\u5C06\u6BCF\u4E2A other \u53C2\u6570\u4E2D\u7684\u9879\u76EE\u8FDE\u63A5</li><li>PurePath.match(pattern) \u5C06\u6B64\u8DEF\u5F84\u4E0E\u63D0\u4F9B\u7684\u901A\u914D\u7B26\u98CE\u683C\u7684\u6A21\u5F0F\u5339\u914D</li><li>PurePath.relative_to(*other) \u8BA1\u7B97\u6B64\u8DEF\u5F84\u76F8\u5BF9 other \u8868\u793A\u8DEF\u5F84\u7684\u7248\u672C</li><li>PurePath.with_name(name) \u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u8DEF\u5F84\u5E76\u4FEE\u6539name</li><li>PurePath.with_stem(stem) \u8FD4\u56DE\u4E00\u4E2A\u5E26\u6709\u4FEE\u6539\u540E stem \u7684\u65B0\u8DEF\u5F84</li><li>PurePath.with_suffix(suffix) \u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684\u8DEF\u5F84\u5E76\u4FEE\u6539 suffix</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">list_file</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">file</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> Path</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">level</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u6807\u9898\u52065\u7EA7</span></span>
<span class="line"><span style="color:#A6ACCD;">    level </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> sub_path </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">iterdir</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u76EE\u5F55\u4EE5\u6807\u9898\u5F62\u5F0F\u5448\u73B0\uFF0C\u5927\u4E8E5\u7EA7\u4EC5\u52A0\u7C97\u663E\u793A</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> sub_path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">is_dir</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">            directory_name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;</span><span style="color:#F78C6C;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">level</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;"> </span><span style="color:#F78C6C;">{</span><span style="color:#A6ACCD;">sub_path</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">  </span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> level </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">else</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;**</span><span style="color:#F78C6C;">{</span><span style="color:#A6ACCD;">sub_path</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">**  </span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">            file</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">write</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">directory_name</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">list_file</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">md</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> sub_path</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> level</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u6587\u4EF6\u4EE5\u5217\u8868\u5F62\u5F0F\u5C55\u73B0</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> sub_path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">is_file</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">            relative_path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> parse</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">quote</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">sub_path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">relative_to</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">as_posix</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">            file</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">write</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;- [</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">sub_path</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">stem</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">](</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">relative_path</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">)  </span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    location </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Documents</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">README.md</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">w</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> md</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        md</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">write</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"># Notes  </span><span style="color:#A6ACCD;">\\n</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">list_file</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">md</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> Path</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">location</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Completed!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><table><thead><tr><th><a href="https://docs.python.org/zh-cn/3/library/os.html#module-os" target="_blank" rel="noreferrer">os</a> \u548C <a href="https://docs.python.org/zh-cn/3/library/os.path.html#module-os.path" target="_blank" rel="noreferrer">os.path</a></th><th><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#module-pathlib" target="_blank" rel="noreferrer">pathlib</a></th></tr></thead><tbody><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.abspath" target="_blank" rel="noreferrer">os.path.abspath()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.resolve" target="_blank" rel="noreferrer">Path.resolve()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.html#os.chmod" target="_blank" rel="noreferrer">os.chmod()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.chmod" target="_blank" rel="noreferrer">Path.chmod()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.html#os.mkdir" target="_blank" rel="noreferrer">os.mkdir()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.mkdir" target="_blank" rel="noreferrer">Path.mkdir()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.html#os.makedirs" target="_blank" rel="noreferrer">os.makedirs()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.mkdir" target="_blank" rel="noreferrer">Path.mkdir()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.html#os.rename" target="_blank" rel="noreferrer">os.rename()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.rename" target="_blank" rel="noreferrer">Path.rename()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.html#os.replace" target="_blank" rel="noreferrer">os.replace()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.replace" target="_blank" rel="noreferrer">Path.replace()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.html#os.rmdir" target="_blank" rel="noreferrer">os.rmdir()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.rmdir" target="_blank" rel="noreferrer">Path.rmdir()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.html#os.remove" target="_blank" rel="noreferrer">os.remove()</a>, <a href="https://docs.python.org/zh-cn/3/library/os.html#os.unlink" target="_blank" rel="noreferrer">os.unlink()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.unlink" target="_blank" rel="noreferrer">Path.unlink()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.html#os.getcwd" target="_blank" rel="noreferrer">os.getcwd()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.cwd" target="_blank" rel="noreferrer">Path.cwd()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.exists" target="_blank" rel="noreferrer">os.path.exists()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.exists" target="_blank" rel="noreferrer">Path.exists()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.expanduser" target="_blank" rel="noreferrer">os.path.expanduser()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.expanduser" target="_blank" rel="noreferrer">Path.expanduser()</a> \u548C <a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.home" target="_blank" rel="noreferrer">Path.home()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.html#os.listdir" target="_blank" rel="noreferrer">os.listdir()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.iterdir" target="_blank" rel="noreferrer">Path.iterdir()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.isdir" target="_blank" rel="noreferrer">os.path.isdir()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.is_dir" target="_blank" rel="noreferrer">Path.is_dir()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.isfile" target="_blank" rel="noreferrer">os.path.isfile()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.is_file" target="_blank" rel="noreferrer">Path.is_file()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.islink" target="_blank" rel="noreferrer">os.path.islink()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.is_symlink" target="_blank" rel="noreferrer">Path.is_symlink()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.html#os.link" target="_blank" rel="noreferrer">os.link()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.hardlink_to" target="_blank" rel="noreferrer">Path.hardlink_to()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.html#os.symlink" target="_blank" rel="noreferrer">os.symlink()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.symlink_to" target="_blank" rel="noreferrer">Path.symlink_to()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.html#os.readlink" target="_blank" rel="noreferrer">os.readlink()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.readlink" target="_blank" rel="noreferrer">Path.readlink()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.relpath" target="_blank" rel="noreferrer">os.path.relpath()</a></td><td>Path.relative_to()</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.html#os.stat" target="_blank" rel="noreferrer">os.stat()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.stat" target="_blank" rel="noreferrer">Path.stat()</a>, <a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.owner" target="_blank" rel="noreferrer">Path.owner()</a>, <a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.group" target="_blank" rel="noreferrer">Path.group()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.isabs" target="_blank" rel="noreferrer">os.path.isabs()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.PurePath.is_absolute" target="_blank" rel="noreferrer">PurePath.is_absolute()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.join" target="_blank" rel="noreferrer">os.path.join()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.PurePath.joinpath" target="_blank" rel="noreferrer">PurePath.joinpath()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.basename" target="_blank" rel="noreferrer">os.path.basename()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.PurePath.name" target="_blank" rel="noreferrer">PurePath.name</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.dirname" target="_blank" rel="noreferrer">os.path.dirname()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.PurePath.parent" target="_blank" rel="noreferrer">PurePath.parent</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.samefile" target="_blank" rel="noreferrer">os.path.samefile()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.Path.samefile" target="_blank" rel="noreferrer">Path.samefile()</a></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/os.path.html#os.path.splitext" target="_blank" rel="noreferrer">os.path.splitext()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/pathlib.html#pathlib.PurePath.suffix" target="_blank" rel="noreferrer">PurePath.suffix</a></td></tr></tbody></table><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> pathlib </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> Path</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">listFile</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">level</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">preflag</span><span style="color:#89DDFF;">=True,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">flag</span><span style="color:#89DDFF;">=True,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">placeholder</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">depth</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">hide</span><span style="color:#89DDFF;">=False):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> level </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> depth</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># Hidden files</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">not</span><span style="color:#A6ACCD;"> hide </span><span style="color:#89DDFF;">and</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">match</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.*</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">or</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">match</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$*</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> level </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        placeholder </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> preflag </span><span style="color:#89DDFF;">else</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u2502 </span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    symbol </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">not</span><span style="color:#A6ACCD;"> level </span><span style="color:#89DDFF;">else</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u2514\u2500</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> flag </span><span style="color:#89DDFF;">else</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u251C\u2500</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">placeholder </span><span style="color:#89DDFF;">+</span><span style="color:#82AAFF;"> symbol </span><span style="color:#89DDFF;">+</span><span style="color:#82AAFF;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">is_dir</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">        subpath </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">x </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> x </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">iterdir</span><span style="color:#89DDFF;">()]</span></span>
<span class="line"><span style="color:#A6ACCD;">        num </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">len</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">subpath</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">num</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">try</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#82AAFF;">listFile</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">subpath</span><span style="color:#89DDFF;">[</span><span style="color:#82AAFF;">i</span><span style="color:#89DDFF;">],</span><span style="color:#82AAFF;"> level</span><span style="color:#89DDFF;">+</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> flag</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> i </span><span style="color:#89DDFF;">==</span></span>
<span class="line"><span style="color:#82AAFF;">                         num </span><span style="color:#89DDFF;">-</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> placeholder</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> depth</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> hide</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">except</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">error</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span></span>
<span class="line"><span style="color:#A6ACCD;">p </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Path</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">D://</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">listFile</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">p</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="shutil-\u9AD8\u9636\u6587\u4EF6\u64CD\u4F5C" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/shutil.html" target="_blank" rel="noreferrer">shutil--- \u9AD8\u9636\u6587\u4EF6\u64CD\u4F5C</a> <a class="header-anchor" href="#shutil-\u9AD8\u9636\u6587\u4EF6\u64CD\u4F5C" aria-hidden="true">#</a></h2><ul><li>shutil.copy(src, dst, *, follow_symlinks=True)\uFF1A\u5C06\u6587\u4EF6 src \u62F7\u8D1D\u5230\u6587\u4EF6\u6216\u76EE\u5F55 dst</li><li>shutil.copy2(src, dst, *, follow_symlinks=True)\uFF1A\u7C7B\u4F3C\u4E8E copy()\uFF0C\u4F1A\u5C1D\u8BD5\u4FDD\u7559\u6587\u4EF6\u7684\u5143\u6570\u636E</li><li>shutil.copyfile(src, dst, *, follow_symlinks=True)\uFF1A\u5C06\u540D\u4E3A src \u7684\u6587\u4EF6\u7684\u5185\u5BB9\uFF08\u4E0D\u5305\u62EC\u5143\u6570\u636E\uFF09\u62F7\u8D1D\u5230\u540D\u4E3A dst \u7684\u6587\u4EF6\u5E76\u8FD4\u56DE dst</li><li>shutil.copytree(src, dst, symlinks=False, ignore=None, copy_function=copy2, ignore_dangling_symlinks=False, dirs_exist_ok=False)\uFF1A\u5C06\u4EE5 src \u4E3A\u6839\u8D77\u70B9\u7684\u6574\u4E2A\u76EE\u5F55\u6811\u62F7\u8D1D\u5230\u540D\u4E3A dst \u7684\u76EE\u5F55\u5E76\u8FD4\u56DE\u76EE\u6807\u76EE\u5F55</li><li>shutil.rmtree(path, ignore_errors=False, onerror=None)\uFF1A\u5220\u9664\u4E00\u4E2A\u5B8C\u6574\u7684\u76EE\u5F55\u6811</li><li>shutil.move(src, dst, copy_function=copy2)\uFF1A\u9012\u5F52\u5730\u5C06\u4E00\u4E2A\u6587\u4EF6\u6216\u76EE\u5F55 (src) \u79FB\u81F3\u53E6\u4E00\u4F4D\u7F6E (dst) \u5E76\u8FD4\u56DE\u76EE\u6807\u4F4D\u7F6E</li><li>shutil.make_archive(base_name, format[, root_dir[, base_dir[, verbose[, dry_run[, owner[, group[, logger]]]]]]])\uFF1A\u521B\u5EFA\u4E00\u4E2A\u5F52\u6863\u6587\u4EF6\uFF08\u4F8B\u5982 zip \u6216 tar\uFF09\u5E76\u8FD4\u56DE\u5176\u540D\u79F0</li><li>shutil.unpack_archive(filename[, extract_dir[, format]])\uFF1A\u89E3\u5305\u4E00\u4E2A\u5F52\u6863\u6587\u4EF6</li><li>shutil.get_terminal_size(fallback=(columns, lines))\uFF1A\u83B7\u53D6\u7EC8\u7AEF\u7A97\u53E3\u7684\u5C3A\u5BF8</li></ul><h2 id="glob-unix-\u98CE\u683C\u8DEF\u5F84\u540D\u6A21\u5F0F\u6269\u5C55" tabindex="-1">glob\xA0--- Unix \u98CE\u683C\u8DEF\u5F84\u540D\u6A21\u5F0F\u6269\u5C55 <a class="header-anchor" href="#glob-unix-\u98CE\u683C\u8DEF\u5F84\u540D\u6A21\u5F0F\u6269\u5C55" aria-hidden="true">#</a></h2><ul><li>glob.glob(pathname, *, recursive=False)\uFF1A\u8FD4\u56DE\u5339\u914D pathname \u7684\u53EF\u80FD\u4E3A\u7A7A\u7684\u8DEF\u5F84\u540D\u5217\u8868</li><li>glob.iglob(pathname, *, recursive=False)\uFF1A\u8FD4\u56DE\u4E00\u4E2A iterator\uFF0C\u5B83\u4F1A\u4EA7\u751F\u4E0E glob() \u76F8\u540C\u7684\u7ED3\u679C\uFF0C\u4F46\u4E0D\u4F1A\u5B9E\u9645\u5730\u540C\u65F6\u4FDD\u5B58\u5B83\u4EEC</li><li>glob.escape(pathname)\uFF1A\u8F6C\u4E49\u6240\u6709\u7279\u6B8A\u5B57\u7B26 (&#39;?&#39;, &#39;*&#39; \u548C &#39;[&#39;)</li></ul><h2 id="sys-\u7CFB\u7EDF\u76F8\u5173\u7684\u53C2\u6570\u548C\u51FD\u6570" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/sys.html" target="_blank" rel="noreferrer">sys--- \u7CFB\u7EDF\u76F8\u5173\u7684\u53C2\u6570\u548C\u51FD\u6570</a> <a class="header-anchor" href="#sys-\u7CFB\u7EDF\u76F8\u5173\u7684\u53C2\u6570\u548C\u51FD\u6570" aria-hidden="true">#</a></h2><ul><li>sys.argv \u547D\u4EE4\u884C\u53C2\u6570List\uFF0C\u7B2C\u4E00\u4E2A\u5143\u7D20\u662F\u7A0B\u5E8F\u672C\u8EAB\u8DEF\u5F84</li><li>sys.path \u8FD4\u56DE\u6A21\u5757\u7684\u641C\u7D22\u8DEF\u5F84\uFF0C\u521D\u59CB\u5316\u65F6\u4F7F\u7528PYTHONPATH\u73AF\u5883\u53D8\u91CF\u7684\u503C</li><li>sys.modules.keys() \u8FD4\u56DE\u6240\u6709\u5DF2\u7ECF\u5BFC\u5165\u7684\u6A21\u5757\u5217\u8868</li><li>sys.modules \u8FD4\u56DE\u7CFB\u7EDF\u5BFC\u5165\u7684\u6A21\u5757\u5B57\u6BB5\uFF0Ckey\u662F\u6A21\u5757\u540D\uFF0Cvalue\u662F\u6A21\u5757</li><li>sys.exc_info() \u83B7\u53D6\u5F53\u524D\u6B63\u5728\u5904\u7406\u7684\u5F02\u5E38\u7C7B,exc_type\u3001exc_value\u3001exc_traceback\u5F53\u524D\u5904\u7406\u7684\u5F02\u5E38\u8BE6\u7EC6\u4FE1\u606F</li><li>sys.exit(n) \u9000\u51FA\u7A0B\u5E8F\uFF0C\u6B63\u5E38\u9000\u51FA\u65F6exit(0)</li><li>sys.hexversion \u83B7\u53D6Python\u89E3\u91CA\u7A0B\u5E8F\u7684\u7248\u672C\u503C\uFF0C16\u8FDB\u5236\u683C\u5F0F\u5982\uFF1A0x020403F0</li><li>sys.version \u83B7\u53D6Python\u89E3\u91CA\u7A0B\u5E8F\u7684\u7248\u672C\u4FE1\u606F</li><li>sys.platform \u8FD4\u56DE\u64CD\u4F5C\u7CFB\u7EDF\u5E73\u53F0\u540D\u79F0</li><li>sys.stdout \u6807\u51C6\u8F93\u51FA</li><li>sys.stdout.write(\u2018aaa\u2018) \u6807\u51C6\u8F93\u51FA\u5185\u5BB9</li><li>sys.stdout.writelines() \u65E0\u6362\u884C\u8F93\u51FA</li><li>sys.stdin \u6807\u51C6\u8F93\u5165</li><li>sys.stdin.read() \u8F93\u5165\u4E00\u884C</li><li>sys.stderr \u9519\u8BEF\u8F93\u51FA</li><li>sys.exc_clear() \u7528\u6765\u6E05\u9664\u5F53\u524D\u7EBF\u7A0B\u6240\u51FA\u73B0\u7684\u5F53\u524D\u7684\u6216\u6700\u8FD1\u7684\u9519\u8BEF\u4FE1\u606F</li><li>sys.exec_prefix \u8FD4\u56DE\u5E73\u53F0\u72EC\u7ACB\u7684python\u6587\u4EF6\u5B89\u88C5\u7684\u4F4D\u7F6E</li><li>sys.byteorder \u672C\u5730\u5B57\u8282\u89C4\u5219\u7684\u6307\u793A\u5668\uFF0Cbig-endian\u5E73\u53F0\u7684\u503C\u662F\u2018big\u2018,little-endian\u5E73\u53F0\u7684\u503C\u662F\u2018little\u2018</li><li>sys.copyright \u8BB0\u5F55python\u7248\u6743\u76F8\u5173\u7684\u4E1C\u897F</li><li>sys.api_version \u89E3\u91CA\u5668\u7684C\u7684API\u7248\u672C</li><li>sys.version_info \u2018final\u2018\u8868\u793A\u6700\u7EC8,\u4E5F\u6709\u2018candidate\u2018\u8868\u793A\u5019\u9009\uFF0C\u8868\u793A\u7248\u672C\u7EA7\u522B\uFF0C\u662F\u5426\u6709\u540E\u7EE7\u7684\u53D1\u884C</li><li>sys.getdefaultencoding() \u8FD4\u56DE\u5F53\u524D\u4F60\u6240\u7528\u7684\u9ED8\u8BA4\u7684\u5B57\u7B26\u7F16\u7801\u683C\u5F0F</li><li>sys.getfilesystemencoding() \u8FD4\u56DE\u5C06Unicode\u6587\u4EF6\u540D\u8F6C\u6362\u6210\u7CFB\u7EDF\u6587\u4EF6\u540D\u7684\u7F16\u7801\u7684\u540D\u5B57</li><li>sys.builtin_module_names Python\u89E3\u91CA\u5668\u5BFC\u5165\u7684\u5185\u5EFA\u6A21\u5757\u5217\u8868</li><li>sys.executable Python\u89E3\u91CA\u7A0B\u5E8F\u8DEF\u5F84</li><li>sys.getwindowsversion() \u83B7\u53D6Windows\u7684\u7248\u672C</li><li>sys.stdin.readline() \u4ECE\u6807\u51C6\u8F93\u5165\u8BFB\u4E00\u884C\uFF0Csys.stdout.write(\u201Ca\u201D) \u5C4F\u5E55\u8F93\u51FAa</li><li>sys.setdefaultencoding(name) \u7528\u6765\u8BBE\u7F6E\u5F53\u524D\u9ED8\u8BA4\u7684\u5B57\u7B26\u7F16\u7801</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> sys</span></span>
<span class="line"><span style="color:#A6ACCD;">scripts_path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> sys</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">argv</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">arguments    </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> sys</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">argv</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">:]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="argparse-\u547D\u4EE4\u884C\u9009\u9879\u3001\u53C2\u6570\u548C\u5B50\u547D\u4EE4\u89E3\u6790\u5668" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/argparse.html#module-argparse" target="_blank" rel="noreferrer">argparse</a> --- \u547D\u4EE4\u884C\u9009\u9879\u3001\u53C2\u6570\u548C\u5B50\u547D\u4EE4\u89E3\u6790\u5668 <a class="header-anchor" href="#argparse-\u547D\u4EE4\u884C\u9009\u9879\u3001\u53C2\u6570\u548C\u5B50\u547D\u4EE4\u89E3\u6790\u5668" aria-hidden="true">#</a></h2><p>class <strong>argparse.ArgumentParser</strong>(prog=None, usage=None, description=None, epilog=None, parents=[], formatter_class=argparse.HelpFormatter, prefix_chars=&#39;-&#39;, fromfile_prefix_chars=None, argument_default=None, conflict_handler=&#39;error&#39;, add_help=True, allow_abbrev=True, exit_on_error=True)</p><ul><li>prog\xA0- \u7A0B\u5E8F\u7684\u540D\u79F0\uFF08\u9ED8\u8BA4\uFF1Asys.argv[0]\uFF09</li><li>usage\xA0- \u63CF\u8FF0\u7A0B\u5E8F\u7528\u9014\u7684\u5B57\u7B26\u4E32\uFF08\u9ED8\u8BA4\u503C\uFF1A\u4ECE\u6DFB\u52A0\u5230\u89E3\u6790\u5668\u7684\u53C2\u6570\u751F\u6210\uFF09</li><li>description\xA0- \u5728\u53C2\u6570\u5E2E\u52A9\u6587\u6863\u4E4B\u524D\u663E\u793A\u7684\u6587\u672C</li><li>epilog\xA0- \u5728\u53C2\u6570\u5E2E\u52A9\u6587\u6863\u4E4B\u540E\u663E\u793A\u7684\u6587\u672C</li><li>parents\xA0- \u4E00\u4E2A\xA0ArgumentParser\xA0\u5BF9\u8C61\u7684\u5217\u8868\uFF0C\u5B83\u4EEC\u7684\u53C2\u6570\u4E5F\u5E94\u5305\u542B\u5728\u5185</li><li>formatter_class\xA0- \u7528\u4E8E\u81EA\u5B9A\u4E49\u5E2E\u52A9\u6587\u6863\u8F93\u51FA\u683C\u5F0F\u7684\u7C7B</li><li>prefix_chars\xA0- \u53EF\u9009\u53C2\u6570\u7684\u524D\u7F00\u5B57\u7B26\u96C6\u5408\uFF08\u9ED8\u8BA4\u503C\uFF1A&#39;-&#39;\uFF09</li><li>fromfile_prefix_chars\xA0- \u5F53\u9700\u8981\u4ECE\u6587\u4EF6\u4E2D\u8BFB\u53D6\u5176\u4ED6\u53C2\u6570\u65F6\uFF0C\u7528\u4E8E\u6807\u8BC6\u6587\u4EF6\u540D\u7684\u524D\u7F00\u5B57\u7B26\u96C6\u5408</li><li>argument_default\xA0- \u53C2\u6570\u7684\u5168\u5C40\u9ED8\u8BA4\u503C</li><li>conflict_handler\xA0- \u89E3\u51B3\u51B2\u7A81\u9009\u9879\u7684\u7B56\u7565</li><li>add_help\xA0- \u4E3A\u89E3\u6790\u5668\u6DFB\u52A0\u4E00\u4E2A\xA0-h/--help\xA0\u9009\u9879\uFF08\u9ED8\u8BA4\u503C\uFF1A\xA0True\uFF09</li><li>allow_abbrev\xA0- \u5982\u679C\u7F29\u5199\u662F\u65E0\u6B67\u4E49\u7684\uFF0C\u5219\u5141\u8BB8\u7F29\u5199\u957F\u9009\u9879 \uFF08\u9ED8\u8BA4\u503C\uFF1ATrue\uFF09</li><li>exit_on_error\xA0- \u51B3\u5B9A\u5F53\u9519\u8BEF\u53D1\u751F\u65F6\u662F\u5426\u8BA9 ArgumentParser \u9644\u5E26\u9519\u8BEF\u4FE1\u606F\u9000\u51FA\u3002 (\u9ED8\u8BA4\u503C:\xA0True)</li></ul><p>ArgumentParser.add_argument(name or flags...[,\xA0action][,\xA0nargs][,\xA0const][,\xA0default][,\xA0type][,\xA0choices][,\xA0required][,\xA0help][,\xA0metavar][,\xA0dest])</p><ul><li>name or flags\xA0- \u4E00\u4E2A\u547D\u540D\u6216\u8005\u4E00\u4E2A\u9009\u9879\u5B57\u7B26\u4E32\u7684\u5217\u8868\uFF0C\u4F8B\u5982\xA0foo\xA0\u6216\xA0-f,\xA0--foo\u3002</li><li>action\xA0- \u5F53\u53C2\u6570\u5728\u547D\u4EE4\u884C\u4E2D\u51FA\u73B0\u65F6\u4F7F\u7528\u7684\u52A8\u4F5C\u57FA\u672C\u7C7B\u578B\u3002</li><li>nargs\xA0- \u547D\u4EE4\u884C\u53C2\u6570\u5E94\u5F53\u6D88\u8017\u7684\u6570\u76EE\u3002</li><li>const\xA0- \u88AB\u4E00\u4E9B\xA0action\xA0\u548C\xA0nargs\xA0\u9009\u62E9\u6240\u9700\u6C42\u7684\u5E38\u6570\u3002</li><li>default\xA0- \u5F53\u53C2\u6570\u672A\u5728\u547D\u4EE4\u884C\u4E2D\u51FA\u73B0\u65F6\u4F7F\u7528\u7684\u503C\u3002</li><li>type\xA0- \u547D\u4EE4\u884C\u53C2\u6570\u5E94\u5F53\u88AB\u8F6C\u6362\u6210\u7684\u7C7B\u578B\u3002</li><li>choices\xA0- \u53EF\u7528\u7684\u53C2\u6570\u7684\u5BB9\u5668\u3002</li><li>required\xA0- \u6B64\u547D\u4EE4\u884C\u9009\u9879\u662F\u5426\u53EF\u7701\u7565</li><li>help\xA0- \u4E00\u4E2A\u6B64\u9009\u9879\u4F5C\u7528\u7684\u7B80\u5355\u63CF\u8FF0\u3002</li><li>metavar\xA0- \u5728\u4F7F\u7528\u65B9\u6CD5\u6D88\u606F\u4E2D\u4F7F\u7528\u7684\u53C2\u6570\u503C\u793A\u4F8B\u3002</li><li>dest\xA0- \u88AB\u6DFB\u52A0\u5230\xA0parse_args()\xA0\u6240\u8FD4\u56DE\u5BF9\u8C61\u4E0A\u7684\u5C5E\u6027\u540D\u3002</li></ul><p>class**\xA0argparse.Action**(option_strings,\xA0dest,\xA0nargs=None,\xA0const=None,\xA0default=None,\xA0type=None,\xA0choices=None,\xA0required=False,\xA0help=None,\xA0metavar=None)</p><p>ArgumentParser.parse_args(args=None, namespace=None) \u5C06\u53C2\u6570\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u5BF9\u8C61\u5E76\u5C06\u5176\u8BBE\u4E3A\u547D\u540D\u7A7A\u95F4\u7684\u5C5E\u6027\u3002 <br> ArgumentParser.add_subparsers([title][, description][, prog][, parser_class][, action][, option_string][, dest][, required][, help][, metavar]) \u521B\u5EFA\u5B50\u547D\u4EE4 <br> ArgumentParser.add_argument_group(title=None, description=None) \u521B\u5EFA\u9002\u5F53\u7684\u5206\u7EC4 <br> ArgumentParser.add_mutually_exclusive_group(required=False) \u521B\u5EFA\u4E00\u4E2A\u4E92\u65A5\u7EC4 <br> ArgumentParser.set_defaults(**kwargs) \u89E3\u6790\u5668\u9ED8\u8BA4\u503C</p><p>class argparse.FileType(mode=&#39;r&#39;, bufsize=-1, encoding=None, errors=None)</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> argparse</span></span>
<span class="line"><span style="color:#A6ACCD;">parser = argparse.ArgumentParser(description=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">calculate X to the power of Y</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">group = parser.add_mutually_exclusive_group()</span></span>
<span class="line"><span style="color:#A6ACCD;">group.add_argument(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-v</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">--verbose</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> action=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">store_true</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">group.add_argument(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-q</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">--quiet</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> action=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">store_true</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">parser.add_argument(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">x</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> type=int</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> help=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">the base</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">parser.add_argument(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">y</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> type=int</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> help=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">the exponent</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">args = parser.parse_args()</span></span>
<span class="line"><span style="color:#A6ACCD;">answer = args.x</span><span style="color:#89DDFF;">**</span><span style="color:#A6ACCD;">args.y</span></span>
<span class="line"><span style="color:#A6ACCD;">if args.quiet:</span></span>
<span class="line"><span style="color:#A6ACCD;">    print(answer)</span></span>
<span class="line"><span style="color:#A6ACCD;">elif args.verbose:</span></span>
<span class="line"><span style="color:#A6ACCD;">    print(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{} to the power {} equals {}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">.format(args.x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> args.y</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> answer))</span></span>
<span class="line"><span style="color:#A6ACCD;">else:</span></span>
<span class="line"><span style="color:#A6ACCD;">    print(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{}^{} == {}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">.format(args.x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> args.y</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> answer))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">---</span></span>
<span class="line"><span style="color:#A6ACCD;">$ python3 prog.py --help</span></span>
<span class="line"><span style="color:#A6ACCD;">usage: prog.py [-h] [-v | -q] x y</span></span>
<span class="line"><span style="color:#A6ACCD;">calculate X to the power of Y</span></span>
<span class="line"><span style="color:#A6ACCD;">positional arguments:</span></span>
<span class="line"><span style="color:#A6ACCD;">  x              the base</span></span>
<span class="line"><span style="color:#A6ACCD;">  y              the exponent</span></span>
<span class="line"><span style="color:#A6ACCD;">optional arguments:</span></span>
<span class="line"><span style="color:#A6ACCD;">  -h</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> --help     show this help message and exit</span></span>
<span class="line"><span style="color:#A6ACCD;">  -v</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> --verbose</span></span>
<span class="line"><span style="color:#A6ACCD;">  -q</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> --quiet</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="urllib-url-\u5904\u7406\u6A21\u5757" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/urllib.html" target="_blank" rel="noreferrer">urllib--- URL \u5904\u7406\u6A21\u5757</a> <a class="header-anchor" href="#urllib-url-\u5904\u7406\u6A21\u5757" aria-hidden="true">#</a></h2><p><a href="https://docs.python.org/zh-cn/3/library/urllib.request.html" target="_blank" rel="noreferrer">urllib.request--- \u7528\u4E8E\u6253\u5F00 URL \u7684\u53EF\u6269\u5C55\u5E93</a> <br> <strong>urllib.request.urlopen(url, data=None, [timeout, ]*, cafile=None, capath=None, cadefault=False, context=None)</strong></p><p><strong>class urllib.request.Request(url, data=None, headers={}, origin_req_host=None, unverifiable=False, method=None)</strong> <br> <strong>\xB7\xB7\xB7</strong></p><p><a href="https://docs.python.org/zh-cn/3/library/urllib.parse.html" target="_blank" rel="noreferrer">urllib.parse--- Parse URLs into components</a> <br> <a href="https://docs.python.org/zh-cn/3/library/urllib.parse.html#url-parsing" target="_blank" rel="noreferrer">URL \u89E3\u6790</a></p><ul><li>**parse.urlparse(urlstring, scheme=&#39;&#39;, allow_fragments=True) **\u5C06\u4E00\u4E2A URL \u89E3\u6790\u4E3A\u516D\u4E2A\u90E8\u5206\uFF0C\u5BF9\u5E94\u4E8E <code>scheme://netloc/path;parameters?query#fragment</code></li><li>parse.urlunparse(parts) \u6839\u636E urlparse() \u6240\u8FD4\u56DE\u7684\u5143\u7EC4\u6765\u6784\u9020\u4E00\u4E2A URL</li><li>parse.urlsplit(urlstring, scheme=&#39;&#39;, allow_fragments=True) \u7C7B\u4F3C\u4E8E urlparse()\uFF0C\u4F46\u4E0D\u4F1A\u62C6\u5206\u6765\u81EA URL \u7684\u53C2\u6570</li><li>parse.urlunsplit(parts) \u5C06 urlsplit() \u6240\u8FD4\u56DE\u7684\u5143\u7EC4\u4E2D\u7684\u5143\u7D20\u5408\u5E76\u4E3A\u4E00\u4E2A\u5B57\u7B26\u4E32\u5F62\u5F0F\u7684\u5B8C\u6574 URL</li><li>parse.parse_qs(qs, keep_blank_values=False, strict_parsing=False, encoding=&#39;utf-8&#39;, errors=&#39;replace&#39;, max_num_fields=None, separator=&#39;&amp;&#39;) \u89E3\u6790\u4EE5\u5B57\u7B26\u4E32\u53C2\u6570\u5F62\u5F0F\uFF08\u7C7B\u578B\u4E3A application/x-www-form-urlencoded \u7684\u6570\u636E\uFF09\u7ED9\u51FA\u7684\u67E5\u8BE2\u5B57\u7B26\u4E32</li><li>parse.urljoin(base, url, allow_fragments=True) \u901A\u8FC7\u5408\u5E76\u4E00\u4E2A &quot;\u57FA\u51C6 URL&quot; (base) \u548C\u53E6\u4E00\u4E2A URL (url) \u6765\u6784\u9020\u4E00\u4E2A\u5B8C\u6574 (&quot;absolute&quot;) URL</li><li>parse.urldefrag(url) \u8FD4\u56DE\u4E0D\u5E26\u7247\u6BB5\u6807\u8BC6\u7B26\u7684 url \u4FEE\u6539\u7248\u672C</li></ul><p><a href="https://docs.python.org/zh-cn/3/library/urllib.parse.html#url-quoting" target="_blank" rel="noreferrer">URL \u8F6C\u7801</a></p><ul><li>parse.quote(string, safe=&#39;/&#39;, encoding=None, errors=None) \u4F7F\u7528<code>%xx</code> \u8F6C\u4E49\u7B26\u66FF\u6362 string \u4E2D\u7684\u7279\u6B8A\u5B57\u7B26\u3002 \u5B57\u6BCD\u3001\u6570\u5B57\u548C<code>&#39;_.-~&#39;</code> \u7B49\u5B57\u7B26\u4E00\u5B9A\u4E0D\u4F1A\u88AB\u8F6C\u7801</li><li>parse.quote_plus(string, safe=&#39;&#39;, encoding=None, errors=None) \u7C7B\u4F3C\u4E8E quote()\uFF0C\u4F46\u8FD8\u4F1A\u4F7F\u7528\u52A0\u53F7\u6765\u66FF\u6362\u7A7A\u683C</li><li>parse.quote_from_bytes(bytes, safe=&#39;/&#39;)</li><li>parse.unquote(string, encoding=&#39;utf-8&#39;, errors=&#39;replace&#39;) \u5C06 %xx \u8F6C\u4E49\u7B26\u66FF\u6362\u4E3A\u5176\u5355\u5B57\u7B26\u7B49\u4EF7\u7269</li><li>parse.unquote_plus(string, encoding=&#39;utf-8&#39;, errors=&#39;replace&#39;)</li><li>parse.urlencode(query, doseq=False, safe=&#39;&#39;, encoding=None, errors=None, quote_via=quote_plus) \u5C06\u4E00\u4E2A\u5305\u542B\u6709 str \u6216 bytes \u5BF9\u8C61\u7684\u6620\u5C04\u5BF9\u8C61\u6216\u4E8C\u5143\u7EC4\u5E8F\u5217\u8F6C\u6362\u4E3A\u4EE5\u767E\u5206\u53F7\u7F16\u7801\u7684 ASCII \u6587\u672C\u5B57\u7B26\u4E32</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">from urllib </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> request</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> parse</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">print(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Login to weibo.cn...</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">email = input(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Email: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">passwd = input(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Password: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">login_data = parse.urlencode([</span></span>
<span class="line"><span style="color:#A6ACCD;">    (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">username</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> email)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">password</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> passwd)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">entry</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mweibo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">client_id</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">savestate</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ec</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pagerefer</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://passport.weibo.cn/signin/welcome?entry=mweibo&amp;r=http%3A%2F%2Fm.weibo.cn%2F</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">req = request.Request(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://passport.weibo.cn/sso/login</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">req.add_header(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Origin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://passport.weibo.cn</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">req.add_header(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">User-Agent</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Mozilla/6.0 (iPhone; CPU iPhone OS 8_0 like Mac OS X) AppleWebKit/536.26 (KHTML, like Gecko) Version/8.0 Mobile/10A5376e Safari/8536.25</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">req.add_header(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Referer</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://passport.weibo.cn/signin/login?entry=mweibo&amp;res=wel&amp;wm=3349&amp;r=http%3A%2F%2Fm.weibo.cn%2F</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">with request.urlopen(req</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> data=login_data.encode(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)) as f:</span></span>
<span class="line"><span style="color:#A6ACCD;">    print(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Status:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> f.status</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> f.reason)</span></span>
<span class="line"><span style="color:#A6ACCD;">    for k</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> v in f.getheaders():</span></span>
<span class="line"><span style="color:#A6ACCD;">        print(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%s: %s</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> % (k</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> v))</span></span>
<span class="line"><span style="color:#A6ACCD;">    print(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Data:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> f.read().decode(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="threading-\u57FA\u4E8E\u7EBF\u7A0B\u7684\u5E76\u884C" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/threading.html" target="_blank" rel="noreferrer">threading--- \u57FA\u4E8E\u7EBF\u7A0B\u7684\u5E76\u884C</a> <a class="header-anchor" href="#threading-\u57FA\u4E8E\u7EBF\u7A0B\u7684\u5E76\u884C" aria-hidden="true">#</a></h2><p>GIL(global interpreter lock\uFF0C\u5168\u5C40\u89E3\u91CA\u5668\u9501)\uFF1A\u4F7F\u5F97\u540C\u4E00\u4E2A\u65F6\u523B\u53EA\u6709\u4E00\u4E2A\u7EBF\u7A0B\u5728\u4E00\u4E2ACPU\u4E0A\u6267\u884C\u5B57\u8282\u7801\u3002\u65E0\u6CD5\u5C06\u591A\u4E2A\u7EBF\u7A0B\u6620\u5C04\u5230\u591A\u4E2ACPU\u4E0A\u3002</p><p>\u91CA\u653E\u6761\u4EF6</p><ol><li>\u5B57\u8282\u7801\u6267\u884C\u4E00\u5B9A\u884C\u6570\u540E\u91CA\u653E</li><li>\u901A\u8FC7\u65F6\u95F4\u7247\u5212\u5206</li><li>\u9047\u5230IO\u64CD\u4F5C\u65F6\u4F1A\u4E3B\u52A8\u91CA\u653E\u3002</li></ol><ul><li>threading.active_count() <ul><li>\u8FD4\u56DE\u5F53\u524D\u5B58\u6D3B\u7684\u7EBF\u7A0B\u7C7B Thread \u5BF9\u8C61</li></ul></li><li>threading.current_thread() <ul><li>\u8FD4\u56DE\u5F53\u524D\u5BF9\u5E94\u8C03\u7528\u8005\u7684\u63A7\u5236\u7EBF\u7A0B\u7684 Thread \u5BF9\u8C61</li></ul></li><li>threading.excepthook(args, /)</li><li>threading.get_ident()</li><li>\u8FD4\u56DE\u5F53\u524D\u7EBF\u7A0B\u7684 \u201C\u7EBF\u7A0B\u6807\u8BC6\u7B26</li><li>threading.get_native_id() <ul><li>\u8FD4\u56DE\u5185\u6838\u5206\u914D\u7ED9\u5F53\u524D\u7EBF\u7A0B\u7684\u539F\u751F\u96C6\u6210\u7EBF\u7A0B ID</li></ul></li><li>threading.enumerate() <ul><li>\u4EE5\u5217\u8868\u5F62\u5F0F\u8FD4\u56DE\u5F53\u524D\u6240\u6709\u5B58\u6D3B\u7684 Thread \u5BF9\u8C61</li></ul></li><li>threading.main_thread() <ul><li>\u8FD4\u56DE\u4E3B Thread \u5BF9\u8C61</li></ul></li><li>threading.settrace(func) <ul><li>\u4E3A\u6240\u6709 threading \u6A21\u5757\u5F00\u59CB\u7684\u7EBF\u7A0B\u8BBE\u7F6E\u8FFD\u8E2A\u51FD\u6570</li></ul></li><li>threading.setprofile(func) <ul><li>\u4E3A\u6240\u6709 threading \u6A21\u5757\u5F00\u59CB\u7684\u7EBF\u7A0B\u8BBE\u7F6E\u6027\u80FD\u6D4B\u8BD5\u51FD\u6570</li></ul></li><li>threading.stack_size([size]) <ul><li>\u8FD4\u56DE\u521B\u5EFA\u7EBF\u7A0B\u65F6\u7528\u7684\u5806\u6808\u5927\u5C0F</li></ul></li></ul><p>*<em>class threading.Thread(group=None, target=None, name=None, args=(), kwargs={}, <em>, daemon=None)</em></em> <br> target \u662F\u7528\u4E8E run() \u65B9\u6CD5\u8C03\u7528\u7684\u53EF\u8C03\u7528\u5BF9\u8C61 <br> name \u662F\u7EBF\u7A0B\u540D\u79F0 <br> args \u662F\u7528\u4E8E\u8C03\u7528\u76EE\u6807\u51FD\u6570\u7684\u53C2\u6570\u5143\u7EC4 <br> kwargs \u662F\u7528\u4E8E\u8C03\u7528\u76EE\u6807\u51FD\u6570\u7684\u5173\u952E\u5B57\u53C2\u6570\u5B57\u5178</p><p>\u5176\u4ED6\u7EBF\u7A0B\u53EF\u4EE5\u8C03\u7528\u4E00\u4E2A\u7EBF\u7A0B\u7684 join() \u65B9\u6CD5\u3002\u8FD9\u4F1A\u963B\u585E\u8C03\u7528\u8BE5\u65B9\u6CD5\u7684\u7EBF\u7A0B\uFF0C\u76F4\u5230\u88AB\u8C03\u7528 join() \u65B9\u6CD5\u7684\u7EBF\u7A0B\u7EC8\u7ED3\u3002</p><ul><li>start()\uFF1A\u5F00\u59CB\u7EBF\u7A0B\u6D3B\u52A8</li><li>run()\uFF1A\u4EE3\u8868\u7EBF\u7A0B\u6D3B\u52A8\u7684\u65B9\u6CD5</li><li>join(timeout=None)\uFF1A\u7B49\u5F85\uFF0C\u76F4\u5230\u7EBF\u7A0B\u7EC8\u7ED3</li><li>is_alive()\uFF1A\u8FD4\u56DE\u7EBF\u7A0B\u662F\u5426\u5B58\u6D3B</li><li>daemon\uFF1A\u4E00\u4E2A\u8868\u793A\u8FD9\u4E2A\u7EBF\u7A0B\u662F\uFF08True\uFF09\u5426\uFF08False\uFF09\u5B88\u62A4\u7EBF\u7A0B\u7684\u5E03\u5C14\u503C</li></ul><p><strong>class threading.Lock</strong> <br> \u5B9E\u73B0\u539F\u59CB\u9501\u5BF9\u8C61\u7684\u7C7B</p><ul><li>acquire(blocking=True, timeout=-1)\uFF1A\u53EF\u4EE5\u963B\u585E\u6216\u975E\u963B\u585E\u5730\u83B7\u5F97\u9501</li><li>release()\uFF1A\u91CA\u653E\u4E00\u4E2A\u9501</li><li>locked()\uFF1A\u5982\u679C\u83B7\u5F97\u4E86\u9501\u5219\u8FD4\u56DE\u771F\u503C</li></ul><p><strong>class threading.RLock</strong> <br> \u6B64\u7C7B\u5B9E\u73B0\u4E86\u91CD\u5165\u9501\u5BF9\u8C61</p><ul><li>acquire(blocking=True, timeout=-1)\uFF1A\u53EF\u4EE5\u963B\u585E\u6216\u975E\u963B\u585E\u5730\u83B7\u5F97\u9501</li><li>release()\uFF1A\u91CA\u653E\u9501\uFF0C\u81EA\u51CF\u9012\u5F52\u7B49\u7EA7</li></ul><p><strong>class threading.Condition(lock=None)</strong> <br> \u5B9E\u73B0\u6761\u4EF6\u53D8\u91CF\u5BF9\u8C61\u7684\u7C7B</p><ul><li>acquire(*args)\uFF1A\u8BF7\u6C42\u5E95\u5C42\u9501</li><li>release()\uFF1A\u91CA\u653E\u5E95\u5C42\u9501</li><li>wait(timeout=None)\uFF1A\u7B49\u5F85\u76F4\u5230\u88AB\u901A\u77E5\u6216\u53D1\u751F\u8D85\u65F6</li><li>wait_for(predicate, timeout=None)\uFF1A\u7B49\u5F85\uFF0C\u76F4\u5230\u6761\u4EF6\u8BA1\u7B97\u4E3A\u771F</li><li>notify(n=1)\uFF1A\u9ED8\u8BA4\u5524\u9192\u4E00\u4E2A\u7B49\u5F85\u8FD9\u4E2A\u6761\u4EF6\u7684\u7EBF\u7A0B</li><li>notify_all()\uFF1A\u5524\u9192\u6240\u6709\u6B63\u5728\u7B49\u5F85\u8FD9\u4E2A\u6761\u4EF6\u7684\u7EBF\u7A0B</li></ul><p><strong>class threading.Semaphore(value=1)</strong> <br> \u8BE5\u7C7B\u5B9E\u73B0\u4FE1\u53F7\u91CF\u5BF9\u8C61</p><ul><li>acquire(blocking=True, timeout=None)\uFF1A\u83B7\u53D6\u4E00\u4E2A\u4FE1\u53F7\u91CF</li><li>release()\uFF1A\u91CA\u653E\u4E00\u4E2A\u4FE1\u53F7\u91CF\uFF0C\u5C06\u5185\u90E8\u8BA1\u6570\u5668\u7684\u503C\u589E\u52A01</li></ul><p><strong>class threading.Event</strong> <br> \u5B9E\u73B0\u4E8B\u4EF6\u5BF9\u8C61\u7684\u7C7B</p><ul><li>is_set()\uFF1A\u5F53\u4E14\u4EC5\u5F53\u5185\u90E8\u65D7\u6807\u4E3A\u65F6\u8FD4\u56DE True</li><li>set()\uFF1A\u5C06\u5185\u90E8\u6807\u5FD7\u8BBE\u7F6E\u4E3Atrue</li><li>clear()\uFF1A\u5C06\u5185\u90E8\u6807\u5FD7\u8BBE\u7F6E\u4E3Afalse</li><li>wait(timeout=None)\uFF1A\u963B\u585E\u7EBF\u7A0B\u76F4\u5230\u5185\u90E8\u53D8\u91CF\u4E3Atrue</li></ul><p><strong>class threading.Timer(interval, function, args=None, kwargs=None)</strong> <br> \u5B9A\u65F6\u5668\uFF0C\u5728\u7ECF\u8FC7 interval \u79D2\u7684\u95F4\u9694\u4E8B\u4EF6\u540E\uFF0C\u5C06\u4F1A\u7528\u53C2\u6570 args \u548C\u5173\u952E\u5B57\u53C2\u6570 kwargs \u8C03\u7528 function</p><ul><li>cancel()\uFF1A\u505C\u6B62\u5B9A\u65F6\u5668\u5E76\u53D6\u6D88\u6267\u884C\u8BA1\u65F6\u5668\u5C06\u8981\u6267\u884C\u7684\u64CD\u4F5C</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> threading</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#A6ACCD;">exitFlag </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">myThread</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">threading</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Thread</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">threadID</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">      threading</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">Thread</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">      self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">threadID</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> threadID</span></span>
<span class="line"><span style="color:#A6ACCD;">      self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> name</span></span>
<span class="line"><span style="color:#A6ACCD;">      self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">counter</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> counter</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">run</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#82AAFF;">print </span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Starting </span><span style="color:#89DDFF;">&quot;</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">+</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#82AAFF;">print_time</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">counter</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#82AAFF;">print </span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Exiting </span><span style="color:#89DDFF;">&quot;</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">+</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span></span>
<span class="line"><span style="color:#A6ACCD;">      </span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">print_time</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">threadName</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">delay</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">counter</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">while</span><span style="color:#A6ACCD;"> counter</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> exitFlag</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">         threadName</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exit</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">      time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">delay</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#82AAFF;">print </span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">%s</span><span style="color:#C3E88D;">: </span><span style="color:#F78C6C;">%s</span><span style="color:#89DDFF;">&quot;</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">threadName</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ctime</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">())))</span></span>
<span class="line"><span style="color:#A6ACCD;">      counter </span><span style="color:#89DDFF;">-=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">thread1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">myThread</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Thread-1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">thread2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">myThread</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Thread-2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">thread1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">thread2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">thread1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">thread2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#82AAFF;">print </span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Exiting Main Thread</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>\u52A0\u9501</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> threading</span></span>
<span class="line"><span style="color:#676E95;"># \u5047\u5B9A\u8FD9\u662F\u4F60\u7684\u94F6\u884C\u5B58\u6B3E:</span></span>
<span class="line"><span style="color:#A6ACCD;">balance </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#A6ACCD;">lock </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> threading</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Lock</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">change_it</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">n</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u5148\u5B58\u540E\u53D6\uFF0C\u7ED3\u679C\u5E94\u8BE5\u4E3A0:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">global</span><span style="color:#A6ACCD;"> balance</span></span>
<span class="line"><span style="color:#A6ACCD;">    balance </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> balance </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> n</span></span>
<span class="line"><span style="color:#A6ACCD;">    balance </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> balance </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> n</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">run_thread</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">n</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">100000</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u5148\u8981\u83B7\u53D6\u9501:</span></span>
<span class="line"><span style="color:#A6ACCD;">        lock</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">acquire</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">try</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#676E95;"># \u653E\u5FC3\u5730\u6539\u5427:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">change_it</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">n</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">finally</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#676E95;"># \u6539\u5B8C\u4E86\u4E00\u5B9A\u8981\u91CA\u653E\u9501:</span></span>
<span class="line"><span style="color:#A6ACCD;">            lock</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">release</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">t1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> threading</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Thread</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">run_thread</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">,))</span></span>
<span class="line"><span style="color:#A6ACCD;">t2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> threading</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Thread</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">run_thread</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,))</span></span>
<span class="line"><span style="color:#A6ACCD;">t1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">t2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">t1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">t2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">balance</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>ThreadLocal\u89E3\u51B3\u4E86\u53C2\u6570\u5728\u4E00\u4E2A\u7EBF\u7A0B\u4E2D\u5404\u4E2A\u51FD\u6570\u4E4B\u95F4\u4E92\u76F8\u4F20\u9012\u7684\u95EE\u9898\u3002</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> threading</span></span>
<span class="line"><span style="color:#A6ACCD;"># \u521B\u5EFA\u5168\u5C40ThreadLocal\u5BF9\u8C61:</span></span>
<span class="line"><span style="color:#A6ACCD;">local_school = threading.local()</span></span>
<span class="line"><span style="color:#A6ACCD;">def process_student():</span></span>
<span class="line"><span style="color:#A6ACCD;">    # \u83B7\u53D6\u5F53\u524D\u7EBF\u7A0B\u5173\u8054\u7684student:</span></span>
<span class="line"><span style="color:#A6ACCD;">    std = local_school.student</span></span>
<span class="line"><span style="color:#A6ACCD;">    print(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Hello, %s (in %s)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> % (std</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> threading.current_thread().name))</span></span>
<span class="line"><span style="color:#A6ACCD;">def process_thread(name):</span></span>
<span class="line"><span style="color:#A6ACCD;">    # \u7ED1\u5B9AThreadLocal\u7684student:</span></span>
<span class="line"><span style="color:#A6ACCD;">    local_school.student = name</span></span>
<span class="line"><span style="color:#A6ACCD;">    process_student()</span></span>
<span class="line"><span style="color:#A6ACCD;">t1 = threading.Thread(target=process_thread</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> args=(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Alice</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> name=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Thread-A</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">t2 = threading.Thread(target=process_thread</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> args=(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Bob</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> name=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Thread-B</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">t1.start()</span></span>
<span class="line"><span style="color:#A6ACCD;">t2.start()</span></span>
<span class="line"><span style="color:#A6ACCD;">t1.join()</span></span>
<span class="line"><span style="color:#A6ACCD;">t2.join()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="multiprocessing-\u57FA\u4E8E\u8FDB\u7A0B\u7684\u5E76\u884C" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/multiprocessing.html" target="_blank" rel="noreferrer">multiprocessing--- \u57FA\u4E8E\u8FDB\u7A0B\u7684\u5E76\u884C</a> <a class="header-anchor" href="#multiprocessing-\u57FA\u4E8E\u8FDB\u7A0B\u7684\u5E76\u884C" aria-hidden="true">#</a></h2><p>*<em>class multiprocessing.Process(group=None, target=None, name=None, args=(), kwargs={}, <em>, daemon=None)</em></em> <br> Process \u7C7B\u62E5\u6709\u548C threading.Thread \u7B49\u4EF7\u7684\u5927\u90E8\u5206\u65B9\u6CD5\u3002</p><p><strong>multiprocessing.Pipe([duplex])</strong> <br> \u8FD4\u56DE\u4E00\u5BF9 Connection<code>\u5BF9\u8C61 \`\`(conn1, conn2)</code> \uFF0C \u5206\u522B\u8868\u793A\u7BA1\u9053\u7684\u4E24\u7AEF\u3002</p><p>class multiprocessing.Queue([maxsize]) <br> \u8FD4\u56DE\u4E00\u4E2A\u4F7F\u7528\u4E00\u4E2A\u7BA1\u9053\u548C\u5C11\u91CF\u9501\u548C\u4FE1\u53F7\u91CF\u5B9E\u73B0\u7684\u5171\u4EAB\u961F\u5217\u5B9E\u4F8B\u3002 <br> \u9664\u4E86 task_done() \u548C join() \u4E4B\u5916\uFF0CQueue \u5B9E\u73B0\u4E86\u6807\u51C6\u5E93\u7C7B queue.Queue \u4E2D\u6240\u6709\u7684\u65B9\u6CD5 <br> class multiprocessing.SimpleQueue <br> \u4E00\u4E2A\u7B80\u5316\u7684 Queue \u7C7B\u7684\u5B9E\u73B0\uFF0C\u5F88\u50CF\u5E26\u9501\u7684 Pipe <br> class multiprocessing.JoinableQueue([maxsize]) <br> JoinableQueue \u7C7B\u662F Queue \u7684\u5B50\u7C7B\uFF0C\u989D\u5916\u6DFB\u52A0\u4E86 task_done() \u548C join() \u65B9\u6CD5 <br> multiprocessing.active_children()\uFF1A\u8FD4\u56DE\u5F53\u524D\u8FDB\u7A0B\u5B58\u6D3B\u7684\u5B50\u8FDB\u7A0B\u7684\u5217\u8868\u3002 <br> multiprocessing.cpu_count()\uFF1A\u8FD4\u56DE\u7CFB\u7EDF\u7684CPU\u6570\u91CF\u3002 <br> ... <br> class multiprocessing.connection.Connection <br> Connection \u5BF9\u8C61\u5141\u8BB8\u6536\u53D1\u53EF\u4EE5\u5E8F\u5217\u5316\u7684\u5BF9\u8C61\u6216\u5B57\u7B26\u4E32\uFF0C\u53EF\u4EE5\u770B\u4F5C\u9762\u5411\u6D88\u606F\u7684\u8FDE\u63A5\u5957\u63A5\u5B57\u3002 <br> <strong>class multiprocessing.pool.Pool([processes[, initializer[, initargs[, maxtasksperchild[, context]]]]])</strong> <br> \u4E00\u4E2A\u8FDB\u7A0B\u6C60\u5BF9\u8C61\uFF0C\u5B83\u63A7\u5236\u53EF\u4EE5\u63D0\u4EA4\u4F5C\u4E1A\u7684\u5DE5\u4F5C\u8FDB\u7A0B\u6C60</p><ul><li>apply(func[, args[, kwds]])\uFF1A\u4F7F\u7528 args \u53C2\u6570\u4EE5\u53CA kwds \u547D\u540D\u53C2\u6570\u8C03\u7528 func , \u5B83\u4F1A\u8FD4\u56DE\u7ED3\u679C\u524D\u963B\u585E\u3002</li><li>apply_async(func[, args[, kwds[, callback[, error_callback]]]])\uFF1A\u8FD4\u56DE\u4E00\u4E2A\u7ED3\u679C\u5BF9\u8C61\u3002</li><li>map(func, iterable[, chunksize])\uFF1A\u4FDD\u6301\u963B\u585E\u76F4\u5230\u83B7\u5F97\u7ED3\u679C\u3002</li><li>map_async(func, iterable[, chunksize[, callback[, error_callback]]])\uFF1A\u8FD4\u56DE\u4E00\u4E2A\u53EF\u7528\u4E8E\u83B7\u53D6\u7ED3\u679C\u7684\u5BF9\u8C61\u3002</li><li>imap(func, iterable[, chunksize])\uFF1Amap() \u7684\u5EF6\u8FDF\u6267\u884C\u7248\u672C\u3002</li><li>imap_unordered(func, iterable[, chunksize])\uFF1A\u901A\u8FC7\u8FED\u4EE3\u5668\u8FD4\u56DE\u7684\u7ED3\u679C\u662F\u4EFB\u610F\u7684</li><li>starmap(func, iterable[, chunksize])\uFF1A\u548C map() \u7C7B\u4F3C\uFF0C\u4E0D\u8FC7 iterable \u4E2D\u7684\u6BCF\u4E00\u9879\u4F1A\u88AB\u89E3\u5305\u518D\u4F5C\u4E3A\u51FD\u6570\u53C2\u6570\u3002</li><li>starmap_async(func, iterable[, chunksize[, callback[, error_callback]]])\uFF1A\u76F8\u5F53\u4E8E starmap() \u4E0E map_async() \u7684\u7ED3\u5408\uFF0C\u8FED\u4EE3 iterable \u7684\u6BCF\u4E00\u9879\uFF0C\u89E3\u5305\u4F5C\u4E3A func \u7684\u53C2\u6570\u5E76\u6267\u884C\uFF0C\u8FD4\u56DE\u7528\u4E8E\u83B7\u53D6\u7ED3\u679C\u7684\u5BF9\u8C61\u3002</li><li>close()\uFF1A\u963B\u6B62\u540E\u7EED\u4EFB\u52A1\u63D0\u4EA4\u5230\u8FDB\u7A0B\u6C60\uFF0C\u5F53\u6240\u6709\u4EFB\u52A1\u6267\u884C\u5B8C\u6210\u540E\uFF0C\u5DE5\u4F5C\u8FDB\u7A0B\u4F1A\u9000\u51FA\u3002</li><li>terminate()\uFF1A\u4E0D\u5FC5\u7B49\u5F85\u672A\u5B8C\u6210\u7684\u4EFB\u52A1\uFF0C\u7ACB\u5373\u505C\u6B62\u5DE5\u4F5C\u8FDB\u7A0B\u3002</li><li>join()\uFF1A\u7B49\u5F85\u5DE5\u4F5C\u8FDB\u7A0B\u7ED3\u675F\u3002\u8C03\u7528 join() \u524D\u5FC5\u987B\u5148\u8C03\u7528 close() \u6216\u8005 terminate()</li></ul><p>\u591A\u8FDB\u7A0B</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> multiprocessing </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> Process</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> os</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5B50\u8FDB\u7A0B\u8981\u6267\u884C\u7684\u4EE3\u7801</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">run_proc</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Run child process </span><span style="color:#F78C6C;">%s</span><span style="color:#C3E88D;"> (</span><span style="color:#F78C6C;">%s</span><span style="color:#C3E88D;">)...</span><span style="color:#89DDFF;">&#39;</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">name</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> os</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getpid</span><span style="color:#89DDFF;">()))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__</span><span style="color:#89DDFF;">==</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Parent process </span><span style="color:#F78C6C;">%s</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;"> os</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getpid</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">    p </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Process</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">run_proc</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">=(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Child process will start.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    p</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">start</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    p</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Child process end.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#676E95;"># linux   </span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> os</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Process (</span><span style="color:#F78C6C;">%s</span><span style="color:#C3E88D;">) start...</span><span style="color:#89DDFF;">&#39;</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;"> os</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getpid</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#676E95;"># Only works on Unix/Linux/Mac:</span></span>
<span class="line"><span style="color:#A6ACCD;">pid </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> os</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fork</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> pid </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">I am child process (</span><span style="color:#F78C6C;">%s</span><span style="color:#C3E88D;">) and my parent is </span><span style="color:#F78C6C;">%s</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">os</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getpid</span><span style="color:#89DDFF;">(),</span><span style="color:#82AAFF;"> os</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getppid</span><span style="color:#89DDFF;">()))</span></span>
<span class="line"><span style="color:#89DDFF;">else</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">I (</span><span style="color:#F78C6C;">%s</span><span style="color:#C3E88D;">) just created a child process (</span><span style="color:#F78C6C;">%s</span><span style="color:#C3E88D;">).</span><span style="color:#89DDFF;">&#39;</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">%</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">os</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getpid</span><span style="color:#89DDFF;">(),</span><span style="color:#82AAFF;"> pid</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>\u7EBF\u7A0B\u6C60</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> multiprocessing</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">dummy </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> Pool</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fun</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">s</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">s</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\t</span><span style="color:#C3E88D;">starting</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">s</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\t</span><span style="color:#C3E88D;">ending</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">=[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">d</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">p </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Pool</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">p</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">fun</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> event</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">()-</span><span style="color:#82AAFF;">a</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="subprocess-\u5B50\u8FDB\u7A0B\u7BA1\u7406" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/subprocess.html#module-subprocess" target="_blank" rel="noreferrer">subprocess</a> --- \u5B50\u8FDB\u7A0B\u7BA1\u7406 <a class="header-anchor" href="#subprocess-\u5B50\u8FDB\u7A0B\u7BA1\u7406" aria-hidden="true">#</a></h2><p>subprocess.run(args, *, stdin=None, input=None, stdout=None, stderr=None, capture_output=False, shell=False, cwd=None, timeout=None, check=False, encoding=None, errors=None, text=None, env=None, universal_newlines=None, **other_popen_kwargs) <br> \u8FD0\u884C\u88AB arg \u63CF\u8FF0\u7684\u6307\u4EE4\u3002\u7B49\u5F85\u6307\u4EE4\u5B8C\u6210\uFF0C\u7136\u540E\u8FD4\u56DE\u4E00\u4E2A CompletedProcess \u5B9E\u4F8B\u3002</p><p>class subprocess.CompletedProcess <br> run() \u7684\u8FD4\u56DE\u503C, \u4EE3\u8868\u4E00\u4E2A\u8FDB\u7A0B\u5DF2\u7ECF\u7ED3\u675F.</p><ul><li>args \u88AB\u7528\u4F5C\u542F\u52A8\u8FDB\u7A0B\u7684\u53C2\u6570</li><li>returncode \u5B50\u8FDB\u7A0B\u7684\u9000\u51FA\u72B6\u6001\u7801</li><li>stdout \u4ECE\u5B50\u8FDB\u7A0B\u6355\u83B7\u5230\u7684\u6807\u51C6\u8F93\u51FA</li><li>stderr \u6355\u83B7\u5230\u7684\u5B50\u8FDB\u7A0B\u7684\u6807\u51C6\u9519\u8BEF</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> subprocess</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$ ping www.python.org</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">r </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> subprocess</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ping</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">www.python.org</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Exit code:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> r</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">returncode</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">js_eval</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># e = &quot;&#39;red yellow blue&#39;.split(&#39; &#39;)&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    r </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> subprocess</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">node</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">-e</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;console.log(</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">e</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">)&#39;</span><span style="color:#89DDFF;">],</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">capture_output</span><span style="color:#89DDFF;">=True)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">eval</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">r</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">stdout</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">decode</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">js_call</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">func_name</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># e = &quot;function f(a,b){return a+b;}&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># func_name = &#39;f&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    r </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> subprocess</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run</span><span style="color:#89DDFF;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">node</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">-e</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">e</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;"> console.log(</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">func_name</span><span style="color:#89DDFF;">+</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">+</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">args</span><span style="color:#89DDFF;">)+</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">)&quot;</span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#82AAFF;">                         </span><span style="color:#A6ACCD;">capture_output</span><span style="color:#89DDFF;">=True)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">eval</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">r</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">stdout</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">decode</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="asyncio-\u5F02\u6B65-i-o" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/asyncio.html" target="_blank" rel="noreferrer">asyncio--- \u5F02\u6B65 I/O</a> <a class="header-anchor" href="#asyncio-\u5F02\u6B65-i-o" aria-hidden="true">#</a></h2><p>asyncio</p><table><thead><tr><th><a href="https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.run" target="_blank" rel="noreferrer">run()</a></th><th>\u521B\u5EFA\u4E8B\u4EF6\u5FAA\u73AF\uFF0C\u8FD0\u884C\u4E00\u4E2A\u534F\u7A0B\uFF0C\u5173\u95ED\u4E8B\u4EF6\u5FAA\u73AF\u3002</th></tr></thead><tbody><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.create_task" target="_blank" rel="noreferrer">create_task()</a></td><td>\u542F\u52A8\u4E00\u4E2Aasyncio\u7684Task\u5BF9\u8C61\u3002</td></tr><tr><td>await <a href="https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.sleep" target="_blank" rel="noreferrer">sleep()</a></td><td>\u4F11\u7720\u51E0\u79D2\u3002</td></tr><tr><td>await <a href="https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.gather" target="_blank" rel="noreferrer">gather()</a></td><td>\u5E76\u53D1\u6267\u884C\u6240\u6709\u4E8B\u4EF6\u7684\u8C03\u5EA6\u548C\u7B49\u5F85\u3002</td></tr><tr><td>await <a href="https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.wait_for" target="_blank" rel="noreferrer">wait_for()</a></td><td>\u6709\u8D85\u65F6\u63A7\u5236\u7684\u8FD0\u884C\u3002</td></tr><tr><td>await <a href="https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.shield" target="_blank" rel="noreferrer">shield()</a></td><td>\u5C4F\u853D\u53D6\u6D88\u64CD\u4F5C</td></tr><tr><td>await <a href="https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.wait" target="_blank" rel="noreferrer">wait()</a></td><td>\u5B8C\u6210\u60C5\u51B5\u7684\u76D1\u63A7\u5668</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.current_task" target="_blank" rel="noreferrer">current_task()</a></td><td>\u8FD4\u56DE\u5F53\u524DTask\u5BF9\u8C61</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.all_tasks" target="_blank" rel="noreferrer">all_tasks()</a></td><td>\u8FD4\u56DE\u4E8B\u4EF6\u5FAA\u73AF\u4E2D\u6240\u6709\u7684task\u5BF9\u8C61\u3002</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.Task" target="_blank" rel="noreferrer">Task</a></td><td>Task\u5BF9\u8C61</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.to_thread" target="_blank" rel="noreferrer">to_thread()</a></td><td>\u5728\u4E0D\u540C\u7684 OS \u7EBF\u7A0B\u4E2D\u5F02\u6B65\u5730\u8FD0\u884C\u4E00\u4E2A\u51FD\u6570\u3002</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.run_coroutine_threadsafe" target="_blank" rel="noreferrer">run_coroutine_threadsafe()</a></td><td>\u4ECE\u5176\u4ED6OS\u7EBF\u7A0B\u4E2D\u8C03\u5EA6\u4E00\u4E2A\u534F\u7A0B\u3002</td></tr><tr><td>for in <a href="https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.as_completed" target="_blank" rel="noreferrer">as_completed()</a></td><td>\u7528 for \u5FAA\u73AF\u76D1\u63A7\u5B8C\u6210\u60C5\u51B5\u3002</td></tr></tbody></table><p>\u5B50\u8FDB\u7A0B\u96C6</p><table><thead><tr><th>await <a href="https://docs.python.org/zh-cn/3/library/asyncio-subprocess.html#asyncio.create_subprocess_exec" target="_blank" rel="noreferrer">create_subprocess_exec()</a></th><th>\u521B\u5EFA\u4E00\u4E2A\u5B50\u8FDB\u7A0B\u3002</th></tr></thead><tbody><tr><td>await <a href="https://docs.python.org/zh-cn/3/library/asyncio-subprocess.html#asyncio.create_subprocess_shell" target="_blank" rel="noreferrer">create_subprocess_shell()</a></td><td>\u8FD0\u884C\u4E00\u4E2Ashell\u547D\u4EE4\u3002</td></tr></tbody></table><p>\u7F51\u7EDCIO</p><table><thead><tr><th>await <a href="https://docs.python.org/zh-cn/3/library/asyncio-stream.html#asyncio.open_connection" target="_blank" rel="noreferrer">open_connection()</a></th><th>\u5EFA\u7ACB\u4E00\u4E2ATCP\u8FDE\u63A5\u3002</th></tr></thead><tbody><tr><td>await <a href="https://docs.python.org/zh-cn/3/library/asyncio-stream.html#asyncio.open_unix_connection" target="_blank" rel="noreferrer">open_unix_connection()</a></td><td>\u5EFA\u7ACB\u4E00\u4E2AUnix socket\u8FDE\u63A5\u3002</td></tr><tr><td>await <a href="https://docs.python.org/zh-cn/3/library/asyncio-stream.html#asyncio.start_server" target="_blank" rel="noreferrer">start_server()</a></td><td>\u542F\u52A8TCP\u670D\u52A1\u3002</td></tr><tr><td>await <a href="https://docs.python.org/zh-cn/3/library/asyncio-stream.html#asyncio.start_unix_server" target="_blank" rel="noreferrer">start_unix_server()</a></td><td>\u542F\u52A8\u4E00\u4E2A Unix \u5957\u63A5\u5B57\u670D\u52A1\u3002</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-stream.html#asyncio.StreamReader" target="_blank" rel="noreferrer">StreamReader</a></td><td>\u63A5\u6536\u7F51\u7EDC\u6570\u636E\u7684\u9AD8\u7EA7async/await\u5BF9\u8C61\u3002</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-stream.html#asyncio.StreamWriter" target="_blank" rel="noreferrer">StreamWriter</a></td><td>\u53D1\u9001\u7F51\u7EDC\u6570\u636E\u7684\u9AD8\u7EA7async/await\u5BF9\u8C61\u3002</td></tr></tbody></table><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> asyncio</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> sys</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> urllib</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">parse</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">blocking_io</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;start blocking_io at </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">strftime</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F78C6C;">%X</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">count</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;blocking_io complete at </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">strftime</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F78C6C;">%X</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">execute_cmd</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">cmd</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    proc </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create_subprocess_shell</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">        cmd</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#A6ACCD;">stdout</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">subprocess</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">PIPE</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#A6ACCD;">stderr</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">subprocess</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">PIPE</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    stdout</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> stderr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> proc</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">communicate</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;[</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">cmd</span><span style="color:#C792EA;">!r</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;"> exited with </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">proc</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">returncode</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">]&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> stdout</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;[stdout]</span><span style="color:#A6ACCD;">\\n</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">stdout</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">decode</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">gbk</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> stderr</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;[stderr]</span><span style="color:#A6ACCD;">\\n</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">stderr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">decode</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">gbk</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_date</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    code </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">import datetime; print(datetime.datetime.now())</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># Create the subprocess; redirect the standard output into a pipe.</span></span>
<span class="line"><span style="color:#A6ACCD;">    proc </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create_subprocess_exec</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">        sys</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">executable</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">-c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> code</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#A6ACCD;">stdout</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">subprocess</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">PIPE</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># Read one line of output.</span></span>
<span class="line"><span style="color:#A6ACCD;">    data </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> proc</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">stdout</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readline</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    line </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> data</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">decode</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ascii</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">rstrip</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># Wait for the subprocess exit.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> proc</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">wait</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;date is </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">line</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> line</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">print_http_headers</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    url </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> urllib</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">parse</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">urlsplit</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">url</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> url</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">scheme</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        reader</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> writer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">open_connection</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">            url</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">hostname</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">443</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">ssl</span><span style="color:#89DDFF;">=True)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">else</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        reader</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> writer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">open_connection</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">            url</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">hostname</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    query </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;HEAD </span><span style="color:#F78C6C;">{</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">path</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">or</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;"> HTTP/1.0</span><span style="color:#A6ACCD;">\\r\\n</span><span style="color:#C3E88D;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;Host: </span><span style="color:#F78C6C;">{</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">hostname</span><span style="color:#F78C6C;">}</span><span style="color:#A6ACCD;">\\r\\n</span><span style="color:#C3E88D;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&quot;</span><span style="color:#A6ACCD;">\\r\\n</span><span style="color:#C3E88D;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    writer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">write</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">query</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">encode</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">latin-1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">while</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">True:</span></span>
<span class="line"><span style="color:#A6ACCD;">        line </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> reader</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readline</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">not</span><span style="color:#A6ACCD;"> line</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">break</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        line </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> line</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">decode</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">latin1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">rstrip</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> line</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;HTTP header&gt; </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">line</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># Ignore the body, close the socket</span></span>
<span class="line"><span style="color:#A6ACCD;">    writer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">close</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">gather</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">        asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">to_thread</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">blocking_io</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#82AAFF;">        print_http_headers</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://www.baidu.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#82AAFF;">        execute_cmd</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ping bing.cn</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">),</span><span style="color:#82AAFF;"> get_date</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br></div></div><p>\u961F\u5217\u793A\u4F8B</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> asyncio</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> random</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> time</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">worker</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">queue</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">while</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">True:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># Get a &quot;work item&quot; out of the queue.</span></span>
<span class="line"><span style="color:#A6ACCD;">        sleep_for </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> queue</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># Sleep for the &quot;sleep_for&quot; seconds.</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">sleep_for</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># Notify the queue that the &quot;work item&quot; has been processed.</span></span>
<span class="line"><span style="color:#A6ACCD;">        queue</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">task_done</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">name</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;"> has slept for </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">sleep_for</span><span style="color:#C792EA;">:.2f</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;"> seconds&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># Create a queue that we will use to store our &quot;workload&quot;.</span></span>
<span class="line"><span style="color:#A6ACCD;">    queue </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Queue</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># Generate random timings and put them into the queue.</span></span>
<span class="line"><span style="color:#A6ACCD;">    total_sleep_time </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> _ </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        sleep_for </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> random</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">uniform</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0.05</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">1.0</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        total_sleep_time </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> sleep_for</span></span>
<span class="line"><span style="color:#A6ACCD;">        queue</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">put_nowait</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">sleep_for</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># Create three worker tasks to process the queue concurrently.</span></span>
<span class="line"><span style="color:#A6ACCD;">    tasks </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        task </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create_task</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">worker</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;worker-</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">i</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> queue</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">        tasks</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">task</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># Wait until the queue is fully processed.</span></span>
<span class="line"><span style="color:#A6ACCD;">    started_at </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">monotonic</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> queue</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    total_slept_for </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">monotonic</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> started_at</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># Cancel our worker tasks.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> task </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> tasks</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        task</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">cancel</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># Wait until all worker tasks are cancelled.</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">gather</span><span style="color:#89DDFF;">(*</span><span style="color:#82AAFF;">tasks</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">return_exceptions</span><span style="color:#89DDFF;">=True)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">====</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;3 workers slept in parallel for </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">total_slept_for</span><span style="color:#C792EA;">:.2f</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;"> seconds&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;total expected sleep time: </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">total_sleep_time</span><span style="color:#C792EA;">:.2f</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;"> seconds&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">asyncio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">())</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><p><a href="https://docs.python.org/zh-cn/3/library/asyncio-llapi-index.html" target="_blank" rel="noreferrer"><strong>\u4F4E\u5C42\u7EA7 API</strong></a></p><p><a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html" target="_blank" rel="noreferrer">\u4E8B\u4EF6\u5FAA\u73AF</a></p><table><thead><tr><th><a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.get_running_loop" target="_blank" rel="noreferrer">asyncio.get_running_loop()</a></th><th>\u83B7\u53D6\u5F53\u524D\u8FD0\u884C\u7684\u4E8B\u4EF6\u5FAA\u73AF\xA0\u9996\u9009\xA0\u51FD\u6570\u3002</th></tr></thead><tbody><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.get_event_loop" target="_blank" rel="noreferrer">asyncio.get_event_loop()</a></td><td>\u83B7\u5F97\u4E00\u4E2A\u4E8B\u4EF6\u5FAA\u73AF\u5B9E\u4F8B(\u5F53\u524D\u6216\u901A\u8FC7\u7B56\u7565)\u3002</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.set_event_loop" target="_blank" rel="noreferrer">asyncio.set_event_loop()</a></td><td>\u901A\u8FC7\u5F53\u524D\u7B56\u7565\u5C06\u4E8B\u4EF6\u5FAA\u73AF\u8BBE\u7F6E\u5F53\u524D\u4E8B\u4EF6\u5FAA\u73AF\u3002</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.new_event_loop" target="_blank" rel="noreferrer">asyncio.new_event_loop()</a></td><td>\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u4E8B\u4EF6\u5FAA\u73AF\u3002</td></tr></tbody></table><br><ul><li>\u751F\u547D\u5468\u671F | <a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.run_until_complete" target="_blank" rel="noreferrer">loop.run_until_complete()</a> | \u8FD0\u884C\u4E00\u4E2A\u671F\u7A0B/\u4EFB\u52A1/\u53EF\u7B49\u5F85\u5BF9\u8C61\u76F4\u5230\u5B8C\u6210\u3002 | | --- | --- | | <a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.run_forever" target="_blank" rel="noreferrer">loop.run_forever()</a> | \u4E00\u76F4\u8FD0\u884C\u4E8B\u4EF6\u5FAA\u73AF\u3002 | | <a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.stop" target="_blank" rel="noreferrer">loop.stop()</a> | \u505C\u6B62\u4E8B\u4EF6\u5FAA\u73AF\u3002 | | <a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.close" target="_blank" rel="noreferrer">loop.close()</a> | \u5173\u95ED\u4E8B\u4EF6\u5FAA\u73AF\u3002 | | <a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.is_running" target="_blank" rel="noreferrer">loop.is_running()</a> | \u8FD4\u56DE\xA0True\xA0\uFF0C \u5982\u679C\u4E8B\u4EF6\u5FAA\u73AF\u6B63\u5728\u8FD0\u884C\u3002 | | <a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.is_closed" target="_blank" rel="noreferrer">loop.is_closed()</a> | \u8FD4\u56DE\xA0True\xA0\uFF0C\u5982\u679C\u4E8B\u4EF6\u5FAA\u73AF\u5DF2\u7ECF\u88AB\u5173\u95ED \u3002 | | await <a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.shutdown_asyncgens" target="_blank" rel="noreferrer">loop.shutdown_asyncgens()</a> | \u5173\u95ED\u5F02\u6B65\u751F\u6210\u5668\u3002 |</li></ul><p>\u8C03\u8BD5</p><table><thead><tr><th><a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.set_debug" target="_blank" rel="noreferrer">loop.set_debug()</a></th><th>\u5F00\u542F\u6216\u7981\u7528\u8C03\u8BD5\u6A21\u5F0F\u3002</th></tr></thead><tbody><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.get_debug" target="_blank" rel="noreferrer">loop.get_debug()</a></td><td>\u83B7\u53D6\u5F53\u524D\u6D4B\u8BD5\u6A21\u5F0F\u3002</td></tr></tbody></table><p>\u8C03\u5EA6\u56DE\u8C03\u51FD\u6570</p><table><thead><tr><th><a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.call_soon" target="_blank" rel="noreferrer">loop.call_soon()</a></th><th>\u5C3D\u5FEB\u8C03\u7528\u56DE\u8C03\u3002</th></tr></thead><tbody><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.call_soon_threadsafe" target="_blank" rel="noreferrer">loop.call_soon_threadsafe()</a></td><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.call_soon" target="_blank" rel="noreferrer">loop.call_soon()\xA0</a> \u65B9\u6CD5\u7EBF\u7A0B\u5B89\u5168\u7684\u53D8\u4F53\u3002</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.call_later" target="_blank" rel="noreferrer">loop.call_later()</a></td><td>\u5728\u7ED9\u5B9A\u65F6\u95F4\xA0\u4E4B\u540E\xA0\u8C03\u7528\u56DE\u8C03\u51FD\u6570\u3002</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.call_at" target="_blank" rel="noreferrer">loop.call_at()</a></td><td>\u5728\xA0\u6307\u5B9A\xA0\u65F6\u95F4\u8C03\u7528\u56DE\u8C03\u51FD\u6570\u3002</td></tr></tbody></table><p>\u7EBF\u7A0B/\u8FDB\u7A0B\u6C60</p><table><thead><tr><th>await <a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.run_in_executor" target="_blank" rel="noreferrer">loop.run_in_executor()</a></th><th>\u5728 <a href="https://docs.python.org/zh-cn/3/library/concurrent.futures.html#module-concurrent.futures" target="_blank" rel="noreferrer">concurrent.futures\xA0</a> <br> \u6267\u884C\u5668\u4E2D\u8FD0\u884C\u4E00\u4E2A\u72EC\u5360CPU\u6216\u5176\u5B83\u963B\u585E\u51FD\u6570\u3002</th></tr></thead><tbody><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.set_default_executor" target="_blank" rel="noreferrer">loop.set_default_executor()</a></td><td>\u8BBE\u7F6E <a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.run_in_executor" target="_blank" rel="noreferrer">loop.run_in_executor()\xA0</a> <br> \u9ED8\u8BA4\u6267\u884C\u5668\u3002</td></tr></tbody></table><p>\u4EFB\u52A1\u4E0E\u671F\u7A0B</p><table><thead><tr><th><a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.create_future" target="_blank" rel="noreferrer">loop.create_future()</a></th><th>\u521B\u5EFA\u4E00\u4E2A <a href="https://docs.python.org/zh-cn/3/library/asyncio-future.html#asyncio.Future" target="_blank" rel="noreferrer">Future\xA0</a>\u5BF9\u8C61\u3002</th></tr></thead><tbody><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.create_task" target="_blank" rel="noreferrer">loop.create_task()</a></td><td>\u5C06\u534F\u7A0B\u5F53\u4F5C <a href="https://docs.python.org/zh-cn/3/library/asyncio-task.html#asyncio.Task" target="_blank" rel="noreferrer">Task\xA0</a>\u4E00\u6837\u8C03\u5EA6\u3002</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.set_task_factory" target="_blank" rel="noreferrer">loop.set_task_factory()</a></td><td>\u8BBE\u7F6E <a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.create_task" target="_blank" rel="noreferrer">loop.create_task()\xA0</a>\u4F7F\u7528\u7684\u5DE5\u5382\uFF0C\u5B83\u5C06\u7528\u6765\u521B\u5EFA\xA0Tasks\xA0\u3002</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.get_task_factory" target="_blank" rel="noreferrer">loop.get_task_factory()</a></td><td>\u83B7\u53D6 <a href="https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.create_task" target="_blank" rel="noreferrer">loop.create_task()\xA0</a>\u4F7F\u7528\u7684\u5DE5\u5382\uFF0C\u5B83\u7528\u6765\u521B\u5EFA\xA0Tasks\xA0\u3002</td></tr></tbody></table><h2 id="\u2014\u2014-\u5F00\u53D1\u5DE5\u5177" tabindex="-1">\u2014\u2014 \u5F00\u53D1\u5DE5\u5177 <a class="header-anchor" href="#\u2014\u2014-\u5F00\u53D1\u5DE5\u5177" aria-hidden="true">#</a></h2><h2 id="logging-python-\u7684\u65E5\u5FD7\u8BB0\u5F55\u5DE5\u5177" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/logging.html" target="_blank" rel="noreferrer">logging--- Python \u7684\u65E5\u5FD7\u8BB0\u5F55\u5DE5\u5177</a> <a class="header-anchor" href="#logging-python-\u7684\u65E5\u5FD7\u8BB0\u5F55\u5DE5\u5177" aria-hidden="true">#</a></h2><p>\u65E5\u5FD7\u7EA7\u522B</p><table><thead><tr><th>\u7EA7\u522B</th><th>\u4F55\u65F6\u4F7F\u7528</th><th>\u6570\u503C</th></tr></thead><tbody><tr><td>NOTSET</td><td></td><td>0</td></tr><tr><td>DEBUG</td><td>\u7EC6\u8282\u4FE1\u606F\uFF0C\u4EC5\u5F53\u8BCA\u65AD\u95EE\u9898\u65F6\u9002\u7528\u3002</td><td>10</td></tr><tr><td>INFO</td><td>\u786E\u8BA4\u7A0B\u5E8F\u6309\u9884\u671F\u8FD0\u884C</td><td>20</td></tr><tr><td>WARNING</td><td>\u8868\u660E\u6709\u5DF2\u7ECF\u6216\u5373\u5C06\u53D1\u751F\u7684\u610F\u5916\uFF08\u5982\uFF1A\u78C1\u76D8\u7A7A\u95F4\u4E0D\u8DB3\uFF09\u3002\u7A0B\u5E8F\u4ECD\u6309\u9884\u671F\u8FDB\u884C</td><td>30</td></tr><tr><td>ERROR</td><td>\u7531\u4E8E\u4E25\u91CD\u7684\u95EE\u9898\uFF0C\u7A0B\u5E8F\u7684\u67D0\u4E9B\u529F\u80FD\u5DF2\u7ECF\u4E0D\u80FD\u6B63\u5E38\u6267\u884C</td><td>40</td></tr><tr><td>CRITICAL</td><td>\u4E25\u91CD\u7684\u9519\u8BEF\uFF0C\u8868\u660E\u7A0B\u5E8F\u5DF2\u4E0D\u80FD\u7EE7\u7EED\u6267\u884C</td><td>50</td></tr></tbody></table><p>LogRecord \u5C5E\u6027</p><table><thead><tr><th>\u5C5E\u6027\u540D\u79F0</th><th>\u683C\u5F0F</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>args</td><td>\u4E0D\u9700\u8981\u683C\u5F0F\u5316\u3002</td><td>\u5408\u5E76\u5230\xA0msg\xA0\u4EE5\u4EA7\u751F\xA0message\xA0\u7684\u5305\u542B\u53C2\u6570\u7684\u5143\u7EC4\uFF0C\u6216\u662F\u5176\u4E2D\u7684\u503C\u5C06\u88AB\u7528\u4E8E\u5408\u5E76\u7684\u5B57\u5178</td></tr><tr><td>asctime</td><td>%(asctime)s</td><td>\u8868\u793A <a href="https://docs.python.org/zh-cn/3/library/logging.html#logging.LogRecord" target="_blank" rel="noreferrer">LogRecord\xA0</a>\u4F55\u65F6\u88AB\u521B\u5EFA\u7684\u4F9B\u4EBA\u67E5\u770B\u65F6\u95F4\u503C\u3002 \u9ED8\u8BA4\u5F62\u5F0F\u4E3A &#39;2003-07-08 16:49:45,896&#39; (\u9017\u53F7\u4E4B\u540E\u4E3A\u6BEB\u79D2)\u3002</td></tr><tr><td>created</td><td>%(created)f</td><td><a href="https://docs.python.org/zh-cn/3/library/logging.html#logging.LogRecord" target="_blank" rel="noreferrer">LogRecord\xA0</a>\u88AB\u521B\u5EFA\u7684\u65F6\u95F4\uFF08\u5373\xA0time.time()\xA0\u7684\u8FD4\u56DE\u503C\uFF09\u3002</td></tr><tr><td>exc_info</td><td>\u4E0D\u9700\u8981\u683C\u5F0F\u5316\u3002</td><td>\u5F02\u5E38\u5143\u7EC4 (\u4F8B\u5982\xA0sys.exc_info) \u6216 \xA0None</td></tr><tr><td>\u6587\u4EF6\u540D</td><td>%(filename)s</td><td>pathname\xA0\u7684\u6587\u4EF6\u540D\u90E8\u5206\u3002</td></tr><tr><td>funcName</td><td>%(funcName)s</td><td>\u51FD\u6570\u540D\u5305\u62EC\u8C03\u7528\u65E5\u5FD7\u8BB0\u5F55.</td></tr><tr><td>levelname</td><td>%(levelname)s</td><td>\u6D88\u606F\u6587\u672C\u8BB0\u5F55\u7EA7\u522B (&#39;DEBUG&#39;,\xA0&#39;INFO&#39;,\xA0&#39;WARNING&#39;,\xA0&#39;ERROR&#39;,\xA0&#39;CRITICAL&#39;).</td></tr><tr><td>levelno</td><td>%(levelno)s</td><td>\u6D88\u606F\u6570\u5B57\u8BB0\u5F55\u7EA7\u522B (DEBUG,\xA0INFO,\xA0WARNING,\xA0ERROR,\xA0CRITICAL).</td></tr><tr><td>lineno</td><td>%(lineno)d</td><td>\u53D1\u51FA\u65E5\u5FD7\u8BB0\u5F55\u8C03\u7528\u6240\u5728\u7684\u6E90\u884C\u53F7\uFF08\u5982\u679C\u53EF\u7528\uFF09\u3002</td></tr><tr><td>message</td><td>%(message)s</td><td>\u8BB0\u5165\u65E5\u5FD7\u7684\u6D88\u606F\uFF0C\u5373\xA0msg\xA0%\xA0args\xA0\u7684\u7ED3\u679C</td></tr><tr><td>module</td><td>%(module)s</td><td>\u6A21\u5757 (filename\xA0\u7684\u540D\u79F0\u90E8\u5206)\u3002</td></tr><tr><td>msecs</td><td>%(msecs)d</td><td><a href="https://docs.python.org/zh-cn/3/library/logging.html#logging.LogRecord" target="_blank" rel="noreferrer">LogRecord\xA0</a>\u88AB\u521B\u5EFA\u7684\u65F6\u95F4\u7684\u6BEB\u79D2\u90E8\u5206\u3002</td></tr><tr><td>msg</td><td>\u4E0D\u9700\u8981\u683C\u5F0F\u5316\u3002</td><td>\u5728\u539F\u59CB\u65E5\u5FD7\u8BB0\u5F55\u8C03\u7528\u4E2D\u4F20\u5165\u7684\u683C\u5F0F\u5B57\u7B26\u4E32</td></tr><tr><td>\u540D\u79F0</td><td>%(name)s</td><td>\u7528\u4E8E\u8BB0\u5F55\u8C03\u7528\u7684\u65E5\u5FD7\u8BB0\u5F55\u5668\u540D\u79F0\u3002</td></tr><tr><td>pathname</td><td>%(pathname)s</td><td>\u53D1\u51FA\u65E5\u5FD7\u8BB0\u5F55\u8C03\u7528\u7684\u6E90\u6587\u4EF6\u7684\u5B8C\u6574\u8DEF\u5F84\u540D</td></tr><tr><td>process</td><td>%(process)d</td><td>\u8FDB\u7A0BID\uFF08\u5982\u679C\u53EF\u7528\uFF09</td></tr><tr><td>processName</td><td>%(processName)s</td><td>\u8FDB\u7A0B\u540D\uFF08\u5982\u679C\u53EF\u7528\uFF09</td></tr><tr><td>relativeCreated</td><td>%(relativeCreated)d</td><td>\u4EE5\u6BEB\u79D2\u6570\u8868\u793A\u7684 LogRecord \u88AB\u521B\u5EFA\u7684\u65F6\u95F4\uFF0C\u5373\u76F8\u5BF9\u4E8E logging \u6A21\u5757\u88AB\u52A0\u8F7D\u65F6\u95F4\u7684\u5DEE\u503C\u3002</td></tr><tr><td>stack_info</td><td>\u4E0D\u9700\u8981\u683C\u5F0F\u5316\u3002</td><td>\u5F53\u524D\u7EBF\u7A0B\u4E2D\u4ECE\u5806\u6808\u5E95\u90E8\u8D77\u5411\u4E0A\u76F4\u5230\u5305\u62EC\u65E5\u5FD7\u8BB0\u5F55\u8C03\u7528\u5E76\u5BFC\u81F4\u521B\u5EFA\u6B64\u8BB0\u5F55\u7684\u5806\u6808\u5E27\u7684\u5806\u6808\u5E27\u4FE1\u606F\uFF08\u5982\u679C\u53EF\u7528\uFF09\u3002</td></tr><tr><td>thread</td><td>%(thread)d</td><td>\u7EBF\u7A0BID\uFF08\u5982\u679C\u53EF\u7528\uFF09</td></tr><tr><td>threadName</td><td>%(threadName)s</td><td>\u7EBF\u7A0B\u540D\uFF08\u5982\u679C\u53EF\u7528\uFF09</td></tr></tbody></table><p>**class logging.Logger **\u8BB0\u5F55\u5668 <br> propagate \u8BB0\u5F55\u5230\u8FD9\u4E2A\u8BB0\u5F55\u5668\u7684\u4E8B\u4EF6\u9664\u4E86\u4F1A\u53D1\u9001\u5230\u6B64\u8BB0\u5F55\u5668\u7684\u6240\u6709\u5904\u7406\u7A0B\u5E8F\u5916\uFF0C\u8FD8\u4F1A\u4F20\u9012\u7ED9\u66F4\u9AD8\u7EA7\u522B\uFF08\u7956\u5148\uFF09\u8BB0\u5F55\u5668\u7684\u5904\u7406\u5668</p><ul><li>setLevel(level)\uFF1A\u7ED9\u8BB0\u5F55\u5668\u8BBE\u7F6E\u9608\u503C</li><li>isEnabledFor(level)\u6307\u793A\u6B64\u8BB0\u5F55\u5668\u662F\u5426\u5C06\u5904\u7406\u7EA7\u522B\u4E3A level \u7684\u6D88\u606F</li><li>getEffectiveLevel()\uFF1A\u6307\u793A\u6B64\u8BB0\u5F55\u5668\u7684\u6709\u6548\u7EA7\u522B</li><li>getChild(suffix)\uFF1A\u8FD4\u56DE\u7531\u540E\u7F00\u786E\u5B9A\u7684\uFF0C\u662F\u8BE5\u8BB0\u5F55\u5668\u7684\u540E\u4EE3\u7684\u8BB0\u5F55\u5668</li><li>debug(msg, *args, **kwargs)\uFF1A\u5728\u6B64\u7EAA\u5F55\u5668\u4E0A\u8BB0\u5F55 DEBUG \u7EA7\u522B\u7684\u6D88\u606F</li><li>info(msg, *args, **kwargs)\uFF1A\u5728\u6B64\u8BB0\u5F55\u5668\u4E0A\u8BB0\u5F55 INFO \u7EA7\u522B\u7684\u6D88\u606F</li><li>warning(msg, *args, **kwargs)\uFF1A\u5728\u6B64\u8BB0\u5F55\u5668\u4E0A\u8BB0\u5F55 WARNING \u7EA7\u522B\u7684\u6D88\u606F</li><li>error(msg, *args, **kwargs)\uFF1A\u5728\u6B64\u8BB0\u5F55\u5668\u4E0A\u8BB0\u5F55 ERROR \u7EA7\u522B\u7684\u6D88\u606F</li><li>critical(msg, *args, **kwargs)\uFF1A\u5728\u6B64\u8BB0\u5F55\u5668\u4E0A\u8BB0\u5F55 CRITICAL \u7EA7\u522B\u7684\u6D88\u606F</li><li>log(level, msg, *args, **kwargs)\uFF1A\u5728\u6B64\u8BB0\u5F55\u5668\u4E0A\u8BB0\u5F55 level \u6574\u6570\u4EE3\u8868\u7684\u7EA7\u522B\u7684\u6D88\u606F</li><li>exception(msg, *args, **kwargs)\uFF1A\u5728\u6B64\u8BB0\u5F55\u5668\u4E0A\u8BB0\u5F55 ERROR \u7EA7\u522B\u7684\u6D88\u606F\u3002</li><li>addFilter(filter)\uFF1A\u5C06\u6307\u5B9A\u7684\u8FC7\u6EE4\u5668 filter \u6DFB\u52A0\u5230\u6B64\u8BB0\u5F55\u5668\u3002</li><li>removeFilter(filter)\uFF1A\u4ECE\u6B64\u8BB0\u5F55\u5668\u4E2D\u5220\u9664\u6307\u5B9A\u7684\u8FC7\u6EE4\u5668 filter\u3002</li><li>filter(record)\uFF1A\u5C06\u6B64\u8BB0\u5F55\u5668\u7684\u8FC7\u6EE4\u5668\u5E94\u7528\u4E8E\u8BB0\u5F55\uFF0C\u5982\u679C\u8BB0\u5F55\u80FD\u88AB\u5904\u7406\u5219\u8FD4\u56DE True\u3002</li><li>addHandler(hdlr)\uFF1A\u5C06\u6307\u5B9A\u7684\u5904\u7406\u5668 hdlr \u6DFB\u52A0\u5230\u6B64\u8BB0\u5F55\u5668\u3002</li><li>removeHandler(hdlr)\uFF1A\u4ECE\u6B64\u8BB0\u5F55\u5668\u4E2D\u5220\u9664\u6307\u5B9A\u7684\u5904\u7406\u5668 hdlr\u3002</li><li>findCaller(stack_info=False, stacklevel=1)\uFF1A\u67E5\u627E\u8C03\u7528\u6E90\u7684\u6587\u4EF6\u540D\u548C\u884C\u53F7\uFF0C\u4EE5 \u6587\u4EF6\u540D\uFF0C\u884C\u53F7\uFF0C\u51FD\u6570\u540D\u79F0\u548C\u5806\u6808\u4FE1\u606F 4\u5143\u7D20\u5143\u7EC4\u7684\u5F62\u5F0F\u8FD4\u56DE\u3002</li><li>handle(record)\uFF1A\u901A\u8FC7\u5C06\u8BB0\u5F55\u4F20\u9012\u7ED9\u4E0E\u6B64\u8BB0\u5F55\u5668\u53CA\u5176\u7956\u5148\u5173\u8054\u7684\u6240\u6709\u5904\u7406\u5668\u6765\u5904\u7406</li><li>makeRecord(name, level, fn, lno, msg, args, exc_info, func=None, extra=None, sinfo=None)\uFF1A\u8FD9\u662F\u4E00\u79CD\u5DE5\u5382\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u5728\u5B50\u7C7B\u4E2D\u5BF9\u5176\u8FDB\u884C\u91CD\u5199\u4EE5\u521B\u5EFA\u4E13\u95E8\u7684 LogRecord \u5B9E\u4F8B\u3002</li><li>hasHandlers()\uFF1A\u68C0\u67E5\u6B64\u8BB0\u5F55\u5668\u662F\u5426\u914D\u7F6E\u4E86\u4EFB\u4F55\u5904\u7406\u5668\u3002</li></ul><p><strong>class\xA0logging.Handler</strong> \u5904\u7406\u5668</p><ul><li><strong>init</strong>(level=NOTSET)\uFF1A\u521D\u59CB\u5316 Handler \u5B9E\u4F8B\u65F6\uFF0C\u5C06\u8FC7\u6EE4\u5217\u8868\u7F6E\u4E3A\u7A7A\uFF0C\u5E76\u4E14\u521B\u5EFA\u9501\u6765\u5E8F\u5217\u5316\u5BF9 I/O \u7684\u8BBF\u95EE</li><li>createLock()\uFF1A\u521D\u59CB\u5316\u4E00\u4E2A\u7EBF\u7A0B\u9501\uFF0C\u7528\u6765\u5E8F\u5217\u5316\u5BF9\u5E95\u5C42\u7684 I/O \u529F\u80FD\u7684\u8BBF\u95EE</li><li>acquire()\uFF1A\u4F7F\u7528 createLock() \u83B7\u53D6\u7EBF\u7A0B\u9501</li><li>release()\uFF1A\u4F7F\u7528 acquire() \u6765\u91CA\u653E\u7EBF\u7A0B\u9501</li><li>setLevel(level)\uFF1A\u7ED9\u5904\u7406\u5668\u8BBE\u7F6E\u9608\u503C\u4E3A level \u3002\u65E5\u5FD7\u7EA7\u522B\u5C0F\u4E8E level \u5C06\u88AB\u5FFD\u7565</li><li>setFormatter(fmt)\uFF1A\u5C06\u6B64\u5904\u7406\u5668\u7684 Formatter \u8BBE\u7F6E\u4E3A fmt</li><li>addFilter(filter)\uFF1A\u5C06\u6307\u5B9A\u7684\u8FC7\u6EE4\u5668 filter \u6DFB\u52A0\u5230\u6B64\u5904\u7406\u5668</li><li>removeFilter(filter)\uFF1A\u4ECE\u6B64\u5904\u7406\u5668\u4E2D\u5220\u9664\u6307\u5B9A\u7684\u8FC7\u6EE4\u5668 filter</li><li>filter(record)\uFF1A\u5C06\u6B64\u5904\u7406\u5668\u7684\u8FC7\u6EE4\u5668\u5E94\u7528\u4E8E\u8BB0\u5F55\uFF0C\u5728\u8981\u5904\u7406\u8BB0\u5F55\u65F6\u8FD4\u56DE True</li><li>flush()\uFF1A\u786E\u4FDD\u6240\u6709\u65E5\u5FD7\u8BB0\u5F55\u4ECE\u7F13\u5B58\u8F93\u51FA</li><li>close()\uFF1A\u6574\u7406\u5904\u7406\u5668\u4F7F\u7528\u7684\u6240\u6709\u8D44\u6E90</li><li>handle(record)\uFF1A\u7ECF\u5DF2\u6DFB\u52A0\u5230\u5904\u7406\u5668\u7684\u8FC7\u6EE4\u5668\u8FC7\u6EE4\u540E\uFF0C\u6709\u6761\u4EF6\u5730\u53D1\u51FA\u6307\u5B9A\u7684\u65E5\u5FD7\u8BB0\u5F55</li><li>handleError(record)\uFF1A\u8C03\u7528 emit() \u671F\u95F4\u9047\u5230\u5F02\u5E38\u65F6\uFF0C\u5E94\u4ECE\u5904\u7406\u5668\u4E2D\u8C03\u7528\u6B64\u65B9\u6CD5</li><li>format(record)\uFF1A\u8BBE\u7F6E\u4E86\u683C\u5F0F\u5668\u5219\u7528\u5176\u5BF9\u8BB0\u5F55\u8FDB\u884C\u683C\u5F0F\u5316</li><li>emit(record)\uFF1A\u6267\u884C\u5B9E\u9645\u8BB0\u5F55\u7ED9\u5B9A\u65E5\u5FD7\u8BB0\u5F55\u6240\u9700\u7684\u64CD\u4F5C</li></ul><p><strong>class logging.Formatter(fmt=None, datefmt=None, style=&#39;%&#39;)</strong> <br> \u683C\u5F0F\u5668\u2014\u2014\u5C06 <a href="https://docs.python.org/zh-cn/3/library/logging.html#logging.LogRecord" target="_blank" rel="noreferrer">LogRecord</a> \u8F6C\u6362\u4E3A\u53EF\u7531\u4EBA\u6216\u5916\u90E8\u7CFB\u7EDF\u89E3\u91CA\u7684\u5B57\u7B26\u4E32</p><ul><li>format(record)\uFF1A\u8BB0\u5F55\u7684\u5C5E\u6027\u5B57\u5178\u7528\u4F5C\u5B57\u7B26\u4E32\u683C\u5F0F\u5316\u64CD\u4F5C\u7684\u53C2\u6570\u3002</li><li>formatTime(record, datefmt=None)\uFF1A\u7531\u60F3\u8981\u4F7F\u7528\u683C\u5F0F\u5316\u65F6\u95F4\u7684\u683C\u5F0F\u5668\u4E2D\u7684 format() \u8C03\u7528</li><li>formatException(exc_info)\uFF1A\u5C06\u6307\u5B9A\u7684\u5F02\u5E38\u4FE1\u606F\uFF08\u7531 sys.exc_info() \u8FD4\u56DE\u7684\u6807\u51C6\u5F02\u5E38\u5143\u7EC4\uFF09\u683C\u5F0F\u5316\u4E3A\u5B57\u7B26\u4E32\u3002</li><li>formatStack(stack_info)\uFF1A\u5C06\u6307\u5B9A\u7684\u5806\u6808\u4FE1\u606F\u683C\u5F0F\u5316\u4E3A\u5B57\u7B26\u4E32</li></ul><p><strong>class\xA0logging.Filter(name=&#39;&#39;) \u8FC7\u6EE4\u5668\u88AB\xA0Handlers\xA0\u548C\xA0Loggers\xA0\u7528\u6765\u5B9E\u73B0\u6BD4\u6309\u5C42\u7EA7\u63D0\u4F9B\u66F4\u590D\u6742\u7684\u8FC7\u6EE4\u64CD\u4F5C</strong> <br> <a href="https://docs.python.org/zh-cn/3/library/logging.handlers.html#module-logging.handlers" target="_blank" rel="noreferrer">logging.handlers</a></p><ul><li>class\xA0logging.StreamHandler(stream=None)</li><li>class\xA0logging.FileHandler(filename,\xA0mode=&#39;a&#39;,\xA0encoding=None,\xA0delay=False)</li><li>HTTPHandler</li></ul><p><a href="https://docs.python.org/zh-cn/3/library/logging.config.html#module-logging.config" target="_blank" rel="noreferrer">logging.config</a></p><ul><li>logging.config.dictConfig(config)</li><li>logging.config.fileConfig(fname, defaults=None, disable_existing_loggers=True)</li><li>logging.config.listen(port=DEFAULT_LOGGING_CONFIG_PORT, verify=None)\uFF1A\u5728\u6307\u5B9A\u7684\u7AEF\u53E3\u4E0A\u542F\u52A8\u5957\u63A5\u5B57\u670D\u52A1\u5668\uFF0C\u5E76\u76D1\u542C\u65B0\u7684\u914D\u7F6E</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> logging</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> logging </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> StreamHandler</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Formatter</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">FileHandler</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">new_logger</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">#\u521B\u5EFA\u65E5\u5FD7\u8BB0\u5F55\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">    logger </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> logging</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getLogger</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">name</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    logger</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setLevel</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">logging</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">DEBUG</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">#\u521B\u5EFA\u65E5\u5FD7\u5904\u7406\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">    handler </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">StreamHandler</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    handler</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setLevel</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">logging</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">INFO</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">#\u8BBE\u7F6E\u5904\u7406\u5668\u7684\u65E5\u5FD7\u683C\u5F0F\u5316</span></span>
<span class="line"><span style="color:#A6ACCD;">    formatter </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Formatter</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fmt</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[ </span><span style="color:#F78C6C;">%(asctime)s</span><span style="color:#C3E88D;"> of </span><span style="color:#F78C6C;">%(name)s</span><span style="color:#C3E88D;"> - </span><span style="color:#F78C6C;">%(levelname)s</span><span style="color:#C3E88D;"> ] </span><span style="color:#F78C6C;">%(message)s</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#A6ACCD;">datefmt</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%Y-%m-</span><span style="color:#F78C6C;">%d</span><span style="color:#C3E88D;"> %H:%M:%S</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    handler</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setFormatter</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">formatter</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">#\u6DFB\u52A0\u8BB0\u5F55\u5668\u7684\u5904\u7406\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">    logger</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addHandler</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">handler</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    fileHandler </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileHandler</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">access.log</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">encoding</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    fileHandler</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setLevel</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">logging</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">DEBUG</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    fileHandler</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setFormatter</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">Formatter</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&lt; </span><span style="color:#F78C6C;">%(asctime)s</span><span style="color:#C3E88D;"> &gt; at </span><span style="color:#F78C6C;">%(lineno)s</span><span style="color:#C3E88D;"> of </span><span style="color:#F78C6C;">%(name)s</span><span style="color:#C3E88D;">: </span><span style="color:#F78C6C;">%(message)s</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%m-</span><span style="color:#F78C6C;">%d</span><span style="color:#C3E88D;"> %H:%M:%S</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    logger</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addHandler</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">fileHandler</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> logger</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    logger </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">new_logger</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">spider</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    logger</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">logging information</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    logger</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">debug</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">logging debug</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">\u65E5\u5FD7\u683C\u5F0F\u5316\u4E2D\u7684\u6269\u5C55\u5B57\u6BB5</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">(\u6269\u5C55\u5B57\u6BB5\u540D)s</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2013 logger</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#A6ACCD;">(msg</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> extra)</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">import logging</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">def </span><span style="color:#82AAFF;">init_logger</span><span style="color:#A6ACCD;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    #\u914D\u7F6E root \u8BB0\u5F55\u5668\u7684\u57FA\u672C\u4FE1\u606F\uFF08\u683C\u5F0F\u5316\u3001\u5904\u7406\u5668\uFF09</span></span>
<span class="line"><span style="color:#A6ACCD;">    logging</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">basicConfig</span><span style="color:#A6ACCD;">(format</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&lt; %(asctime)s &gt; of %(user_id)s at %(pathname)s </span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">                                %(lineno)s line: %(message)s</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                        datefmt</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%Y-%m-%d %H:%M:%S</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                        level</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">logging</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">INFO)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">init_logger</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    # \u4EE5root logger\u8BB0\u5F55\u4FE1\u606F</span></span>
<span class="line"><span style="color:#A6ACCD;">    # logger </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">logging</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getLogger</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    logging</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hi, info!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">extra</span><span style="color:#89DDFF;">={</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">user_id</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">19</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    logging</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">warning</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">logging warning!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">extra</span><span style="color:#89DDFF;">={</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">user_id</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">20</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="unittest-\u5355\u5143\u6D4B\u8BD5\u6846\u67B6" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/unittest.html" target="_blank" rel="noreferrer">unittest--- \u5355\u5143\u6D4B\u8BD5\u6846\u67B6</a> <a class="header-anchor" href="#unittest-\u5355\u5143\u6D4B\u8BD5\u6846\u67B6" aria-hidden="true">#</a></h2><p>\u7EE7\u627F <a href="https://docs.python.org/zh-cn/3/library/unittest.html#unittest.TestCase" target="_blank" rel="noreferrer">unittest.TestCase</a> \u5C31\u521B\u5EFA\u4E86\u4E00\u4E2A\u6D4B\u8BD5\u6837\u4F8B <br> \u65B9\u6CD5\u7684\u547D\u540D\u90FD\u4EE5\xA0test\xA0\u5F00\u5934</p><ul><li>test fixture\uFF1A\u6D4B\u8BD5\u5939\u5177\uFF0C\u521D\u59CB\u5316\u548C\u6E05\u7406\u6D4B\u8BD5\u6570\u636E\u53CA\u73AF\u5883 <ul><li>\u6D4B\u8BD5\u524D\u7F6E\uFF08setUp\uFF09</li><li>\u6E05\u7406\uFF08tearDown\uFF09</li></ul></li><li>test case \u6D4B\u8BD5\u7528\u4F8B</li><li>test suite \u6D4B\u8BD5\u5957\u4EF6\uFF1A\u628A\u9700\u8981\u4E00\u8D77\u6267\u884C\u7684\u7528\u4F8B\u7EC4\u5408\u5230\u4E00\u8D77</li><li>test runner\uFF1A\u8FD0\u884C\u7528\u4F8B\u5E76\u8FD4\u56DE\u7ED3\u679C</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;">#\u6D4B\u8BD5\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyTestCase</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">unittest</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">TestCase</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">setUp</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">tearDown</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#676E95;">#\u6D4B\u8BD5\u7C7B</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyTestCase</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">unittest</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">TestCase</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#FFCB6B;">classmethod</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">setUpClass</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">cls</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#FFCB6B;">classmethod</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">tearDownClass</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">cls</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#676E95;">#\u6D4B\u8BD5\u6A21\u5757</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">setUpModule</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">tearDownModule</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>\u65AD\u8A00</p><table><thead><tr><th>Method</th><th>Checks that</th></tr></thead><tbody><tr><td><a href="https://docs.python.org/zh-cn/3/library/unittest.html#unittest.TestCase.assertEqual" target="_blank" rel="noreferrer">assertEqual(a,\xA0b)</a></td><td>a\xA0==\xA0b</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/unittest.html#unittest.TestCase.assertNotEqual" target="_blank" rel="noreferrer">assertNotEqual(a,\xA0b)</a></td><td>a\xA0!=\xA0b</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/unittest.html#unittest.TestCase.assertTrue" target="_blank" rel="noreferrer">assertTrue(x)</a></td><td>bool(x)\xA0is\xA0True</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/unittest.html#unittest.TestCase.assertFalse" target="_blank" rel="noreferrer">assertFalse(x)</a></td><td>bool(x)\xA0is\xA0False</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/unittest.html#unittest.TestCase.assertIs" target="_blank" rel="noreferrer">assertIs(a,\xA0b)</a></td><td>a\xA0is\xA0b</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/unittest.html#unittest.TestCase.assertIsNot" target="_blank" rel="noreferrer">assertIsNot(a,\xA0b)</a></td><td>a\xA0is\xA0not\xA0b</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/unittest.html#unittest.TestCase.assertIsNone" target="_blank" rel="noreferrer">assertIsNone(x)</a></td><td>x\xA0is\xA0None</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/unittest.html#unittest.TestCase.assertIsNotNone" target="_blank" rel="noreferrer">assertIsNotNone(x)</a></td><td>x\xA0is\xA0not\xA0None</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/unittest.html#unittest.TestCase.assertIn" target="_blank" rel="noreferrer">assertIn(a,\xA0b)</a></td><td>a\xA0in\xA0b</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/unittest.html#unittest.TestCase.assertNotIn" target="_blank" rel="noreferrer">assertNotIn(a,\xA0b)</a></td><td>a\xA0not\xA0in\xA0b</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/unittest.html#unittest.TestCase.assertIsInstance" target="_blank" rel="noreferrer">assertIsInstance(a,\xA0b)</a></td><td>isinstance(a,\xA0b)</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/unittest.html#unittest.TestCase.assertNotIsInstance" target="_blank" rel="noreferrer">assertNotIsInstance(a,\xA0b)</a></td><td>not\xA0isinstance(a,\xA0b)</td></tr></tbody></table><ul><li>\u901A\u8FC7\xA0skip\xA0\u88C5\u9970\u5668\u6216\xA0SkipTest\xA0\u76F4\u63A5\u8DF3\u8FC7\u6D4B\u8BD5</li><li>\u901A\u8FC7\xA0skipIf\xA0\u6216\xA0skipUnless\xA0\u6309\u6761\u4EF6\u8DF3\u8FC7\u6216\u4E0D\u8DF3\u8FC7\u6D4B\u8BD5</li><li>\u901A\u8FC7\xA0expectedFailure\xA0\u9884\u8BA1\u6D4B\u8BD5\u5931\u8D25</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyTestCase</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">unittest</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">TestCase</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">unittest</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">skip</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u76F4\u63A5\u8DF3\u8FC7</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_nothing</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fail</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">shouldn&#39;t happen</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">unittest</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">skipIf</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">mylib</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">__version__</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#82AAFF;">                     </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u6EE1\u8DB3\u6761\u4EF6\u8DF3\u8FC7</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_format</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># Tests that work for only a certain version of the library.</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">unittest</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">skipUnless</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">sys</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">platform</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">startswith</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">win</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">),</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u6EE1\u8DB3\u6761\u4EF6\u4E0D\u8DF3\u8FC7</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_windows_support</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># windows specific testing code</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_maybe_skipped</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">not</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">external_resource_available</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">            self</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">skipTest</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u8DF3\u8FC7</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># test code that depends on the external resource</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">pass</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">unittest</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">expectedFailure</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_fail</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assertEqual</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u8FD9\u4E2A\u76EE\u524D\u662F\u5931\u8D25\u7684</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>class unittest.TestSuite(tests=())</p><ul><li>addTest(test)</li><li>addTests(tests)</li><li>run(result)</li><li>debug()</li><li>countTestCases()</li></ul><p>class unittest.TestLoader</p><p>\u751F\u6210HTMLTestRunner\u6D4B\u8BD5\u62A5\u544A</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> HTMLTestRunner</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> unittest</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">time</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TestStringMethods</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">unittest</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">TestCase</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">setUp</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">== setUp ==</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">tearDown</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">== tearDown ==</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_upper</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">u</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u6D4B\u8BD5\u5927\u5199</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assertEqual</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">upper</span><span style="color:#89DDFF;">(),</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">FOO</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_isupper</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">u</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u6D4B\u8BD5\u5927\u5199\u5224\u65AD</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assertTrue</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">FOO</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isupper</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assertFalse</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Foo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isupper</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test_split</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">u</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u6D4B\u8BD5\u5B57\u7B26\u5206\u5272</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        s </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hello world</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assertEqual</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">s</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#89DDFF;">(),</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hello</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">world</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># check that s.split fails when the separator is not a string</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> self</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assertRaises</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">TypeError</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">            s</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span></span>
<span class="line"><span style="color:#A6ACCD;">suite</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">unittest</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">TestSuite</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">suite</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addTest</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">TestStringMethods</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test_upper</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">suite</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addTest</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">TestStringMethods</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test_isupper</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">suite</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addTest</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">TestStringMethods</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test_split</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">now </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">strftime</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">%Y-%m-</span><span style="color:#F78C6C;">%d</span><span style="color:#C3E88D;"> %H_%M_%S</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">localtime</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">filename </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> now</span><span style="color:#89DDFF;">+</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">_result.html</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">filename</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">wb</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> fp</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    runner </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> HTMLTestRunner</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">HTMLTestRunner</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#A6ACCD;">stream</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">fp</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#A6ACCD;">title</span><span style="color:#89DDFF;">=</span><span style="color:#C792EA;">u</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u641C\u7D22\u529F\u80FD\u6D4B\u8BD5\u62A5\u544A</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#82AAFF;">        </span><span style="color:#A6ACCD;">description</span><span style="color:#89DDFF;">=</span><span style="color:#C792EA;">u</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u7528\u4F8B\u6267\u884C\u60C5\u51B5\uFF1A</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    runner</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">suite</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="pydoc-\u6587\u6863\u751F\u6210\u5668\u548C\u5728\u7EBF\u5E2E\u52A9\u7CFB\u7EDF" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/pydoc.html#module-pydoc" target="_blank" rel="noreferrer">pydoc</a> --- \u6587\u6863\u751F\u6210\u5668\u548C\u5728\u7EBF\u5E2E\u52A9\u7CFB\u7EDF <a class="header-anchor" href="#pydoc-\u6587\u6863\u751F\u6210\u5668\u548C\u5728\u7EBF\u5E2E\u52A9\u7CFB\u7EDF" aria-hidden="true">#</a></h2><ul><li>python -m pydoc \u6A21\u5757\u540D\uFF1A\u5728\u63A7\u5236\u53F0\u67E5\u770B\u6307\u5B9A\u6A21\u5757\u7684\u8BF4\u660E\u6027\u6587\u6863</li><li>python -m pydoc -w \u6A21\u5757\u540D\uFF1A\u751F\u6210 HTML \u5E2E\u52A9\u6587\u6863</li><li>\u67E5\u770B\u5F53\u524D\u64CD\u4F5C\u7CFB\u7EDF\u4E2D\u6240\u6709 Python \u6A21\u5757\u7684 HTML \u6587\u6863\u4FE1\u606F <ul><li>python -m pydoc -p \u7AEF\u53E3\u53F7</li><li>python -m pydoc -b</li></ul></li><li>python -m pydoc -k \u6A21\u5757\u540D\uFF1A\u67E5\u627E\u6A21\u5757</li></ul><h2 id="doctest-\u6D4B\u8BD5\u4EA4\u4E92\u6027\u7684python\u793A\u4F8B" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/doctest.html#module-doctest" target="_blank" rel="noreferrer">doctest</a> --- \u6D4B\u8BD5\u4EA4\u4E92\u6027\u7684Python\u793A\u4F8B <a class="header-anchor" href="#doctest-\u6D4B\u8BD5\u4EA4\u4E92\u6027\u7684python\u793A\u4F8B" aria-hidden="true">#</a></h2><p>\u5BFB\u627E\u50CFPython\u4EA4\u4E92\u5F0F(&gt;&gt;&gt;)\u4EE3\u7801\u7684\u6587\u672C\uFF0C\u7136\u540E\u6267\u884C\u8FD9\u4E9B\u4EE3\u7801\u6765\u786E\u4FDD\u5B83\u4EEC\u7684\u786E\u5C31\u50CF\u5C55\u793A\u7684\u90A3\u6837\u6B63\u786E\u8FD0\u884C</p><ul><li>doctest.testfile(filename, module_relative=True, name=None, package=None, globs=None, verbose=None, report=True, optionflags=0, extraglobs=None, raise_on_error=False, parser=DocTestParser(), encoding=None)</li><li>doctest.testmod(m=None, name=None, globs=None, verbose=None, report=True, optionflags=0, extraglobs=None, raise_on_error=False, exclude_empty=False)</li><li>doctest.run_docstring_examples(f, globs, verbose=False, name=&quot;NoName&quot;, compileflags=None, optionflags=0)</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">def </span><span style="color:#82AAFF;">display</span><span style="color:#A6ACCD;">(add):</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">    \u8FD9\u662F\u4E00\u4E2A\u51FD\u6570</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">display</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://c.biancheng.net/python/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">http</span><span style="color:#89DDFF;">:</span><span style="color:#676E95;">//c.biancheng.net/python/</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">display</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://c.biancheng.net/java/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">http</span><span style="color:#89DDFF;">:</span><span style="color:#676E95;">//c.biancheng.net/java/</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">    print(add)</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">my_cla</span><span style="color:#A6ACCD;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    &#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">\u8FD9\u662F\u4E00\u4E2A\u7C7B</span></span>
<span class="line"><span style="color:#A6ACCD;">    &gt;&gt;&gt; </span><span style="color:#FFCB6B;">myClass</span><span style="color:#A6ACCD;"> = </span><span style="color:#FFCB6B;">my_cla</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    &gt;&gt;&gt; </span><span style="color:#FFCB6B;">myClass</span><span style="color:#A6ACCD;">.</span><span style="color:#FFCB6B;">say</span><span style="color:#A6ACCD;">(&quot;</span><span style="color:#FFCB6B;">http</span><span style="color:#A6ACCD;">:</span><span style="color:#676E95;">//c.biancheng.net/shell/&quot;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">http</span><span style="color:#A6ACCD;">:</span><span style="color:#676E95;">//c.biancheng.net/shell/</span></span>
<span class="line"><span style="color:#A6ACCD;">    &gt;&gt;&gt; </span><span style="color:#FFCB6B;">myClass</span><span style="color:#A6ACCD;">.</span><span style="color:#FFCB6B;">say</span><span style="color:#A6ACCD;">(&quot;</span><span style="color:#FFCB6B;">http</span><span style="color:#A6ACCD;">:</span><span style="color:#676E95;">//c.biancheng.net&quot;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">abc</span></span>
<span class="line"><span style="color:#A6ACCD;">    &#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">say</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">self</span><span style="color:#A6ACCD;">,</span><span style="color:#FFCB6B;">add</span><span style="color:#A6ACCD;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        &#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">\u8FD9\u662F\u4E00\u4E2A\u7C7B\u5B9E\u4F8B\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">        &#39;&#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#FFCB6B;">print</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">add</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span></span>
<span class="line"><span style="color:#FFCB6B;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">__name__</span><span style="color:#A6ACCD;"> == &quot;</span><span style="color:#FFCB6B;">__main__</span><span style="color:#A6ACCD;">&quot;:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">doctest</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">doctest</span><span style="color:#A6ACCD;">.</span><span style="color:#FFCB6B;">testmod</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>CLI</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">python example</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">py </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">v</span></span>
<span class="line"><span style="color:#A6ACCD;">\u6216</span></span>
<span class="line"><span style="color:#A6ACCD;">python </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">m doctest </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">v example</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">py</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="dataclasses-\u6570\u636E\u7C7B" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/dataclasses.html#module-dataclasses" target="_blank" rel="noreferrer">dataclasses</a> --- \u6570\u636E\u7C7B <a class="header-anchor" href="#dataclasses-\u6570\u636E\u7C7B" aria-hidden="true">#</a></h2><p>@dataclasses.dataclass(*, init=True, repr=True, eq=True, order=False, unsafe_hash=False, frozen=False, match_args=True, kw_only=False, slots=False) \u7528\u4E8E\u5C06\u751F\u6210\u7684 <a href="https://docs.python.org/zh-cn/3/glossary.html#term-special-method" target="_blank" rel="noreferrer">special method</a> \u6DFB\u52A0\u5230\u7C7B\u4E2D</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">dataclass</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">C</span><span style="color:#A6ACCD;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">a</span><span style="color:#A6ACCD;">: </span><span style="color:#FFCB6B;">int</span><span style="color:#A6ACCD;">       # &#39;</span><span style="color:#FFCB6B;">a</span><span style="color:#A6ACCD;">&#39; </span><span style="color:#FFCB6B;">has</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">no</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">value</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">b</span><span style="color:#A6ACCD;">: </span><span style="color:#FFCB6B;">int</span><span style="color:#A6ACCD;"> = 0   # </span><span style="color:#FFCB6B;">assign</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">value</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">for</span><span style="color:#A6ACCD;"> &#39;</span><span style="color:#FFCB6B;">b</span><span style="color:#A6ACCD;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;"># </span><span style="color:#FFCB6B;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">\u548C</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">b</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">\u90FD\u5C06\u5305\u542B\u5728\u6DFB\u52A0\u7684</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">__init__</span><span style="color:#A6ACCD;">() </span><span style="color:#FFCB6B;">\u65B9\u6CD5\u4E2D</span><span style="color:#A6ACCD;">\uFF0C</span><span style="color:#FFCB6B;">\u5B83\u4EEC\u5C06\u88AB\u5B9A\u4E49\u4E3A</span><span style="color:#A6ACCD;">:</span></span>
<span class="line"><span style="color:#FFCB6B;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">__init__</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">self</span><span style="color:#A6ACCD;">, </span><span style="color:#FFCB6B;">a</span><span style="color:#A6ACCD;">: </span><span style="color:#FFCB6B;">int</span><span style="color:#A6ACCD;">, </span><span style="color:#FFCB6B;">b</span><span style="color:#A6ACCD;">: </span><span style="color:#FFCB6B;">int</span><span style="color:#A6ACCD;"> = 0):</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>dataclasses.field(*, default=MISSING, default_factory=MISSING, init=True, repr=True, hash=None, compare=True, metadata=None, kw_only=MISSING) <br> dataclasses.asdict(instance, *, dict_factory=dict) \u5C06\u6570\u636E\u7C7B instance \u8F6C\u6362\u4E3A\u5B57\u5178 <br> dataclasses.astuple(instance, *, tuple_factory=tuple) \u5C06\u6570\u636E\u7C7B instance \u8F6C\u6362\u4E3A\u5143\u7EC4</p><h2 id="smtplib-smtp\u534F\u8BAE\u5BA2\u6237\u7AEF" tabindex="-1">smtplib\xA0---SMTP\u534F\u8BAE\u5BA2\u6237\u7AEF <a class="header-anchor" href="#smtplib-smtp\u534F\u8BAE\u5BA2\u6237\u7AEF" aria-hidden="true">#</a></h2><p>class smtplib.SMTP(host=&#39;&#39;, port=0, local_hostname=None, [timeout, ]source_address=None)</p><ul><li>SMTP.set_debuglevel(level)</li><li>SMTP.docmd(cmd, args=&#39;&#39;)</li><li>SMTP.connect(host=&#39;localhost&#39;, port=0)</li><li>SMTP.helo(name=&#39;&#39;)</li><li>SMTP.ehlo(name=&#39;&#39;)</li><li>SMTP.ehlo_or_helo_if_needed()</li><li>SMTP.has_extn(name)</li><li>SMTP.verify(address)</li><li>SMTP.login(user, password, *, initial_response_ok=True)</li><li>SMTP.auth(mechanism, authobject, *, initial_response_ok=True)</li><li>SMTP.starttls(keyfile=None, certfile=None, context=None)</li><li>SMTP.sendmail(from_addr, to_addrs, msg, mail_options=(), rcpt_options=())</li><li>SMTP.send_message(msg, from_addr=None, to_addrs=None, mail_options=(), rcpt_options=())</li><li>SMTP.quit()</li></ul><p>\u793A\u4F8B</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> smtplib</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> email</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> email</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">mime</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">text </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> MIMEText    </span><span style="color:#676E95;"># \u8D1F\u8D23\u6784\u9020\u6587\u672C</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> email</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">mime</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">image </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> MIMEImage  </span><span style="color:#676E95;"># \u8D1F\u8D23\u6784\u9020\u56FE\u7247</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> email</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">mime</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">multipart </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> MIMEMultipart  </span><span style="color:#676E95;"># \u8D1F\u8D23\u5C06\u591A\u4E2A\u5BF9\u8C61\u96C6\u5408\u8D77\u6765</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> email</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">header </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> Header</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># SMTP\u670D\u52A1\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">mail_host </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">smtp.163.com</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#676E95;"># \u53D1\u4EF6\u4EBA\u90AE\u7BB1</span></span>
<span class="line"><span style="color:#A6ACCD;">mail_sender </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">******@163.com</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#676E95;"># \u90AE\u7BB1\u6388\u6743\u7801</span></span>
<span class="line"><span style="color:#A6ACCD;">mail_license </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">********</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#676E95;"># \u6536\u4EF6\u4EBA\u90AE\u7BB1</span></span>
<span class="line"><span style="color:#A6ACCD;">mail_receivers </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">******@qq.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">******@outlook.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">mm </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MIMEMultipart</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">related</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#676E95;"># \u90AE\u4EF6\u5934\u90E8\u5185\u5BB9</span></span>
<span class="line"><span style="color:#676E95;"># \u90AE\u4EF6\u4E3B\u9898</span></span>
<span class="line"><span style="color:#A6ACCD;">subject_content </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;&quot;</span><span style="color:#C3E88D;">Python\u90AE\u4EF6\u6D4B\u8BD5</span><span style="color:#89DDFF;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#676E95;"># \u8BBE\u7F6E\u53D1\u9001\u8005,\u6CE8\u610F\u4E25\u683C\u9075\u5B88\u683C\u5F0F,\u91CC\u9762\u90AE\u7BB1\u4E3A\u53D1\u4EF6\u4EBA\u90AE\u7BB1</span></span>
<span class="line"><span style="color:#A6ACCD;">mm</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">From</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sender_name&lt;******@163.com&gt;</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#676E95;"># \u8BBE\u7F6E\u63A5\u53D7\u8005,\u6CE8\u610F\u4E25\u683C\u9075\u5B88\u683C\u5F0F,\u91CC\u9762\u90AE\u7BB1\u4E3A\u63A5\u53D7\u8005\u90AE\u7BB1</span></span>
<span class="line"><span style="color:#A6ACCD;">mm</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">To</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">receiver_1_name&lt;******@qq.com&gt;,receiver_2_name&lt;******@outlook.com&gt;</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#676E95;"># \u8BBE\u7F6E\u90AE\u4EF6\u4E3B\u9898</span></span>
<span class="line"><span style="color:#A6ACCD;">mm</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Subject</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Header</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">subject_content</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#676E95;"># \u90AE\u4EF6\u6B63\u6587\u5185\u5BB9</span></span>
<span class="line"><span style="color:#A6ACCD;">body_content </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;&quot;</span><span style="color:#C3E88D;">\u4F60\u597D\uFF0C\u8FD9\u662F\u4E00\u4E2A\u6D4B\u8BD5\u90AE\u4EF6\uFF01</span><span style="color:#89DDFF;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#676E95;"># \u6784\u9020\u6587\u672C</span></span>
<span class="line"><span style="color:#A6ACCD;">message_text </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MIMEText</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">body_content</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">plain</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#676E95;"># \u5411MIMEMultipart\u5BF9\u8C61\u4E2D\u6DFB\u52A0\u6587\u672C\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#A6ACCD;">mm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">attach</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">message_text</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#676E95;"># \u4E8C\u8FDB\u5236\u8BFB\u53D6\u56FE\u7247</span></span>
<span class="line"><span style="color:#A6ACCD;">image_data </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a.jpg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rb</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#676E95;"># \u8BBE\u7F6E\u8BFB\u53D6\u83B7\u53D6\u7684\u4E8C\u8FDB\u5236\u6570\u636E</span></span>
<span class="line"><span style="color:#A6ACCD;">message_image </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MIMEImage</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">image_data</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">read</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">image_data</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">close</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#676E95;"># \u6DFB\u52A0\u56FE\u7247\u6587\u4EF6\u5230\u90AE\u4EF6\u4FE1\u606F\u5F53\u4E2D\u53BB</span></span>
<span class="line"><span style="color:#A6ACCD;">mm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">attach</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">message_image</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#676E95;"># \u6784\u9020\u9644\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">atta </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MIMEText</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sample.xlsx</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rb</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">read</span><span style="color:#89DDFF;">(),</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">base64</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#676E95;"># \u8BBE\u7F6E\u9644\u4EF6\u4FE1\u606F</span></span>
<span class="line"><span style="color:#A6ACCD;">atta</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Content-Disposition</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">attachment; filename=&quot;sample.xlsx&quot;</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#676E95;"># \u6DFB\u52A0\u9644\u4EF6\u5230\u90AE\u4EF6\u4FE1\u606F\u5F53\u4E2D\u53BB</span></span>
<span class="line"><span style="color:#A6ACCD;">mm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">attach</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">atta</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#676E95;"># \u521B\u5EFASMTP\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#A6ACCD;">stp </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> smtplib</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">SMTP</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#676E95;"># \u8BBE\u7F6E\u53D1\u4EF6\u4EBA\u90AE\u7BB1\u7684\u57DF\u540D\u548C\u7AEF\u53E3</span></span>
<span class="line"><span style="color:#A6ACCD;">stp</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">mail_host</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">25</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#676E95;"># \u6253\u5370\u51FA\u548CSMTP\u670D\u52A1\u5668\u4EA4\u4E92\u7684\u6240\u6709\u4FE1\u606F</span></span>
<span class="line"><span style="color:#A6ACCD;">stp</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set_debuglevel</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#676E95;"># \u767B\u5F55\u90AE\u7BB1</span></span>
<span class="line"><span style="color:#A6ACCD;">stp</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">login</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">mail_sender</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> mail_license</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#676E95;"># \u53D1\u9001\u90AE\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">stp</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sendmail</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">mail_sender</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> mail_receivers</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> mm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">as_string</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u90AE\u4EF6\u53D1\u9001\u6210\u529F</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#676E95;"># \u5173\u95EDSMTP\u5BF9\u8C61</span></span>
<span class="line"><span style="color:#A6ACCD;">stp</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">quit</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> smtplib</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> email</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">mime</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">multipart </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> MIMEMultipart</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> email</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">mime</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">base </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> MIMEBase</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> email</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">mime</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">text </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> MIMEText</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> email</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">mime</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">audio </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> MIMEAudio</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> email</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">mime</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">image </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> MIMEImage</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> email</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">encoders </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> encode_base64</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Mail</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__init__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">user</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">pwd</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">host</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mail_user</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> user</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mail_pwd</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> pwd      </span><span style="color:#676E95;"># \u90AE\u7BB1\u6388\u6743\u7801</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mail_server</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> smtplib</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">SMTP</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mail_server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">connect</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">host</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">25</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mail_server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ehlo</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mail_server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">login</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mail_user</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mail_pwd</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">__del__</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mail_server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">close</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u53D1\u9001\u90AE\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">send_mail</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">recipient</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">subject</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">text</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">file_path</span><span style="color:#89DDFF;">=None):</span></span>
<span class="line"><span style="color:#A6ACCD;">        msg </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MIMEMultipart</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">        msg</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">From</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mail_user</span></span>
<span class="line"><span style="color:#A6ACCD;">        msg</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Subject</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> subject</span></span>
<span class="line"><span style="color:#A6ACCD;">        msg</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">To</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">recipient</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        msg</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">attach</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">MIMEText</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">text</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> file_path</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            msg</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">attach</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get_attachment</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">file_path</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">        self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mail_server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sendmail</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">mail_user</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> recipient</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> msg</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">as_string</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u2014\u2014\u90AE\u4EF6\u53D1\u9001\u6210\u529F\u2014\u2014</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u6DFB\u52A0\u90AE\u4EF6\u9644\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_attachment</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">file_path</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        file_name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> file_path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)[-</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">        attachment </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MIMEText</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">file_path</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rb</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">read</span><span style="color:#89DDFF;">(),</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">base64</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># attachment[&quot;Content-Type&quot;] = &#39;application/octet-stream&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">        attachment</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Content-Disposition</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">attachment; filename=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> file_name</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> attachment</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> __name__ </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__main__</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    title </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u81EA\u52A8\u5316\u6D4B\u8BD5\u62A5\u544A</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    file_path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">image.jpg</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    content </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;&quot;</span><span style="color:#C3E88D;">\u4F60\u597D\uFF0C\u8FD9\u662F\u4E00\u4E2A\u6D4B\u8BD5\u90AE\u4EF6\uFF01</span><span style="color:#89DDFF;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    RECIPIENT </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">xxx@outlook.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rain@126.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    mail </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Mail</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rain@126.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">code</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">smtp.126.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    mail</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send_mail</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">RECIPIENT</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> title</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> content</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> file_path</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><h2 id="base64-base16-base32-base64-base85-\u6570\u636E\u7F16\u7801" tabindex="-1">base64\xA0--- Base16, Base32, Base64, Base85 \u6570\u636E\u7F16\u7801 <a class="header-anchor" href="#base64-base16-base32-base64-base85-\u6570\u636E\u7F16\u7801" aria-hidden="true">#</a></h2><p>\u4E00\u79CD\u752864\u4E2A\u5B57\u7B26\u6765\u8868\u793A\u4EFB\u610F\u4E8C\u8FDB\u5236\u6570\u636E\u7684\u65B9\u6CD5\u3002</p><ul><li>base64.b64encode(s, altchars=None)</li><li>\u5BF9 bytes-like object s \u8FDB\u884C Base64 \u7F16\u7801\uFF0C\u5E76\u8FD4\u56DE\u7F16\u7801\u540E\u7684 bytes</li><li>base64.b64decode(s, altchars=None, validate=False)</li><li>\u89E3\u7801 Base64 \u7F16\u7801\u8FC7\u7684 bytes-like object \u6216 ASCII \u5B57\u7B26\u4E32 s \u5E76\u8FD4\u56DE\u89E3\u7801\u8FC7\u7684 bytes</li><li>base64.standard_b64encode(s)</li><li>\u7F16\u7801 bytes-like object s\uFF0C\u4F7F\u7528\u6807\u51C6 Base64 \u5B57\u6BCD\u8868\u5E76\u8FD4\u56DE\u7F16\u7801\u8FC7\u7684 bytes</li><li>base64.standard_b64decode(s)</li><li>base64.urlsafe_b64encode(s)</li><li>\u7F16\u7801 bytes-like object s\uFF0C\u4F7F\u7528 URL \u4E0E\u6587\u4EF6\u7CFB\u7EDF\u5B89\u5168\u7684\u5B57\u6BCD\u8868\uFF0C\u4F7F\u7528 - \u4EE5\u53CA _ \u4EE3\u66FF\u6807\u51C6 Base64 \u5B57\u6BCD\u8868\u4E2D\u7684 + \u548C /\u3002\u8FD4\u56DE\u7F16\u7801\u8FC7\u7684 bytes\u3002</li><li>base64.urlsafe_b64decode(s)</li><li>base64.b32encode(s)</li><li>\u7528 Base32 \u7F16\u7801 bytes-like object s \u5E76\u8FD4\u56DE\u7F16\u7801\u8FC7\u7684 bytes</li><li>base64.b32decode(s, casefold=False, map01=None)</li><li>base64.b16encode(s)</li><li>\u7528 Base16 \u7F16\u7801 bytes-like object s \u5E76\u8FD4\u56DE\u7F16\u7801\u8FC7\u7684 bytes</li><li>base64.b16decode(s, casefold=False)\xB6</li><li>base64.a85encode(b, *, foldspaces=False, wrapcol=0, pad=False, adobe=False)</li><li>\u7528 Ascii85 \u7F16\u7801 bytes-like object s \u5E76\u8FD4\u56DE\u7F16\u7801\u8FC7\u7684 bytes</li><li>base64.a85decode(b, *, foldspaces=False, adobe=False, ignorechars=b&#39; \\t\\n\\r\\v&#39;)</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> base64</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> base64</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">b64encode</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">binary</span><span style="color:#A6ACCD;">\\x00</span><span style="color:#C3E88D;">string</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">YmluYXJ5AHN0cmluZw==</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> base64</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">b64decode</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">YmluYXJ5AHN0cmluZw==</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">binary</span><span style="color:#A6ACCD;">\\x00</span><span style="color:#C3E88D;">string</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="struct-\u5C06\u5B57\u8282\u4E32\u89E3\u8BFB\u4E3A\u6253\u5305\u7684\u4E8C\u8FDB\u5236\u6570\u636E" tabindex="-1">struct --- \u5C06\u5B57\u8282\u4E32\u89E3\u8BFB\u4E3A\u6253\u5305\u7684\u4E8C\u8FDB\u5236\u6570\u636E <a class="header-anchor" href="#struct-\u5C06\u5B57\u8282\u4E32\u89E3\u8BFB\u4E3A\u6253\u5305\u7684\u4E8C\u8FDB\u5236\u6570\u636E" aria-hidden="true">#</a></h2><ul><li>exception struct.error</li><li>\u4F1A\u5728\u591A\u79CD\u573A\u5408\u4E0B\u88AB\u5F15\u53D1\u7684\u5F02\u5E38</li><li>struct.pack(format, v1, v2, ...)</li><li>\u8FD4\u56DE\u4E00\u4E2A bytes \u5BF9\u8C61\uFF0C\u5176\u4E2D\u5305\u542B\u6839\u636E\u683C\u5F0F\u5B57\u7B26\u4E32 format \u6253\u5305\u7684\u503C v1, v2, ... \u53C2\u6570\u4E2A\u6570\u5FC5\u987B\u4E0E\u683C\u5F0F\u5B57\u7B26\u4E32\u6240\u8981\u6C42\u7684\u503C\u5339\u914D</li><li>struct.unpack(format, buffer)</li><li>\u6839\u636E\u683C\u5F0F\u5B57\u7B26\u4E32 format \u4ECE\u7F13\u51B2\u533A buffer \u89E3\u5305\uFF08\u5047\u5B9A\u662F\u7531 pack(format, ...) \u6253\u5305\uFF09</li><li>struct.pack_into(format, buffer, offset, v1, v2, ...)</li><li>\u6839\u636E\u683C\u5F0F\u5B57\u7B26\u4E32 format \u6253\u5305 v1, v2, ... \u7B49\u503C\u5E76\u5C06\u6253\u5305\u7684\u5B57\u8282\u4E32\u5199\u5165\u53EF\u5199\u7F13\u51B2\u533A buffer \u4ECE offset \u5F00\u59CB\u7684\u4F4D\u7F6E</li><li>struct.unpack_from(format, buffer, offset=0)</li><li>struct.iter_unpack(format, buffer)</li><li>\u6839\u636E\u683C\u5F0F\u5B57\u7B26\u4E32 format \u4EE5\u8FED\u4EE3\u65B9\u5F0F\u4ECE\u7F13\u51B2\u533A buffer \u89E3\u5305</li><li>struct.calcsize(format)</li><li>\u8FD4\u56DE\u4E0E\u683C\u5F0F\u5B57\u7B26\u4E32 format \u76F8\u5BF9\u5E94\u7684\u7ED3\u6784\u7684\u5927\u5C0F</li></ul><p><strong>class struct.Struct(format)</strong> <br> \u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684 Struct \u5BF9\u8C61\uFF0C\u5B83\u4F1A\u6839\u636E\u683C\u5F0F\u5B57\u7B26\u4E32 format \u6765\u5199\u5165\u548C\u8BFB\u53D6\u4E8C\u8FDB\u5236\u6570\u636E</p><ul><li>pack(v1, v2, ...)</li><li>pack_into(buffer, offset, v1, v2, ...)</li><li>unpack(buffer)</li><li>unpack_from(buffer, offset=0)</li><li>iter_unpack(buffer)</li><li>format</li><li>size</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> struct</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> struct</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">pack</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&gt;I</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">10240099</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;">#&gt;\u8868\u793A\u5B57\u8282\u987A\u5E8F\u662Fbig-endian\uFF0C\u4E5F\u5C31\u662F\u7F51\u7EDC\u5E8F\uFF0CI\u8868\u793A4\u5B57\u8282\u65E0\u7B26\u53F7\u6574\u6570</span></span>
<span class="line"><span style="color:#C792EA;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\x00\\x9c</span><span style="color:#C3E88D;">@c</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;&gt;&gt;</span><span style="color:#A6ACCD;"> struct</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">unpack</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&gt;IH</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#C792EA;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\xf0\\xf0\\xf0\\xf0\\x80\\x80</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">4042322160</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">32896</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="hashlib-\u5B89\u5168\u54C8\u5E0C\u4E0E\u6D88\u606F\u6458\u8981" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/hashlib.html#module-hashlib" target="_blank" rel="noreferrer">hashlib</a> --- \u5B89\u5168\u54C8\u5E0C\u4E0E\u6D88\u606F\u6458\u8981 <a class="header-anchor" href="#hashlib-\u5B89\u5168\u54C8\u5E0C\u4E0E\u6D88\u606F\u6458\u8981" aria-hidden="true">#</a></h2><ul><li>hashlib.algorithms_available</li><li>hash.digest_size \u4EE5\u5B57\u8282\u8868\u793A\u7684\u7ED3\u679C\u54C8\u5E0C\u5BF9\u8C61\u7684\u5927\u5C0F\u3002</li><li>hash.block_size \u4EE5\u5B57\u8282\u8868\u793A\u7684\u54C8\u5E0C\u7B97\u6CD5\u7684\u5185\u90E8\u5757\u5927\u5C0F\u3002</li><li>hash.update(data)\uFF1A\u7528 bytes-like object \u6765\u66F4\u65B0\u54C8\u5E0C\u5BF9\u8C61</li><li>hash.digest()\uFF1A\u8FD4\u56DE\u5F53\u524D\u5DF2\u4F20\u7ED9 update() \u65B9\u6CD5\u7684\u6570\u636E\u6458\u8981</li><li>hash.hexdigest() \u6458\u8981\u4F1A\u4EE5\u4E24\u500D\u957F\u5EA6\u5B57\u7B26\u4E32\u5BF9\u8C61\u7684\u5F62\u5F0F\u8FD4\u56DE\uFF0C\u5176\u4E2D\u4EC5\u5305\u542B\u5341\u516D\u8FDB\u5236\u6570\u7801\u3002</li><li>hash.copy() \u8FD4\u56DE\u54C8\u5E0C\u5BF9\u8C61\u7684\u526F\u672C</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> hashlib</span></span>
<span class="line"><span style="color:#A6ACCD;">md5 = hashlib.md5()</span></span>
<span class="line"><span style="color:#A6ACCD;">md5.update(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">how to use md5 in python hashlib?</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">.encode(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">print(md5.hexdigest())</span></span>
<span class="line"><span style="color:#A6ACCD;">d26a53750bc40b38b65a520292f69306</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Hmac\u7B97\u6CD5\uFF1AKeyed-Hashing for Message Authentication\u3002\u5B83\u901A\u8FC7\u4E00\u4E2A\u6807\u51C6\u7B97\u6CD5\uFF0C\u5728\u8BA1\u7B97\u54C8\u5E0C\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u628Akey\u6DF7\u5165\u8BA1\u7B97\u8FC7\u7A0B\u4E2D\u3002</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> hmac</span></span>
<span class="line"><span style="color:#A6ACCD;">message = b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Hello, world!</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">key = b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">secret</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">h = hmac.new(key</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> message</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> digestmod=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">MD5</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">h.hexdigest()	# </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fa4ee7d173f2d97ee79022d1a7355bcf</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="secrets-\u751F\u6210\u7BA1\u7406\u5BC6\u7801\u7684\u5B89\u5168\u968F\u673A\u6570" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/secrets.html" target="_blank" rel="noreferrer">secrets--- \u751F\u6210\u7BA1\u7406\u5BC6\u7801\u7684\u5B89\u5168\u968F\u673A\u6570</a> <a class="header-anchor" href="#secrets-\u751F\u6210\u7BA1\u7406\u5BC6\u7801\u7684\u5B89\u5168\u968F\u673A\u6570" aria-hidden="true">#</a></h2><p>_class _secrets.<strong>SystemRandom</strong> <br> \u7528\u64CD\u4F5C\u7CFB\u7EDF\u63D0\u4F9B\u7684\u6700\u9AD8\u8D28\u91CF\u6E90\u751F\u6210\u968F\u673A\u6570\u7684\u7C7B\u3002\u8BE6\u89C1 <a href="https://docs.python.org/zh-cn/3/library/random.html#random.SystemRandom" target="_blank" rel="noreferrer">random.SystemRandom</a>\u3002 <br> secrets.<strong>choice</strong>(<em>sequence</em>) <br> \u8FD4\u56DE\u4ECE\u975E\u7A7A\u5E8F\u5217\u4E2D\u968F\u673A\u9009\u53D6\u7684\u5143\u7D20\u3002 <br> secrets.<strong>randbelow</strong>(<em>n</em>) <br> \u8FD4\u56DE [0, <em>n</em>) \u8303\u56F4\u5185\u7684\u968F\u673A\u6574\u6570\u3002 <br> secrets.<strong>randbits</strong>(<em>k</em>) <br> \u8FD4\u56DE <em>k</em> \u4E2A\u968F\u673A\u6BD4\u7279\u4F4D\u7684\u6574\u6570\u3002</p><p>secrets.<strong>token_bytes</strong>([<em>nbytes=None</em>]) <br> \u8FD4\u56DE\u542B <em>nbytes</em> \u4E2A\u5B57\u8282\u7684\u968F\u673A\u5B57\u8282\u5B57\u7B26\u4E32 <br> secrets.<strong>token_hex</strong>([<em>nbytes=None</em>]) <br> \u8FD4\u56DE\u5341\u516D\u8FDB\u5236\u968F\u673A\u6587\u672C\u5B57\u7B26\u4E32\u3002 <br> secrets.<strong>token_urlsafe</strong>([<em>nbytes=None</em>]) <br> \u8FD4\u56DE\u5B89\u5168\u7684 URL \u968F\u673A\u6587\u672C\u5B57\u7B26\u4E32</p><h2 id="zipfile-\u4F7F\u7528zip\u5B58\u6863" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/zipfile.html" target="_blank" rel="noreferrer">zipfile--- \u4F7F\u7528ZIP\u5B58\u6863</a> <a class="header-anchor" href="#zipfile-\u4F7F\u7528zip\u5B58\u6863" aria-hidden="true">#</a></h2><p>_class _zipfile.<strong>ZipFile</strong>(<em>file</em>, <em>mode=&#39;r&#39;</em>, <em>compression=ZIP_STORED</em>, <em>allowZip64=True</em>, <em>compresslevel=None</em>, <em>*</em>, <em>strict_timestamps=True</em>) <br> \u6253\u5F00\u4E00\u4E2A ZIP \u6587\u4EF6\uFF0C<em>file</em> \u4E3A\u4E00\u4E2A\u6307\u5411\u6587\u4EF6\u7684\u8DEF\u5F84</p><p>ZipFile.<strong>close</strong>() \u5173\u95ED\u5F52\u6863\u6587\u4EF6\u3002 <br> ZipFile.<strong>getinfo</strong>(<em>name</em>) \u8FD4\u56DE\u4E00\u4E2A <a href="https://docs.python.org/zh-cn/3/library/zipfile.html#zipfile.ZipInfo" target="_blank" rel="noreferrer">ZipInfo</a> \u5BF9\u8C61\uFF0C\u5176\u4E2D\u5305\u542B\u6709\u5173\u5F52\u6863\u6210\u5458 <em>name</em> \u7684\u4FE1\u606F <br> ZipFile.<strong>infolist</strong>() <br> ZipFile.<strong>namelist</strong>() \u8FD4\u56DE\u6309\u540D\u79F0\u6392\u5E8F\u7684\u5F52\u6863\u6210\u5458\u5217\u8868\u3002 <br> ZipFile.<strong>open</strong>(<em>name</em>, <em>mode=&#39;r&#39;</em>, <em>pwd=None</em>, <em>*</em>, <em>force_zip64=False</em>) \u4EE5\u4E8C\u8FDB\u5236\u6587\u4EF6\u7C7B\u5BF9\u8C61\u7684\u5F62\u5F0F\u8BBF\u95EE\u4E00\u4E2A\u5F52\u6863\u6210\u5458\u3002 <br> ZipFile.<strong>extract</strong>(<em>member</em>, <em>path=None</em>, <em>pwd=None</em>) <br> \u4ECE\u5F52\u6863\u4E2D\u63D0\u53D6\u51FA\u4E00\u4E2A\u6210\u5458\u653E\u5165\u5F53\u524D\u5DE5\u4F5C\u76EE\u5F55 <br> ZipFile.<strong>extractall</strong>(<em>path=None</em>, <em>members=None</em>, <em>pwd=None</em>) <br> \u4ECE\u5F52\u6863\u4E2D\u63D0\u53D6\u51FA\u6240\u6709\u6210\u5458\u653E\u5165\u5F53\u524D\u5DE5\u4F5C\u76EE\u5F55 <br> ZipFile.<strong>printdir</strong>() <br> \u5C06\u5F52\u6863\u7684\u76EE\u5F55\u8868\u6253\u5370\u5230 sys.stdout\u3002 <br> ZipFile.<strong>setpassword</strong>(<em>pwd</em>) <br> \u8BBE\u7F6E <em>pwd</em> \u4E3A\u7528\u4E8E\u63D0\u53D6\u5DF2\u52A0\u5BC6\u6587\u4EF6\u7684\u9ED8\u8BA4\u5BC6\u7801\u3002 <br> ZipFile.<strong>read</strong>(<em>name</em>, <em>pwd=None</em>) <br> \u8FD4\u56DE\u5F52\u6863\u4E2D\u6587\u4EF6 <em>name</em> \u7684\u5B57\u8282\u6570\u636E\u3002 <br> ZipFile.<strong>testzip</strong>() <br> \u8BFB\u53D6\u5F52\u6863\u4E2D\u7684\u6240\u6709\u6587\u4EF6\u5E76\u68C0\u67E5\u5B83\u4EEC\u7684 CRC \u548C\u6587\u4EF6\u5934 <br> ZipFile.<strong>write</strong>(<em>filename</em>, <em>arcname=None</em>, <em>compress_type=None</em>, <em>compresslevel=None</em>) <br> \u5C06\u540D\u4E3A <em>filename</em> \u7684\u6587\u4EF6\u5199\u5165\u5F52\u6863\uFF0C\u7ED9\u4E88\u7684\u5F52\u6863\u540D\u4E3A <em>arcname</em> <br> ZipFile.<strong>writestr</strong>(<em>zinfo_or_arcname</em>, <em>data</em>, <em>compress_type=None</em>, <em>compresslevel=None</em>)<a href="https://docs.python.org/zh-cn/3/library/zipfile.html#zipfile.ZipFile.writestr" target="_blank" rel="noreferrer">\xB6</a> <br> \u5C06\u4E00\u4E2A\u6587\u4EF6\u5199\u5165\u5F52\u6863</p><p>_class _zipfile.<strong>Path</strong>(<em>root</em>, <em>at=&#39;&#39;</em>)</p><ul><li>Path.**name **\u6700\u7EC8\u7684\u8DEF\u5F84\u7EC4\u6210\u90E8\u5206\u3002</li><li>Path.<strong>open</strong>(<em>mode=&#39;r&#39;</em>, <em>*</em>, <em>pwd</em>, <em>**</em>) \u5728\u5F53\u524D\u8DEF\u5F84\u4E0A\u53D1\u8D77\u8C03\u7528 <a href="https://docs.python.org/zh-cn/3/library/zipfile.html#zipfile.ZipFile.open" target="_blank" rel="noreferrer">ZipFile.open()</a>\u3002</li><li>Path.<strong>iterdir</strong>() \u679A\u4E3E\u5F53\u524D\u76EE\u5F55\u7684\u5B50\u76EE\u5F55\u3002</li><li>Path.<strong>is_dir</strong>() \u5982\u679C\u5F53\u524D\u4E0A\u4E0B\u6587\u5F15\u7528\u4E86\u4E00\u4E2A\u76EE\u5F55\u5219\u8FD4\u56DE True\u3002</li><li>Path.<strong>is_file</strong>() \u5982\u679C\u5F53\u524D\u4E0A\u4E0B\u6587\u5F15\u7528\u4E86\u4E00\u4E2A\u6587\u4EF6\u5219\u8FD4\u56DE True\u3002</li><li>Path.<strong>exists</strong>() \u5982\u679C\u5F53\u524D\u4E0A\u4E0B\u6587\u5F15\u7528\u4E86 zip \u6587\u4EF6\u5185\u7684\u4E00\u4E2A\u6587\u4EF6\u6216\u76EE\u5F55\u5219\u8FD4\u56DE True\u3002</li><li>Path.<strong>read_text</strong>(<em>*</em>, <em>**</em>) \u8BFB\u53D6\u5F53\u524D\u6587\u4EF6\u4E3A unicode \u6587\u672C</li><li>Path.<strong>read_bytes</strong>() \u8BFB\u53D6\u5F53\u524D\u6587\u4EF6\u4E3A\u5B57\u8282\u4E32\u3002</li><li>Path.<strong>joinpath</strong>(<em>*other</em>) \u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684 Path \u5BF9\u8C61\uFF0C\u5176\u4E2D\u5408\u5E76\u4E86\u6BCF\u4E2A <em>other</em> \u53C2\u6570</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> psutil</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> zipfile</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> os</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Zip</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;"># \u9650\u5236\u89E3\u538B\u540E\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC71M\uFF0C\u6587\u4EF6\u4E2A\u6570\u4E0D\u80FD\u8D85\u8FC710</span></span>
<span class="line"><span style="color:#A6ACCD;">    MAX_SIZE </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">*</span><span style="color:#F78C6C;">1024</span><span style="color:#89DDFF;">*</span><span style="color:#F78C6C;">1024</span></span>
<span class="line"><span style="color:#A6ACCD;">    MAX_FILE_CNT </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#FFCB6B;">staticmethod</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">unzip</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">zip_file</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">        file_path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">os</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">sep</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">zip_file</span></span>
<span class="line"><span style="color:#A6ACCD;">        dest_dir </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> path</span></span>
<span class="line"><span style="color:#A6ACCD;">        src_file </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> zipfile</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ZipFile</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">file_path</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># 1 \u68C0\u67E5\u6587\u4EF6\u4E2A\u6570</span></span>
<span class="line"><span style="color:#A6ACCD;">        file_count </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">len</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">src_file</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">infolist</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> file_count </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#A6ACCD;"> Zip</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">MAX_FILE_CNT</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">raise</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">IOError</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">                </span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;zipfile(</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">zip_file</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">) contains </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">file_count</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;"> files exceed max file count&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># 2 \u68C0\u67E5\u7B2C\u4E00\u5C42\u89E3\u538B\u6587\u4EF6\u603B\u5927\u5C0F</span></span>
<span class="line"><span style="color:#A6ACCD;">        total_size </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">sum</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">file_size</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">for</span><span style="color:#82AAFF;"> info </span><span style="color:#89DDFF;">in</span><span style="color:#82AAFF;"> src_file</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">infolist</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> total_size </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#A6ACCD;"> Zip</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">MAX_SIZE</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">raise</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">IOError</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">                </span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;zipfile(</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">zip_file</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">) size </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">total_size</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;"> exceed max limit&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># 3 \u68C0\u67E5\u78C1\u76D8\u5269\u4F59\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#A6ACCD;">        dest_dir_partition </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># \u89E3\u538B\u76EE\u5F55\u6240\u5728\u5206\u533A</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> total_size </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#A6ACCD;"> psutil</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">disk_usage</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">dest_dir_partition</span><span style="color:#89DDFF;">).</span><span style="color:#F07178;">free</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">raise</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">IOError</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#82AAFF;">                </span><span style="color:#C792EA;">f</span><span style="color:#C3E88D;">&#39;zipfile(</span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">zip_file</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;">) size </span><span style="color:#F78C6C;">{</span><span style="color:#82AAFF;">total_size</span><span style="color:#F78C6C;">}</span><span style="color:#C3E88D;"> exceed remain target disk space&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;"># \u68C0\u67E5\u901A\u8FC7\uFF0C\u89E3\u538B\u6240\u6709\u6587\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">        src_file</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">extractall</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">dest_dir</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="socket-\u5E95\u5C42\u7F51\u7EDC\u63A5\u53E3" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/socket.html#module-socket" target="_blank" rel="noreferrer">socket</a> --- \u5E95\u5C42\u7F51\u7EDC\u63A5\u53E3 <a class="header-anchor" href="#socket-\u5E95\u5C42\u7F51\u7EDC\u63A5\u53E3" aria-hidden="true">#</a></h2><p>socket.socket(family=AF_INET, type=SOCK_STREAM, proto=0, fileno=None) <br> \u4F7F\u7528\u7ED9\u5B9A\u7684\u5730\u5740\u65CF\u3001\u5957\u63A5\u5B57\u7C7B\u578B\u548C\u534F\u8BAE\u53F7\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u5957\u63A5\u5B57\u3002 <br> \u5730\u5740\uFF08\u548C\u534F\u8BAE\uFF09\u7C07</p><ul><li>socket.AF_UNIX</li><li>socket.AF_INET</li><li>socket.AF_INET6</li></ul><p>\u5957\u63A5\u5B57\u7C7B\u578B</p><ul><li>socket.SOCK_STREAM</li><li>socket.SOCK_DGRAM</li><li>socket.SOCK_RAW</li><li>socket.SOCK_RDM</li><li>socket.SOCK_SEQPACKET</li></ul><p><strong>TCP</strong> <br> server</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> socket</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">time</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">threading</span></span>
<span class="line"><span style="color:#A6ACCD;">def tcplink(sock</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> addr):</span></span>
<span class="line"><span style="color:#A6ACCD;">    print(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Accept new connection from %s:%s...</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> % addr)</span></span>
<span class="line"><span style="color:#A6ACCD;">    sock.send(b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Welcome!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    while True:</span></span>
<span class="line"><span style="color:#A6ACCD;">        data = sock.recv(1024).decode(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        time.sleep(1)</span></span>
<span class="line"><span style="color:#A6ACCD;">        if not data or data == </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">exit</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            break</span></span>
<span class="line"><span style="color:#A6ACCD;">        print(f</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{addr[0]}:{addr[1]} &gt; {data}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        sock.send(input().encode(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    sock.close()</span></span>
<span class="line"><span style="color:#A6ACCD;">    print(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Connection from %s:%s closed.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> % addr)</span></span>
<span class="line"><span style="color:#A6ACCD;">s = socket.socket(socket.AF_INET</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> socket.SOCK_STREAM)  # \u7C7B\u578B\uFF0C\u7C7B\u578B\u534F\u8BAE</span></span>
<span class="line"><span style="color:#A6ACCD;"># \u76D1\u542C\u7AEF\u53E3:</span></span>
<span class="line"><span style="color:#A6ACCD;">s.bind((</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">127.0.0.1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> 9999))</span></span>
<span class="line"><span style="color:#A6ACCD;"># \u5141\u8BB8\u8FDE\u63A5\u6570</span></span>
<span class="line"><span style="color:#A6ACCD;">s.listen(5)</span></span>
<span class="line"><span style="color:#A6ACCD;">print(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Waiting for connection...</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">while True:</span></span>
<span class="line"><span style="color:#A6ACCD;">    # \u63A5\u53D7\u4E00\u4E2A\u65B0\u8FDE\u63A5:</span></span>
<span class="line"><span style="color:#A6ACCD;">    sock</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> addr = s.accept()</span></span>
<span class="line"><span style="color:#A6ACCD;">    # \u521B\u5EFA\u65B0\u7EBF\u7A0B\u6765\u5904\u7406TCP\u8FDE\u63A5:</span></span>
<span class="line"><span style="color:#A6ACCD;">    t = threading.Thread(target=tcplink</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> args=(sock</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> addr))</span></span>
<span class="line"><span style="color:#A6ACCD;">    t.start()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>client</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> socket</span></span>
<span class="line"><span style="color:#A6ACCD;">client = socket.socket(socket.AF_INET</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> socket.SOCK_STREAM)</span></span>
<span class="line"><span style="color:#A6ACCD;"># \u5EFA\u7ACB\u8FDE\u63A5:</span></span>
<span class="line"><span style="color:#A6ACCD;">client.connect((</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">127.0.0.1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> 9999))</span></span>
<span class="line"><span style="color:#A6ACCD;">while True:</span></span>
<span class="line"><span style="color:#A6ACCD;">    # \u63A5\u6536\u6D88\u606F:</span></span>
<span class="line"><span style="color:#A6ACCD;">    print(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">server &gt; </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">+client.recv(1024).decode(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">    # \u53D1\u9001\u6570\u636E:</span></span>
<span class="line"><span style="color:#A6ACCD;">    data = input()</span></span>
<span class="line"><span style="color:#A6ACCD;">    if not data or data == </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">exit</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        client.close()</span></span>
<span class="line"><span style="color:#A6ACCD;">    client.send(data.encode(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>UDP</strong> <br> server</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> socket</span></span>
<span class="line"><span style="color:#A6ACCD;">s = socket.socket(socket.AF_INET</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> socket.SOCK_DGRAM)</span></span>
<span class="line"><span style="color:#A6ACCD;"># \u76D1\u542C\u7AEF\u53E3:</span></span>
<span class="line"><span style="color:#A6ACCD;">s.bind((</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">127.0.0.1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> 9999))</span></span>
<span class="line"><span style="color:#A6ACCD;">print(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Bind UDP on 9999...</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">while True:</span></span>
<span class="line"><span style="color:#A6ACCD;">    # \u63A5\u6536\u6570\u636E:</span></span>
<span class="line"><span style="color:#A6ACCD;">    data</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> addr = s.recvfrom(1024)</span></span>
<span class="line"><span style="color:#A6ACCD;">    print(f</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{addr[0]}:{addr[1]} &gt; {data}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    # \u53D1\u9001\u6570\u636E:</span></span>
<span class="line"><span style="color:#A6ACCD;">    s.sendto(input().encode()</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> addr)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>client</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> socket</span></span>
<span class="line"><span style="color:#A6ACCD;">client = socket.socket(socket.AF_INET</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> socket.SOCK_DGRAM)</span></span>
<span class="line"><span style="color:#A6ACCD;">print(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Please input...</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">while True:</span></span>
<span class="line"><span style="color:#A6ACCD;">    # \u53D1\u9001\u6570\u636E:</span></span>
<span class="line"><span style="color:#A6ACCD;">    data = input()</span></span>
<span class="line"><span style="color:#A6ACCD;">    if not data or data == </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">exit</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        client.close()</span></span>
<span class="line"><span style="color:#A6ACCD;">    client.sendto(data.encode()</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">127.0.0.1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> 9999))</span></span>
<span class="line"><span style="color:#A6ACCD;">    # \u63A5\u6536\u6D88\u606F:</span></span>
<span class="line"><span style="color:#A6ACCD;">    print(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">server &gt; </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> + client.recv(1024).decode(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="winreg-\u2014-windows-registry-access" tabindex="-1"><a href="https://docs.python.org/3/library/winreg.html#module-winreg" target="_blank" rel="noreferrer">winreg</a> \u2014 Windows registry access <a class="header-anchor" href="#winreg-\u2014-windows-registry-access" aria-hidden="true">#</a></h2><p>Function</p><ul><li>winreg.CloseKey(hkey)</li><li>winreg.ConnectRegistry(computer_name, key) \u5EFA\u7ACB\u5230\u53E6\u4E00\u53F0\u8BA1\u7B97\u4E0A\u4E0A\u7684\u9884\u5B9A\u4E49\u6CE8\u518C\u8868\u53E5\u67C4\u7684\u8FDE\u63A5\uFF0C\u8FD4\u56DE\u4E00\u4E2A handle \u5BF9\u8C61.</li><li>winreg.CreateKey(key, sub_key) \u521B\u5EFA\u6216\u6253\u5F00\u7279\u5B9A\u7684\u952E\uFF0C\u8FD4\u56DE\u4E00\u4E2A handle \u5BF9\u8C61\u3002</li><li>winreg.CreateKeyEx(key, sub_key, reserved=0, access=KEY_WRITE) \u521B\u5EFA\u6216\u6253\u5F00\u7279\u5B9A\u7684\u952E</li><li>winreg.DeleteKey(key, sub_key) \u5220\u9664\u6307\u5B9A\u7684\u952E</li><li>winreg.DeleteKeyEx(key, sub_key, access=KEY_WOW64_64KEY, reserved=0) \u5220\u9664\u6307\u5B9A\u7684\u952E\u3002</li><li>winreg.DeleteValue(key, value) \u4ECE\u67D0\u4E2A\u6CE8\u518C\u952E\u4E2D\u5220\u9664\u4E00\u4E2A\u547D\u540D\u503C\u9879\u3002</li><li>winreg.EnumKey(key, index) \u5217\u4E3E\u67D0\u4E2A\u5DF2\u7ECF\u6253\u5F00\u6CE8\u518C\u8868\u952E\u7684\u5B50\u9879\uFF0C\u5E76\u8FD4\u56DE\u4E00\u4E2A\u5B57\u7B26\u4E32\u3002</li><li>winreg.EnumValue(key, index) \u5217\u4E3E\u67D0\u4E2A\u5DF2\u7ECF\u6253\u5F00\u6CE8\u518C\u8868\u952E\u7684\u503C\u9879\uFF0C\u5E76\u8FD4\u56DE\u4E00\u4E2A\u5143\u7EC4\u3002</li><li>winreg.ExpandEnvironmentStrings(str)</li><li>winreg.FlushKey(key) \u5C06\u67D0\u4E2A\u952E\u7684\u6240\u6709\u5C5E\u6027\u5199\u5165\u6CE8\u518C\u8868\u3002</li><li>winreg.LoadKey(key, sub_key, file_name) Creates a subkey under the specified key and stores registration information from a specified file into that subkey.</li><li>winreg.OpenKey(key, sub_key, reserved=0, access=KEY_READ)</li><li>winreg.OpenKeyEx(key, sub_key, reserved=0, access=KEY_READ)</li><li>winreg.QueryInfoKey(key) Returns information about a key, as a tuple.</li><li>winreg.QueryValue(key, sub_key) Retrieves the unnamed value for a key, as a string.</li><li>winreg.QueryValueEx(key, value_name)</li><li>winreg.SaveKey(key, file_name) Saves the specified key, and all its subkeys to the specified file.</li><li>winreg.SetValue(key, sub_key, type, value) Associates a value with a specified key.</li><li>winreg.SetValueEx(key, value_name, reserved, type, value) Stores data in the value field of an open registry key.</li><li>winreg.QueryReflectionKey(key) Determines the reflection state for the specified key.</li></ul><p>\u8BBF\u95EE\u6743\u9650</p><ul><li>winreg.KEY_ALL_ACCESS</li><li>winreg.KEY_WRITE\uFF1A\u5408\u5E76STANDARD_RIGHTS_WRITE\uFF0CKEY_SET_VALUE\u548C\xA0KEY_CREATE_SUB_KEY\u8BBF\u95EE\u6743\u9650\u3002</li><li>winreg.KEY_READ\uFF1A\u7ED3\u5408STANDARD_RIGHTS_READ\uFF0C \uFF0CKEY_QUERY_VALUE\uFF0C\xA0KEY_ENUMERATE_SUB_KEYS\u548CKEY_NOTIFY\u503C\u3002</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> os</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> winreg </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> wr</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">BASE_PATH </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Software</span><span style="color:#A6ACCD;">\\C</span><span style="color:#C3E88D;">lasses</span><span style="color:#A6ACCD;">\\L</span><span style="color:#C3E88D;">ocal Settings\\Software</span><span style="color:#A6ACCD;">\\M</span><span style="color:#C3E88D;">icrosoft\\Windows</span><span style="color:#A6ACCD;">\\C</span><span style="color:#C3E88D;">urrentVersion\\AppContainer</span><span style="color:#A6ACCD;">\\M</span><span style="color:#C3E88D;">appings</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;"># \u83B7\u5F97\u6240\u6709\u7A0B\u5E8F\u7684 SID</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_apps</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    app_list </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> wr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">OpenKeyEx</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">wr</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">HKEY_CURRENT_USER</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> BASE_PATH</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> app</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        app_nums </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> wr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">QueryInfoKey</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">app</span><span style="color:#89DDFF;">)[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">range</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">app_nums</span><span style="color:#89DDFF;">):</span></span>
<span class="line"><span style="color:#A6ACCD;">            info </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">wr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">EnumKey</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">app</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> i</span><span style="color:#89DDFF;">)]</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> wr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">OpenKeyEx</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">app</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> info</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">])</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> key</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">                info</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">extend</span><span style="color:#89DDFF;">([</span><span style="color:#82AAFF;">wr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">EnumValue</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">key</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">)[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">],</span><span style="color:#82AAFF;"> wr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">EnumValue</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">key</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">]])</span></span>
<span class="line"><span style="color:#A6ACCD;">            app_list</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">append</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> app_list</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5F00\u542FUWP\u5E94\u7528\u4F7F\u7528\u4EE3\u7406</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">enable_all_uwp_net</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    apps </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_apps</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> app </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> apps</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        os</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">system</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">CheckNetIsolation loopbackexempt -a -p=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">+</span><span style="color:#82AAFF;"> app</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span></span>
<span class="line"><span style="color:#676E95;"># \u5173\u95EDUWP\u5E94\u7528\u4F7F\u7528\u4EE3\u7406</span></span>
<span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">disable_all_uwp_net</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">    apps </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_apps</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> app </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> apps</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        os</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">system</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">CheckNetIsolation loopbackexempt -d -p=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">+</span><span style="color:#82AAFF;"> app</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sid</span><span style="color:#A6ACCD;">\\t</span><span style="color:#C3E88D;">DisplayName</span><span style="color:#A6ACCD;">\\t</span><span style="color:#C3E88D;">Moniker</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">apps </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_apps</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> app </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> apps</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(*</span><span style="color:#82AAFF;">app</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">sep</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\t</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>\u9700\u8981\u4EE5\u7BA1\u7406\u5458\u7684</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> winreg </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> wr</span></span>
<span class="line"><span style="color:#A6ACCD;">BASE_PATH </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">SOFTWARE</span><span style="color:#A6ACCD;">\\M</span><span style="color:#C3E88D;">icrosoft\\Windows</span><span style="color:#A6ACCD;">\\C</span><span style="color:#C3E88D;">urrentVersion</span><span style="color:#A6ACCD;">\\E</span><span style="color:#C3E88D;">xplorer</span><span style="color:#A6ACCD;">\\F</span><span style="color:#C3E88D;">olderDescriptions</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#676E95;"># \u4F9D\u6B21\u662F \u56FE\u7247\u3001\u97F3\u4E50\u3001\u89C6\u9891\u3001\u6587\u6863\u3001\u4E0B\u8F7D\u3001\u684C\u9762</span></span>
<span class="line"><span style="color:#A6ACCD;">sid </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{0ddd015d-b06c-45d5-8c4c-f59713854639}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{a0c69a99-21c8-4671-8703-7934162fcf1d}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{35286a68-3c57-41a1-bbb1-0eae73d76c95}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{f42ee2d3-909f-4907-8871-4c22fc0bf756}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{7d83ee9b-2244-4e70-b1f5-5393042af1e4}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{B4BFCC3A-DB2C-424C-B029-7FE99A87C641}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> wr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">OpenKey</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">wr</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">HKEY_LOCAL_MACHINE</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> BASE_PATH</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">access</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">wr</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">KEY_ALL_ACCESS</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> fd</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> sid</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> wr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">OpenKey</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">fd</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> i </span><span style="color:#89DDFF;">+</span><span style="color:#82AAFF;"> </span><span style="color:#C792EA;">r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\P</span><span style="color:#C3E88D;">ropertyBag</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#A6ACCD;">access</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">wr</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">KEY_ALL_ACCESS</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> key</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">            wr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">SetValueEx</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">key</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ThisPCPolicy</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> wr</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">REG_SZ</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Hide</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">i</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">passed</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="ctypes-\u5916\u90E8\u51FD\u6570\u5E93" tabindex="-1"><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#module-ctypes" target="_blank" rel="noreferrer">ctypes</a> --- \u5916\u90E8\u51FD\u6570\u5E93 <a class="header-anchor" href="#ctypes-\u5916\u90E8\u51FD\u6570\u5E93" aria-hidden="true">#</a></h2><table><thead><tr><th>ctypes \u7C7B\u578B</th><th>C \u7C7B\u578B</th><th>Python \u6570\u636E\u7C7B\u578B</th></tr></thead><tbody><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_bool" target="_blank" rel="noreferrer">c_bool</a></td><td>_Bool</td><td>bool (1)</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_char" target="_blank" rel="noreferrer">c_char</a></td><td>char</td><td>\u5355\u5B57\u7B26\u5B57\u8282\u4E32\u5BF9\u8C61</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_wchar" target="_blank" rel="noreferrer">c_wchar</a></td><td>wchar_t</td><td>\u5355\u5B57\u7B26\u5B57\u7B26\u4E32</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_byte" target="_blank" rel="noreferrer">c_byte</a></td><td>char</td><td>int</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_ubyte" target="_blank" rel="noreferrer">c_ubyte</a></td><td>unsigned\xA0char</td><td>int</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_short" target="_blank" rel="noreferrer">c_short</a></td><td>short</td><td>int</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_ushort" target="_blank" rel="noreferrer">c_ushort</a></td><td>unsigned\xA0short</td><td>int</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_int" target="_blank" rel="noreferrer">c_int</a></td><td>int</td><td>int</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_uint" target="_blank" rel="noreferrer">c_uint</a></td><td>unsigned\xA0int</td><td>int</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_long" target="_blank" rel="noreferrer">c_long</a></td><td>long</td><td>int</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_ulong" target="_blank" rel="noreferrer">c_ulong</a></td><td>unsigned\xA0long</td><td>int</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_longlong" target="_blank" rel="noreferrer">c_longlong</a></td><td>__int64\xA0\u6216\xA0long\xA0long</td><td>int</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_ulonglong" target="_blank" rel="noreferrer">c_ulonglong</a></td><td>unsigned\xA0__int64\xA0\u6216\xA0unsigned\xA0long\xA0long</td><td>int</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_size_t" target="_blank" rel="noreferrer">c_size_t</a></td><td>size_t</td><td>int</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_ssize_t" target="_blank" rel="noreferrer">c_ssize_t</a></td><td>ssize_t\xA0\u6216\xA0Py_ssize_t</td><td>int</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_float" target="_blank" rel="noreferrer">c_float</a></td><td>float</td><td>float</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_double" target="_blank" rel="noreferrer">c_double</a></td><td>double</td><td>float</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_longdouble" target="_blank" rel="noreferrer">c_longdouble</a></td><td>long\xA0double</td><td>float</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_char_p" target="_blank" rel="noreferrer">c_char_p</a></td><td>char\xA0*\xA0(NUL terminated)</td><td>\u5B57\u8282\u4E32\u5BF9\u8C61\u6216\xA0None</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_wchar_p" target="_blank" rel="noreferrer">c_wchar_p</a></td><td>wchar_t\xA0*\xA0(NUL terminated)</td><td>\u5B57\u7B26\u4E32\u6216\xA0None</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3.9/library/ctypes.html#ctypes.c_void_p" target="_blank" rel="noreferrer">c_void_p</a></td><td>void\xA0*</td><td>int \u6216\xA0None</td></tr></tbody></table><p>class ctypes.CDLL(name, mode=DEFAULT_MODE, handle=None, use_errno=False, use_last_error=False, winmode=0) <br> \u6B64\u7C7B\u7684\u5B9E\u4F8B\u5373\u5DF2\u52A0\u8F7D\u7684\u52A8\u6001\u94FE\u63A5\u5E93</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">gcc \u539F\u6587\u4EF6\u540D</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">c </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">shared </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">o \u65B0\u6587\u4EF6\u540D</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">so</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">from ctypes </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;"># load the shared object file</span></span>
<span class="line"><span style="color:#A6ACCD;">adder = CDLL(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./adder.so</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">res_int = adder.add_int(4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> 5)</span></span>
<span class="line"><span style="color:#A6ACCD;">print(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Sum of 4 and 5 = </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> + str(res_int))</span></span>
<span class="line"><span style="color:#A6ACCD;">a = c_float(5.5)</span></span>
<span class="line"><span style="color:#A6ACCD;">b = c_float(4.1)</span></span>
<span class="line"><span style="color:#A6ACCD;">add_float = adder.add_float</span></span>
<span class="line"><span style="color:#A6ACCD;">add_float.restype = c_float</span></span>
<span class="line"><span style="color:#A6ACCD;">print( </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Sum of 5.5 and 4.1 = </span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> str(add_float(a</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> b)))</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>`,336),o=[e];function t(r,c,D,y,F,i){return a(),n("div",null,o)}const d=s(p,[["render",t]]);export{C as __pageData,d as default};
