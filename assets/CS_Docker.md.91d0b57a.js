import{_ as s,c as n,b as a,a as e,o as r}from"./app.81a94463.js";const l="/Notes/assets/1644501203821-ab179753-5ac2-4aa0-b9f3-172f0fbe488f.55aa79e6.png",o="/Notes/assets/1644627887995-8d50d964-255a-49cb-9572-04557e0c5f8e.a2b8075b.png",t="/Notes/assets/1644629232019-5513b7ff-b129-4592-acf4-faf31155892d.e89ee277.png",p="/Notes/assets/1644629736667-c921a681-7d55-4178-ba0d-b85bc1be4f8f.06110de6.png",c="/Notes/assets/1644630796866-d619a28c-cffc-4362-97bd-f1dc20a8b440.68a8fc59.png",g=JSON.parse('{"title":"Docker","description":"","frontmatter":{"title":"Docker","created_at":"2022-02-01T05:44:38.000Z","updated_at":"2022-10-23T15:36:51.000Z","word_count":5639},"headers":[{"level":2,"title":"\u2014\u2014 Docker  \u2014\u2014","slug":"\u2014\u2014-docker-\u2014\u2014","link":"#\u2014\u2014-docker-\u2014\u2014","children":[]},{"level":2,"title":"\u5B89\u88C5","slug":"\u5B89\u88C5","link":"#\u5B89\u88C5","children":[]},{"level":2,"title":"\u955C\u50CF\u7BA1\u7406","slug":"\u955C\u50CF\u7BA1\u7406","link":"#\u955C\u50CF\u7BA1\u7406","children":[{"level":3,"title":"\u955C\u50CF\u4ED3\u5E93\u64CD\u4F5C","slug":"\u955C\u50CF\u4ED3\u5E93\u64CD\u4F5C","link":"#\u955C\u50CF\u4ED3\u5E93\u64CD\u4F5C","children":[]}]},{"level":2,"title":"\u6570\u636E\u7BA1\u7406","slug":"\u6570\u636E\u7BA1\u7406","link":"#\u6570\u636E\u7BA1\u7406","children":[]},{"level":2,"title":"\u5BB9\u5668","slug":"\u5BB9\u5668","link":"#\u5BB9\u5668","children":[{"level":3,"title":"\u5BB9\u5668\u751F\u547D\u5468\u671F\u7BA1\u7406","slug":"\u5BB9\u5668\u751F\u547D\u5468\u671F\u7BA1\u7406","link":"#\u5BB9\u5668\u751F\u547D\u5468\u671F\u7BA1\u7406","children":[]},{"level":3,"title":"\u5BB9\u5668\u64CD\u4F5C","slug":"\u5BB9\u5668\u64CD\u4F5C","link":"#\u5BB9\u5668\u64CD\u4F5C","children":[]},{"level":3,"title":"\u5BB9\u5668\u6587\u4EF6\u7CFB\u7EDF\u64CD\u4F5C","slug":"\u5BB9\u5668\u6587\u4EF6\u7CFB\u7EDF\u64CD\u4F5C","link":"#\u5BB9\u5668\u6587\u4EF6\u7CFB\u7EDF\u64CD\u4F5C","children":[]}]},{"level":2,"title":"Docker network","slug":"docker-network","link":"#docker-network","children":[]},{"level":2,"title":"Dockerfile","slug":"dockerfile","link":"#dockerfile","children":[]},{"level":2,"title":"Compose","slug":"compose","link":"#compose","children":[]},{"level":2,"title":"Docker Machine","slug":"docker-machine","link":"#docker-machine","children":[]},{"level":2,"title":"Swarm mode","slug":"swarm-mode","link":"#swarm-mode","children":[{"level":3,"title":"Swarm","slug":"swarm","link":"#swarm","children":[]},{"level":3,"title":"Node","slug":"node","link":"#node","children":[]},{"level":3,"title":"Stack","slug":"stack","link":"#stack","children":[]},{"level":3,"title":"Secret","slug":"secret","link":"#secret","children":[]},{"level":3,"title":"Config","slug":"config","link":"#config","children":[]}]},{"level":2,"title":"docker buildx","slug":"docker-buildx","link":"#docker-buildx","children":[]},{"level":2,"title":"kubernetes","slug":"kubernetes","link":"#kubernetes","children":[]}],"relativePath":"CS/Docker.md","lastUpdated":1667222801000}'),i={name:"CS/Docker.md"},d=e('<h1 id="docker" tabindex="-1">Docker <a class="header-anchor" href="#docker" aria-hidden="true">#</a></h1><h2 id="\u2014\u2014-docker-\u2014\u2014" tabindex="-1">\u2014\u2014 <a href="https://www.docker.com/" target="_blank" rel="noreferrer">Docker</a> \u2014\u2014 <a class="header-anchor" href="#\u2014\u2014-docker-\u2014\u2014" aria-hidden="true">#</a></h2><p>\u4E00\u4E2A\u5F00\u6E90\u7684\u5E94\u7528\u5BB9\u5668\u5F15\u64CE\uFF0C\u9075\u4ECE Apache2.0 \u534F\u8BAE\u5F00\u6E90\u3002\u7531 <a href="https://golang.google.cn/" target="_blank" rel="noreferrer">Go \u8BED\u8A00</a> \u8FDB\u884C\u5F00\u53D1\u5B9E\u73B0\uFF0C\u57FA\u4E8E Linux \u5185\u6838\u7684 <a href="https://zh.wikipedia.org/wiki/Cgroups" target="_blank" rel="noreferrer">cgroup</a>\uFF0C<a href="https://en.wikipedia.org/wiki/Linux_namespaces" target="_blank" rel="noreferrer">namespace</a>\uFF0C\u4EE5\u53CA <a href="https://docs.docker.com/storage/storagedriver/overlayfs-driver/" target="_blank" rel="noreferrer">OverlayFS</a> \u7C7B\u7684 <a href="https://en.wikipedia.org/wiki/Union_mount" target="_blank" rel="noreferrer">Union FS</a> \u7B49\u6280\u672F\uFF0C\u5BF9\u8FDB\u7A0B\u8FDB\u884C\u5C01\u88C5\u9694\u79BB\uFF0C\u5C5E\u4E8E <a href="https://en.wikipedia.org/wiki/Operating-system-level_virtualization" target="_blank" rel="noreferrer">\u64CD\u4F5C\u7CFB\u7EDF\u5C42\u9762\u7684\u865A\u62DF\u5316\u6280\u672F</a>\u3002 <br> \u8BA9\u5F00\u53D1\u8005\u6253\u5305\u4ED6\u4EEC\u7684\u5E94\u7528\u4EE5\u53CA\u4F9D\u8D56\u5305\u5230\u4E00\u4E2A\u8F7B\u91CF\u7EA7\u3001\u53EF\u79FB\u690D\u7684\u5BB9\u5668\u4E2D\uFF0C\u7136\u540E\u53D1\u5E03\u5230\u4EFB\u4F55\u6D41\u884C\u7684 Linux \u673A\u5668\u4E0A\uFF0C\u4E5F\u53EF\u4EE5\u5B9E\u73B0\u865A\u62DF\u5316\u3002</p><p>\u7248\u672C</p><ul><li>CE\uFF08Community Edition\uFF0C\u793E\u533A\u7248\uFF09</li><li>EE\uFF08Enterprise Edition\uFF0C\u4F01\u4E1A\u7248\uFF09</li></ul><p>\u57FA\u672C\u6982\u5FF5</p><ul><li>\u955C\u50CF\uFF08Image\uFF09\uFF1A\u76F8\u5F53\u4E8E\u662F\u4E00\u4E2A root \u6587\u4EF6\u7CFB\u7EDF</li><li>\u5BB9\u5668\uFF08Container\uFF09\uFF1A\u955C\u50CF\uFF08Image\uFF09\u548C\u5BB9\u5668\uFF08Container\uFF09\u7684\u5173\u7CFB\uFF0C\u5C31\u50CF\u662F\u9762\u5411\u5BF9\u8C61\u7A0B\u5E8F\u8BBE\u8BA1\u4E2D\u7684\u7C7B\u548C\u5B9E\u4F8B\u4E00\u6837\uFF0C\u955C\u50CF\u662F\u9759\u6001\u7684\u5B9A\u4E49\uFF0C\u5BB9\u5668\u662F\u955C\u50CF\u8FD0\u884C\u65F6\u7684\u5B9E\u4F53\u3002\u5BB9\u5668\u53EF\u4EE5\u88AB\u521B\u5EFA\u3001\u542F\u52A8\u3001\u505C\u6B62\u3001\u5220\u9664\u3001\u6682\u505C\u7B49\u3002</li><li>\u4ED3\u5E93\uFF08Repository\uFF09\uFF1A\u955C\u50CF\u63A7\u5236\u4E2D\u5FC3 <ul><li><a href="https://hub.docker.com/" target="_blank" rel="noreferrer">Docker Hub</a></li><li><a href="https://www.aliyun.com/product/acr?source=5176.11533457&amp;userCode=8lx5zmtu" target="_blank" rel="noreferrer">\u963F\u91CC\u4E91\u52A0\u901F\u5668</a>\u3001<a href="https://www.daocloud.io/mirror#accelerator-doc" target="_blank" rel="noreferrer">DaoCloud \u52A0\u901F\u5668</a></li></ul></li></ul><p>Resource</p><ul><li><a href="https://github.com/yeasy/docker_practice" target="_blank" rel="noreferrer">docker_practice</a></li></ul><p><img src="'+l+`" alt="image.png"></p><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://docs.docker.com/engine/reference/commandline/attach/" target="_blank" rel="noreferrer">docker attach</a></td><td>Attach local standard input, output, and error streams to a running container</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/build/" target="_blank" rel="noreferrer">docker build</a></td><td>Build an image from a Dockerfile</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/builder/" target="_blank" rel="noreferrer">docker builder</a></td><td>Manage builds</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/checkpoint/" target="_blank" rel="noreferrer">docker checkpoint</a></td><td>Manage checkpoints</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/commit/" target="_blank" rel="noreferrer">docker commit</a></td><td>Create a new image from a container\u2019s changes</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/config/" target="_blank" rel="noreferrer">docker config</a></td><td>Manage Docker configs</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container/" target="_blank" rel="noreferrer">docker container</a></td><td>Manage containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/context/" target="_blank" rel="noreferrer">docker context</a></td><td>Manage contexts</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/cp/" target="_blank" rel="noreferrer">docker cp</a></td><td>Copy files/folders between a container and the local filesystem</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/create/" target="_blank" rel="noreferrer">docker create</a></td><td>Create a new container</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/diff/" target="_blank" rel="noreferrer">docker diff</a></td><td>Inspect changes to files or directories on a container\u2019s filesystem</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/events/" target="_blank" rel="noreferrer">docker events</a></td><td>Get real time events from the server</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/exec/" target="_blank" rel="noreferrer">docker exec</a></td><td>Run a command in a running container</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/export/" target="_blank" rel="noreferrer">docker export</a></td><td>Export a container\u2019s filesystem as a tar archive</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/history/" target="_blank" rel="noreferrer">docker history</a></td><td>Show the history of an image</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/image/" target="_blank" rel="noreferrer">docker image</a></td><td>Manage images</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/images/" target="_blank" rel="noreferrer">docker images</a></td><td>List images</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/import/" target="_blank" rel="noreferrer">docker import</a></td><td>Import the contents from a tarball to create a filesystem image</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/info/" target="_blank" rel="noreferrer">docker info</a></td><td>Display system-wide information</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/inspect/" target="_blank" rel="noreferrer">docker inspect</a></td><td>Return low-level information on Docker objects</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/kill/" target="_blank" rel="noreferrer">docker kill</a></td><td>Kill one or more running containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/load/" target="_blank" rel="noreferrer">docker load</a></td><td>Load an image from a tar archive or STDIN</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/login/" target="_blank" rel="noreferrer">docker login</a></td><td>Log in to a Docker registry</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/logout/" target="_blank" rel="noreferrer">docker logout</a></td><td>Log out from a Docker registry</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/logs/" target="_blank" rel="noreferrer">docker logs</a></td><td>Fetch the logs of a container</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/manifest/" target="_blank" rel="noreferrer">docker manifest</a></td><td>Manage Docker image manifests and manifest lists</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/network/" target="_blank" rel="noreferrer">docker network</a></td><td>Manage networks</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/node/" target="_blank" rel="noreferrer">docker node</a></td><td>Manage Swarm nodes</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/pause/" target="_blank" rel="noreferrer">docker pause</a></td><td>Pause all processes within one or more containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/plugin/" target="_blank" rel="noreferrer">docker plugin</a></td><td>Manage plugins</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/port/" target="_blank" rel="noreferrer">docker port</a></td><td>List port mappings or a specific mapping for the container</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/ps/" target="_blank" rel="noreferrer">docker ps</a></td><td>List containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/pull/" target="_blank" rel="noreferrer">docker pull</a></td><td>Pull an image or a repository from a registry</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/push/" target="_blank" rel="noreferrer">docker push</a></td><td>Push an image or a repository to a registry</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/rename/" target="_blank" rel="noreferrer">docker rename</a></td><td>Rename a container</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/restart/" target="_blank" rel="noreferrer">docker restart</a></td><td>Restart one or more containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/rm/" target="_blank" rel="noreferrer">docker rm</a></td><td>Remove one or more containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/rmi/" target="_blank" rel="noreferrer">docker rmi</a></td><td>Remove one or more images</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/run/" target="_blank" rel="noreferrer">docker run</a></td><td>Run a command in a new container</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/save/" target="_blank" rel="noreferrer">docker save</a></td><td>Save one or more images to a tar archive (streamed to STDOUT by default)</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/search/" target="_blank" rel="noreferrer">docker search</a></td><td>Search the Docker Hub for images</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/secret/" target="_blank" rel="noreferrer">docker secret</a></td><td>Manage Docker secrets</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/service/" target="_blank" rel="noreferrer">docker service</a></td><td>Manage services</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/stack/" target="_blank" rel="noreferrer">docker stack</a></td><td>Manage Docker stacks</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/start/" target="_blank" rel="noreferrer">docker start</a></td><td>Start one or more stopped containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/stats/" target="_blank" rel="noreferrer">docker stats</a></td><td>Display a live stream of container(s) resource usage statistics</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/stop/" target="_blank" rel="noreferrer">docker stop</a></td><td>Stop one or more running containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/swarm/" target="_blank" rel="noreferrer">docker swarm</a></td><td>Manage Swarm</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/system/" target="_blank" rel="noreferrer">docker system</a></td><td>Manage Docker</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/tag/" target="_blank" rel="noreferrer">docker tag</a></td><td>Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/top/" target="_blank" rel="noreferrer">docker top</a></td><td>Display the running processes of a container</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/trust/" target="_blank" rel="noreferrer">docker trust</a></td><td>Manage trust on Docker images</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/unpause/" target="_blank" rel="noreferrer">docker unpause</a></td><td>Unpause all processes within one or more containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/update/" target="_blank" rel="noreferrer">docker update</a></td><td>Update configuration of one or more containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/version/" target="_blank" rel="noreferrer">docker version</a></td><td>Show the Docker version information</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/volume/" target="_blank" rel="noreferrer">docker volume</a></td><td>Manage volumes</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/wait/" target="_blank" rel="noreferrer">docker wait</a></td><td>Block until one or more containers stop, then print their exit codes</td></tr></tbody></table><h2 id="\u5B89\u88C5" tabindex="-1">\u5B89\u88C5 <a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a></h2><p><a href="https://docs.docker.com/engine/install/ubuntu/" target="_blank" rel="noreferrer">Install on Ubuntu</a></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">1 Uninstall old versions</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt-get remove docker docker-engine docker.io containerd runc</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">2 Install using the repository</span></span>
<span class="line"><span style="color:#676E95;"># \u6DFB\u52A0\u4F7F\u7528 HTTPS \u4F20\u8F93\u7684\u8F6F\u4EF6\u5305\u4EE5\u53CA CA \u8BC1\u4E66</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt-get update</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo sudo apt-get install \\</span></span>
<span class="line"><span style="color:#A6ACCD;">    ca-certificates \\</span></span>
<span class="line"><span style="color:#A6ACCD;">    curl \\</span></span>
<span class="line"><span style="color:#A6ACCD;">    gnupg \\</span></span>
<span class="line"><span style="color:#A6ACCD;">    lsb-release</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#676E95;"># \u6DFB\u52A0\u8F6F\u4EF6\u6E90\u7684 GPG \u5BC6\u94A5</span></span>
<span class="line"><span style="color:#A6ACCD;">curl -fsSL https://download.docker.com/linux/ubuntu/gpg </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5411 sources.list \u4E2D\u6DFB\u52A0 Docker \u8F6F\u4EF6\u6E90</span></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">deb [arch=</span><span style="color:#89DDFF;">$(</span><span style="color:#C3E88D;">dpkg --print-architecture</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;"> signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu </span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">  </span><span style="color:#89DDFF;">$(</span><span style="color:#C3E88D;">lsb_release -cs</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;"> stable</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> sudo tee /etc/apt/sources.list.d/docker.list </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> /dev/null</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span></span>
<span class="line"><span style="color:#A6ACCD;">3 INSTALL DOCKER ENGINE</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt-get update</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt-get install docker-ce docker-ce-cli containerd.io</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt-get install docker-ce=</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">VERSION_STRING</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> docker-ce-cli=</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">VERSION_STRING</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> containerd.io</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>\u4F7F\u7528\u5B89\u88C5\u811A\u672C\u81EA\u52A8\u5B89\u88C5</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">curl -fsSL https://get.docker.com -o get-docker.sh</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo sh get-docker.sh</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5378\u8F7D</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo apt-get purge docker-ce docker-ce-cli containerd.io</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo rm -rf /var/lib/docker</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo rm -rf /var/lib/containerd</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ubuntu\u4E0Bdocker\u914D\u7F6E\u56FD\u5185\u955C\u50CF\u6E90</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">/etc/docker/daemon.json</span></span>
<span class="line"><span style="color:#A6ACCD;">\u4E2D\u56FD\u79D1\u6280\u5927\u5B66\u7684\u955C\u50CF\u6E90</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">registry-mirrors</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://docker.mirrors.ustc.edu.cn</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">163\u955C\u50CF</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">registry-mirrors</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://hub-mirror.c.163.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;"> \u79C1\u670D\u7684\u65B9\u5F0F\u62C9\u53D6\u955C\u50CF\uFF08\u6DFB\u52A0\u914D\u7F6E\uFF09</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">registry-mirrors</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://registry.docker-cn.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">insecure-registries</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ip:port</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;"> systemctl daemon-reload</span></span>
<span class="line"><span style="color:#A6ACCD;"> systemctl restart docker    \u91CD\u542F</span></span>
<span class="line"><span style="color:#A6ACCD;"> docker info    \u786E\u8BA4\u4FE1\u606F</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="\u955C\u50CF\u7BA1\u7406" tabindex="-1">\u955C\u50CF\u7BA1\u7406 <a class="header-anchor" href="#\u955C\u50CF\u7BA1\u7406" aria-hidden="true">#</a></h2><p><strong>\u865A\u60AC\u955C\u50CF(dangling image)</strong> \uFF1A\u7531\u4E8E\u65B0\u65E7\u955C\u50CF\u540C\u540D\uFF0C\u65E7\u955C\u50CF\u540D\u79F0\u88AB\u53D6\u6D88\uFF0C\u4ECE\u800C\u51FA\u73B0\u4ED3\u5E93\u540D\u3001\u6807\u7B7E\u5747\u4E3A <code>&lt;none&gt;</code>\u7684\u955C\u50CF</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">docker image ls -f dangling=true</span></span>
<span class="line"><span style="color:#A6ACCD;">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">none</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">              </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">none</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">              00285df0df87        5 days ago          342 MB</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5220\u9664</span></span>
<span class="line"><span style="color:#A6ACCD;">docker image prune</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://docs.docker.com/engine/reference/commandline/image_build/" target="_blank" rel="noreferrer">docker image build</a></td><td>Build an image from a Dockerfile</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/image_history/" target="_blank" rel="noreferrer">docker image history</a></td><td>Show the history of an image</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/image_import/" target="_blank" rel="noreferrer">docker image import</a></td><td>Import the contents from a tarball to create a filesystem image</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/image_inspect/" target="_blank" rel="noreferrer">docker image inspect</a></td><td>Display detailed information on one or more images</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/image_load/" target="_blank" rel="noreferrer">docker image load</a></td><td>Load an image from a tar archive or STDIN</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/image_ls/" target="_blank" rel="noreferrer">docker image ls</a></td><td>List images</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/image_prune/" target="_blank" rel="noreferrer">docker image prune</a></td><td>Remove unused images</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/image_pull/" target="_blank" rel="noreferrer">docker image pull</a></td><td>Pull an image or a repository from a registry</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/image_push/" target="_blank" rel="noreferrer">docker image push</a></td><td>Push an image or a repository to a registry</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/image_rm/" target="_blank" rel="noreferrer">docker image rm</a></td><td>Remove one or more images</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/image_save/" target="_blank" rel="noreferrer">docker image save</a></td><td>Save one or more images to a tar archive (streamed to STDOUT by default)</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/image_tag/" target="_blank" rel="noreferrer">docker image tag</a></td><td>Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE</td></tr></tbody></table><p><code>docker info [OPTIONS]</code></p><ul><li>--format , -f Format the output using the given Go template</li></ul><p><code>docker rmi [OPTIONS] IMAGE [IMAGE...]</code> \u5220\u9664\u955C\u50CF</p><ul><li>--force , -f Force removal of the image</li><li>--no-prune Do not delete untagged parents</li></ul><p><code>docker tag SOURCE_IMAGE[:TAG] TARGET_IMAGE[:TAG]</code> \u4FEE\u6539\u672C\u5730\u955C\u50CF\u7684\u6807\u7B7E <br> docker build [OPTIONS] PATH | URL | - Build an image from a Dockerfile</p><ul><li>-f, --file string Name of the Dockerfile (Default is &#39;PATH/Dockerfile&#39;)</li><li>-t, --tag list Name and optionally a tag in the &#39;name:tag&#39; format</li></ul><p>\u5C3E\u90E8\u8BB0\u5F97\u52A0** .** <br> docker history [OPTIONS] IMAGE</p><ul><li>--format string Pretty-print images using a Go template</li><li>-H, --human Print sizes and dates in human readable format (default true)</li><li>--no-trunc Don&#39;t truncate output</li><li>-q, --quiet Only show numeric IDs</li></ul><p>docker save IMAGE [IMAGE...] \u5C06\u5236\u5B9A\u955C\u50CF\u4FDD\u5B58\u6210tar\u6587\u4EF6 <br> docker load [OPTIONS] \u4ECEtar\u4E2D\u6062\u590D\u955C\u50CF</p><ul><li>-i, --input string Read from tar archive file, instead of STDIN</li><li>-q, --quiet Suppress the load output</li></ul><h3 id="\u955C\u50CF\u4ED3\u5E93\u64CD\u4F5C" tabindex="-1">\u955C\u50CF\u4ED3\u5E93\u64CD\u4F5C <a class="header-anchor" href="#\u955C\u50CF\u4ED3\u5E93\u64CD\u4F5C" aria-hidden="true">#</a></h3><p>docker pull [OPTIONS] NAME[:TAG|@DIGEST] \u62C9\u53D6\u955C\u50CF</p><ul><li>-a, --all-tags Download all tagged images in the repository</li><li>-q, --quiet Suppress verbose output</li></ul><p>docker push NAME[:TAG] <br> docker search [OPTIONS] TERM \u67E5\u8BE2\u955C\u50CF</p><ul><li>--filter , -f Filter output based on conditions provided</li><li>--format Pretty-print search using a Go template</li><li>--limit Max number of search results</li><li>--no-trunc Don\u2019t truncate output</li></ul><p>docker login [OPTIONS] [SERVER]</p><ul><li>-p, --password string Password</li><li>--password-stdin Take the password from stdin</li><li>-u, --username string Username</li></ul><p>docker logout [SERVER]</p><h2 id="\u6570\u636E\u7BA1\u7406" tabindex="-1">\u6570\u636E\u7BA1\u7406 <a class="header-anchor" href="#\u6570\u636E\u7BA1\u7406" aria-hidden="true">#</a></h2><ul><li>\u6570\u636E\u5377\uFF08Volumes\uFF09</li></ul><p>\u4E00\u4E2A\u53EF\u4F9B\u4E00\u4E2A\u6216\u591A\u4E2A\u5BB9\u5668\u4F7F\u7528\u7684\u7279\u6B8A\u76EE\u5F55\uFF0C\u5B83\u7ED5\u8FC7 UFS\uFF0C\u53EF\u4EE5\u63D0\u4F9B\u5F88\u591A\u6709\u7528\u7684\u7279\u6027\uFF1A</p><ul><li>\u6570\u636E\u5377 \u53EF\u4EE5\u5728\u5BB9\u5668\u4E4B\u95F4\u5171\u4EAB\u548C\u91CD\u7528</li><li>\u5BF9 \u6570\u636E\u5377 \u7684\u4FEE\u6539\u4F1A\u7ACB\u9A6C\u751F\u6548</li><li>\u5BF9 \u6570\u636E\u5377 \u7684\u66F4\u65B0\uFF0C\u4E0D\u4F1A\u5F71\u54CD\u955C\u50CF</li><li>\u6570\u636E\u5377 \u9ED8\u8BA4\u4F1A\u4E00\u76F4\u5B58\u5728\uFF0C\u5373\u4F7F\u5BB9\u5668\u88AB\u5220\u9664</li></ul><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://docs.docker.com/engine/reference/commandline/volume_create/" target="_blank" rel="noreferrer">docker volume create</a></td><td>Create a volume</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/volume_inspect/" target="_blank" rel="noreferrer">docker volume inspect</a></td><td>Display detailed information on one or more volumes</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/volume_ls/" target="_blank" rel="noreferrer">docker volume ls</a></td><td>List volumes</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/volume_prune/" target="_blank" rel="noreferrer">docker volume prune</a></td><td>Remove all unused local volumes</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/volume_rm/" target="_blank" rel="noreferrer">docker volume rm</a></td><td>Remove one or more volumes</td></tr></tbody></table><ul><li>\u6302\u8F7D\u4E3B\u673A\u76EE\u5F55 (Bind mounts)</li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">docker run -d -P \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  --name web \\</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;"># -v /src/webapp:/usr/share/nginx/html \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  --mount type=bind,source=/src/webapp,target=/usr/share/nginx/html \\</span></span>
<span class="line"><span style="color:#A6ACCD;">  nginx:alpine</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="\u5BB9\u5668" tabindex="-1">\u5BB9\u5668 <a class="header-anchor" href="#\u5BB9\u5668" aria-hidden="true">#</a></h2><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_attach/" target="_blank" rel="noreferrer">docker container attach</a></td><td>Attach local standard input, output, and error streams to a running container</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_commit/" target="_blank" rel="noreferrer">docker container commit</a></td><td>Create a new image from a container\u2019s changes</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_cp/" target="_blank" rel="noreferrer">docker container cp</a></td><td>Copy files/folders between a container and the local filesystem</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_create/" target="_blank" rel="noreferrer">docker container create</a></td><td>Create a new container</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_diff/" target="_blank" rel="noreferrer">docker container diff</a></td><td>Inspect changes to files or directories on a container\u2019s filesystem</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_exec/" target="_blank" rel="noreferrer">docker container exec</a></td><td>Run a command in a running container</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_export/" target="_blank" rel="noreferrer">docker container export</a></td><td>Export a container\u2019s filesystem as a tar archive</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_inspect/" target="_blank" rel="noreferrer">docker container inspect</a></td><td>Display detailed information on one or more containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_kill/" target="_blank" rel="noreferrer">docker container kill</a></td><td>Kill one or more running containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_logs/" target="_blank" rel="noreferrer">docker container logs</a></td><td>Fetch the logs of a container</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_ls/" target="_blank" rel="noreferrer">docker container ls</a></td><td>List containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_pause/" target="_blank" rel="noreferrer">docker container pause</a></td><td>Pause all processes within one or more containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_port/" target="_blank" rel="noreferrer">docker container port</a></td><td>List port mappings or a specific mapping for the container</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_prune/" target="_blank" rel="noreferrer">docker container prune</a></td><td>Remove all stopped containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_rename/" target="_blank" rel="noreferrer">docker container rename</a></td><td>Rename a container</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_restart/" target="_blank" rel="noreferrer">docker container restart</a></td><td>Restart one or more containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_rm/" target="_blank" rel="noreferrer">docker container rm</a></td><td>Remove one or more containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_run/" target="_blank" rel="noreferrer">docker container run</a></td><td>Run a command in a new container</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_start/" target="_blank" rel="noreferrer">docker container start</a></td><td>Start one or more stopped containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_stats/" target="_blank" rel="noreferrer">docker container stats</a></td><td>Display a live stream of container(s) resource usage statistics</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_stop/" target="_blank" rel="noreferrer">docker container stop</a></td><td>Stop one or more running containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_top/" target="_blank" rel="noreferrer">docker container top</a></td><td>Display the running processes of a container</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_unpause/" target="_blank" rel="noreferrer">docker container unpause</a></td><td>Unpause all processes within one or more containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_update/" target="_blank" rel="noreferrer">docker container update</a></td><td>Update configuration of one or more containers</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/container_wait/" target="_blank" rel="noreferrer">docker container wait</a></td><td>Block until one or more containers stop, then print their exit codes</td></tr></tbody></table><h3 id="\u5BB9\u5668\u751F\u547D\u5468\u671F\u7BA1\u7406" tabindex="-1">\u5BB9\u5668\u751F\u547D\u5468\u671F\u7BA1\u7406 <a class="header-anchor" href="#\u5BB9\u5668\u751F\u547D\u5468\u671F\u7BA1\u7406" aria-hidden="true">#</a></h3><p>docker run [OPTIONS] IMAGE[:TAG|@DIGEST] [COMMAND] [ARG...]</p><ul><li>-d, --detach Run container in background and print</li><li>-i, --interactive Keep STDIN open even if not attached</li><li>-t, --tty Allocate a pseudo-TTY</li><li>-p, --publish list Publish a container&#39;s port(s) to the host <ul><li>ip:hostPort:containerPort | ip::containerPort | hostPort:containerPort</li></ul></li><li>-P, --publish-all Publish all exposed ports to random ports</li><li>--name string Assign a name to the container</li><li>-a, --attach list Attach to STDIN, STDOUT or STDERR</li><li>-h, --hostname string Container host name</li><li>-e, --env list Set environment variables</li><li>-m, --memory bytes Memory limit</li><li>--network network Connect a container to a network</li><li>-v, --volume list Bind mount a volume</li><li>--volumes-from list Mount volumes from the specified container(s)</li></ul><p>-v \u5BB9\u5668\u5185\u8DEF\u5F84 \u533F\u540D\u6302\u8F7D <br> -v \u5377\u540D:\u5BB9\u5668\u5185\u8DEF\u5F84 \u5177\u540D\u6302\u8F7D <br> -v /\u5BBF\u4E3B\u673A\u8DEF\u5F84:\u5BB9\u5668\u5185\u8DEF\u5F84 \u6307\u5B9A\u8DEF\u5F84\u6302\u8F7D</p><p>exit\uFF1A\u5BB9\u5668\u505C\u6B62\u9000\u51FA <br> Ctrl+P+Q\uFF1A\u5BB9\u5668\u4E0D\u505C\u6B62\u9000\u51FA\u3002</p><p>docker rm [OPTIONS] CONTAINER [CONTAINER...]</p><ul><li>--force , -f Force the removal of a running container (uses SIGKILL)</li><li>--link , -l Remove the specified link</li><li>--volumes , -v Remove anonymous volumes associated with the container</li></ul><p>docker start [OPTIONS] CONTAINER [CONTAINER...] <br> docker stop [--time , -t] CONTAINER [CONTAINER...] <br> docker restart [--time , -t] CONTAINER [CONTAINER...] <br> docker kill [--signal , -s] CONTAINER [CONTAINER...] <br> docker pause CONTAINER [CONTAINER...] <br> docker unpause CONTAINER [CONTAINER...] <br> docker create [OPTIONS] IMAGE [COMMAND] [ARG...] <br> docker exec [OPTIONS] CONTAINER COMMAND [ARG...] \u8FDB\u5165\u5BB9\u5668\u540E\u5F00\u542F\u4E00\u4E2A\u65B0\u7684\u7EC8\u7AEF</p><ul><li>--detach , -d Detached mode: run command in the background</li><li>--detach-keys Override the key sequence for detaching a container</li><li>--env , -e Set environment variables</li><li>--interactive , -i Keep STDIN open even if not attached</li><li>--privileged Give extended privileges to the command</li><li>--tty , -t Allocate a pseudo-TTY</li><li>--user , -u Username or UID (format: <code>&lt;name|uid&gt;[:&lt;group|gid&gt;]</code>)</li><li>--workdir , -w Working directory inside the container</li></ul><p>docker attach [OPTIONS] CONTAINER \u8FDB\u5165\u5BB9\u5668\u6B63\u5728\u6267\u884C\u7684\u7EC8\u7AEF\uFF0C\u4E0D\u4F1A\u542F\u52A8\u65B0\u7684\u8FDB\u7A0B</p><h3 id="\u5BB9\u5668\u64CD\u4F5C" tabindex="-1">\u5BB9\u5668\u64CD\u4F5C <a class="header-anchor" href="#\u5BB9\u5668\u64CD\u4F5C" aria-hidden="true">#</a></h3><p>docker port CONTAINER [PRIVATE_PORT[/PROTO]] \u5217\u51FA\u4E00\u4E2A\u5BB9\u5668\u7684\u7AEF\u53E3\u6620\u5C04\u60C5\u51B5 <br> docker rename CONTAINER NEW_NAME <br> docker ps [OPTIONS] \u5217\u51FA\u5BB9\u5668</p><ul><li>--all , -a Show all containers (default shows just running)</li><li>--filter , -f Filter output based on conditions provided</li><li>--format Pretty-print containers using a Go template</li><li>--last , -n Show n last created containers (includes all states)</li><li>--latest , -l Show the latest created container (includes all states)</li><li>--no-trunc Don\u2019t truncate output</li><li>--quiet , -q Only display numeric IDs</li><li>--size , -s Display total file sizes</li></ul><p>docker top CONTAINER [ps OPTIONS] \u67E5\u770B\u6B63\u5728\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668\u8FDB\u7A0B\u4FE1\u606F <br> docker inspect [OPTIONS] NAME|ID [NAME|ID...] \u83B7\u53D6\u5BB9\u5668\u6216\u955C\u50CF\u7684\u5143\u6570\u636E</p><ul><li>--format , -f Format the output using the given Go template</li><li>--size , -s Display total file sizes if the type is container</li><li>--type Return JSON for specified type</li></ul><p>docker logs [OPTIONS] CONTAINER \u83B7\u53D6docker\u65E5\u5FD7</p><ul><li>--details Show extra details provided to logs</li><li>--follow , -f Follow log output</li><li>--tail all Number of lines to show from the end of the logs</li><li>--timestamps , -t Show timestamps</li><li>--since Show logs since timestamp (e.g. 2013-01-02T13:23:37) or relative (e.g. 42m for 42 minutes)</li><li>--until Show logs before a timestamp (e.g. 2013-01-02T13:23:37) or relative (e.g. 42m for 42 minutes)</li></ul><h3 id="\u5BB9\u5668\u6587\u4EF6\u7CFB\u7EDF\u64CD\u4F5C" tabindex="-1">\u5BB9\u5668\u6587\u4EF6\u7CFB\u7EDF\u64CD\u4F5C <a class="header-anchor" href="#\u5BB9\u5668\u6587\u4EF6\u7CFB\u7EDF\u64CD\u4F5C" aria-hidden="true">#</a></h3><p>docker diff CONTAINER \u68C0\u67E5\u4E00\u4E2A\u5BB9\u5668\u6587\u4EF6\u7CFB\u7EDF\u66F4\u6539\u60C5\u51B5 <br> docker cp [OPTIONS] CONTAINER:SRC_PATH DEST_PATH|- <br> docker cp [OPTIONS] SRC_PATH|- CONTAINER:DEST_PATH</p><ul><li>--archive , -a Archive mode (copy all uid/gid information)</li><li>--follow-link , -L Always follow symbol link in SRC_PATH</li></ul><p>docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]] \u63D0\u4EA4\u4E00\u4E2A\u5BB9\u5668\u7684\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u4F7F\u4E4B\u751F\u6210\u4E00\u4E2A\u65B0\u7684\u955C\u50CF</p><ul><li>--author , -a</li><li>--change , -c Apply Dockerfile instruction to the created image</li><li>--message , -m Commit message</li><li>--pause , -p true Pause container during commit</li></ul><h2 id="docker-network" tabindex="-1">Docker network <a class="header-anchor" href="#docker-network" aria-hidden="true">#</a></h2><p>\u7F51\u7EDC\u67B6\u6784\uFF1A\u5BB9\u5668\u7F51\u7EDC\u6A21\u578B\uFF08CNM\uFF09\u7684\u65B9\u6848</p><ul><li>CNM \u662F\u8BBE\u8BA1\u6807\u51C6\uFF0C\u89C4\u5B9A\u4E86 Docker \u7F51\u7EDC\u67B6\u6784\u7684\u57FA\u7840\u7EC4\u6210\u8981\u7D20\u3002</li><li>Libnetwork \u662F CNM \u7684\u5177\u4F53\u5B9E\u73B0\uFF0CLibnetwork \u901A\u8FC7 Go \u8BED\u8A00\u7F16\u5199\uFF0C\u5E76\u5B9E\u73B0\u4E86 CNM \u4E2D\u5217\u4E3E\u7684\u6838\u5FC3\u7EC4\u4EF6\u3002</li><li>\u9A71\u52A8\u901A\u8FC7\u5B9E\u73B0\u7279\u5B9A\u7F51\u7EDC\u62D3\u6251\u7684\u65B9\u5F0F\u6765\u62D3\u5C55\u8BE5\u6A21\u578B\u7684\u80FD\u529B\u3002</li></ul><p><img src="http://c.biancheng.net/uploads/allimg/190418/4-1Z41Q55GJ60.gif#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;id=pUscv&amp;originHeight=306&amp;originWidth=728&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p><p><img src="`+o+`" alt="image.png"></p><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://docs.docker.com/engine/reference/commandline/network_connect/" target="_blank" rel="noreferrer">docker network connect</a></td><td>Connect a container to a network</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/network_create/" target="_blank" rel="noreferrer">docker network create</a></td><td>Create a network</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/network_disconnect/" target="_blank" rel="noreferrer">docker network disconnect</a></td><td>Disconnect a container from a network</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/network_inspect/" target="_blank" rel="noreferrer">docker network inspect</a></td><td>Display detailed information on one or more networks</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/network_ls/" target="_blank" rel="noreferrer">docker network ls</a></td><td>List networks</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/network_prune/" target="_blank" rel="noreferrer">docker network prune</a></td><td>Remove all unused networks</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/network_rm/" target="_blank" rel="noreferrer">docker network rm</a></td><td>Remove one or more networks</td></tr></tbody></table><p>docker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 mynet <br> -d, --driver string Driver to manage the Network (default &quot;bridge&quot;) <br> --gateway strings IPv4 or IPv6 Gateway for the master subnet <br> --subnet strings Subnet in CIDR format that represents a network segment</p><h2 id="dockerfile" tabindex="-1"><a href="https://docs.docker.com/engine/reference/builder/" target="_blank" rel="noreferrer">Dockerfile</a> <a class="header-anchor" href="#dockerfile" aria-hidden="true">#</a></h2><p>\u4E00\u4E2A\u7528\u6765\u6784\u5EFA\u955C\u50CF\u7684\u6587\u672C\u6587\u4EF6\uFF0C\u6587\u672C\u5185\u5BB9\u5305\u542B\u4E86\u4E00\u6761\u6761\u6784\u5EFA\u955C\u50CF\u6240\u9700\u7684\u6307\u4EE4\u548C\u8BF4\u660E\u3002</p><p>\u6307\u4EE4\u4E0D\u533A\u5206\u5927\u5C0F\u5199</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># Comment \u6CE8\u91CA\u4FE1\u606F</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u57FA\u4E8E\u7684\u57FA\u7840\u955C\u50CF</span></span>
<span class="line"><span style="color:#A6ACCD;">FROM centos</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u914D\u7F6E\u73AF\u5883\u53D8\u91CF</span></span>
<span class="line"><span style="color:#A6ACCD;">ENV MYPATH /usr/local</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u8BBE\u7F6E\u521D\u59CB\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#A6ACCD;">WORKDIR SMYPATH</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u955C\u50CF\u7684\u64CD\u4F5C\u6307\u4EE4</span></span>
<span class="line"><span style="color:#A6ACCD;">RUN yum -y install vim</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">#\u66B4\u9732\u7AEF\u53E3</span></span>
<span class="line"><span style="color:#A6ACCD;">EXPOSE 80</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">#\u5BB9\u5668\u542F\u52A8\u65F6\u6267\u884C\u6307\u4EE4</span></span>
<span class="line"><span style="color:#A6ACCD;">CMD </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">MYPATH</span></span>
<span class="line"><span style="color:#A6ACCD;">CMD </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">---end---</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">CMD /bin/bash</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>docker build [-f dockerfile] -t \u955C\u50CF\u540D: [tag] .</p><p>\u57FA\u672C\u6307\u4EE4</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">FROM </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--platform</span><span style="color:#89DDFF;">=&lt;</span><span style="color:#A6ACCD;">platform</span><span style="color:#89DDFF;">&gt;]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">image</span><span style="color:#89DDFF;">&gt;[</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">tag</span><span style="color:#89DDFF;">&gt;]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">AS </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">&gt;]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">#	\u4E3A\u955C\u50CF\u6307\u5B9A\u5404\u79CD\u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#A6ACCD;">LABEL </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">=</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">=</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">RUN </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">command</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">RUN </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">executable</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">param1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">param2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u6307\u5B9A\u5BB9\u5668\u542F\u52A8\u9ED8\u8BA4\u8981\u8FD0\u884C\u7684\u547D\u4EE4\uFF0C\u53EF\u88AB\u66FF\u4EE3</span></span>
<span class="line"><span style="color:#A6ACCD;">CMD </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">executable</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">param1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">param2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">CMD </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">param1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">param2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">CMD </span><span style="color:#82AAFF;">command</span><span style="color:#A6ACCD;"> param1 param2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5165\u53E3\u70B9 \u6307\u5B9A\u5BB9\u5668\u542F\u52A8\u9ED8\u8BA4\u8981\u8FD0\u884C\u7684\u547D\u4EE4\uFF0C\u53EF\u88AB\u66FF\u4EE3\uFF0C\u7528\u4E8E\u8FFD\u52A0\u53C2\u6570</span></span>
<span class="line"><span style="color:#A6ACCD;">ENTRYPOINT </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">executable</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">param1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">param2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u590D\u5236\u6587\u4EF6	\u652F\u6301\u901A\u914D\u7B26</span></span>
<span class="line"><span style="color:#A6ACCD;">COPY </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--chown</span><span style="color:#89DDFF;">=&lt;</span><span style="color:#A6ACCD;">user</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">group</span><span style="color:#89DDFF;">&gt;]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">src</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">... </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">dest</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#676E95;"># \u590D\u5236\u6587\u4EF6\u4E14\u81EA\u52A8\u89E3\u538B\u7F29	\u652F\u6301\u4F7F\u7528tar\u6587\u4EF6\u548CURL\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#A6ACCD;">ADD </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--chown</span><span style="color:#89DDFF;">=&lt;</span><span style="color:#A6ACCD;">user</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">group</span><span style="color:#89DDFF;">&gt;]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">src</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">... </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">dest</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u8BBE\u7F6E\u73AF\u5883\u53D8\u91CF</span></span>
<span class="line"><span style="color:#A6ACCD;">ENV </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">1&gt;</span><span style="color:#A6ACCD;">=</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">1&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">2&gt;</span><span style="color:#A6ACCD;">=</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">2&gt;</span><span style="color:#A6ACCD;">...</span></span>
<span class="line"><span style="color:#676E95;"># \u6784\u5EFA\u53C2\u6570 \u914D\u5408-e\u53C2\u6570\u53EF\u4EE5\u5728docker run\u8FC7\u7A0B\u4E2D\u4F20\u53C2</span></span>
<span class="line"><span style="color:#A6ACCD;">ARG </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">&gt;[=&lt;</span><span style="color:#A6ACCD;">default value</span><span style="color:#89DDFF;">&gt;]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5B9A\u4E49\u533F\u540D\u5377</span></span>
<span class="line"><span style="color:#A6ACCD;">VOLUME </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/data</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u6307\u5B9A\u5BB9\u5668\u4E2D\u5F85\u66B4\u9732\u7684\u7AEF\u53E3</span></span>
<span class="line"><span style="color:#A6ACCD;">EXPOSE </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">port</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[&lt;</span><span style="color:#A6ACCD;">port</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">/</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">protocol</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">...</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u6307\u5B9A\u5DE5\u4F5C\u76EE\u5F55</span></span>
<span class="line"><span style="color:#A6ACCD;">WORKDIR /path/to/workdir</span></span>
<span class="line"><span style="color:#676E95;"># \u6307\u5B9A\u5F53\u524D\u7528\u6237</span></span>
<span class="line"><span style="color:#A6ACCD;">USER </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">user</span><span style="color:#89DDFF;">&gt;[</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">group</span><span style="color:#89DDFF;">&gt;]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5065\u5EB7\u68C0\u67E5</span></span>
<span class="line"><span style="color:#A6ACCD;">HEALTHCHECK </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">\u9009\u9879</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> CMD </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">\u547D\u4EE4</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\uFF1A\u8BBE\u7F6E\u68C0\u67E5\u5BB9\u5668\u5065\u5EB7\u72B6\u51B5\u7684\u547D\u4EE4</span></span>
<span class="line"><span style="color:#A6ACCD;">HEALTHCHECK NONE\uFF1A\u5982\u679C\u57FA\u7840\u955C\u50CF\u6709\u5065\u5EB7\u68C0\u67E5\u6307\u4EE4\uFF0C\u4F7F\u7528\u8FD9\u884C\u53EF\u4EE5\u5C4F\u853D\u6389\u5176\u5065\u5EB7\u68C0\u67E5\u6307\u4EE4</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">#	\u89E6\u53D1\u5668  \u540E\u9762\u8DDF\u7740 RUN, COPY \u7B49\u6307\u4EE4\uFF0C\u5F53\u4EE5\u5F53\u524D\u955C\u50CF\u4E3A\u57FA\u7840\u955C\u50CF\uFF0C\u53BB\u6784\u5EFA\u4E0B\u4E00\u7EA7\u955C\u50CF\u7684\u65F6\u547D\u4EE4\u88AB\u6267\u884C\u3002</span></span>
<span class="line"><span style="color:#A6ACCD;">ONBUILD </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">INSTRUCTION</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u6307\u5B9A RUN ENTRYPOINT CMD \u6307\u4EE4\u7684 shell\uFF0CLinux \u4E2D\u9ED8\u8BA4\u4E3A [&quot;/bin/sh&quot;, &quot;-c&quot;]</span></span>
<span class="line"><span style="color:#A6ACCD;">SHELL </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">executable</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">parameters</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><h2 id="compose" tabindex="-1"><a href="http://docs.docker.com/compose/" target="_blank" rel="noreferrer">Compose</a> <a class="header-anchor" href="#compose" aria-hidden="true">#</a></h2><p>\u7528\u4E8E\u5B9A\u4E49\u548C\u8FD0\u884C\u591A\u5BB9\u5668 Docker \u5E94\u7528\u7A0B\u5E8F\u7684\u5DE5\u5177\uFF0C\u8D1F\u8D23\u5B9E\u73B0\u5BF9 Docker \u5BB9\u5668\u96C6\u7FA4\u7684\u5FEB\u901F\u7F16\u6392</p><p>\u6982\u5FF5\uFF1A</p><ul><li>\u670D\u52A1 (service)\uFF1A\u4E00\u4E2A\u5E94\u7528\u7684\u5BB9\u5668\uFF0C\u5B9E\u9645\u4E0A\u53EF\u4EE5\u5305\u62EC\u82E5\u5E72\u8FD0\u884C\u76F8\u540C\u955C\u50CF\u7684\u5BB9\u5668\u5B9E\u4F8B\u3002</li><li>\u9879\u76EE (project)\uFF1A\u7531\u4E00\u7EC4\u5173\u8054\u7684\u5E94\u7528\u5BB9\u5668\u7EC4\u6210\u7684\u4E00\u4E2A\u5B8C\u6574\u4E1A\u52A1\u5355\u5143\uFF0C\u5728 docker-compose.yml \u6587\u4EF6\u4E2D\u5B9A\u4E49\u3002</li></ul><p>\u5B89\u88C5</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u4E0B\u8F7D Docker Compose</span></span>
<span class="line"><span style="color:#A6ACCD;">curl -L </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://github.com/docker/compose/releases/download/1.27.4/docker-compose-</span><span style="color:#89DDFF;">$(</span><span style="color:#C3E88D;">uname -s</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">-</span><span style="color:#89DDFF;">$(</span><span style="color:#C3E88D;">uname -m</span><span style="color:#89DDFF;">)&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">-o /usr/local/bin/docker-compose</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5C06\u53EF\u6267\u884C\u6743\u9650\u5E94\u7528\u4E8E\u4E8C\u8FDB\u5236\u6587\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo chmod +x /usr/local/bin/docker-compose</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;"># \u521B\u5EFA\u8F6F\u94FE</span></span>
<span class="line"><span style="color:#A6ACCD;">    sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compos</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#676E95;"># \u6D4B\u8BD5</span></span>
<span class="line"><span style="color:#A6ACCD;">docker-compose --version</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5378\u8F7D</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo rm /usr/local/bin/docker-compose</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>\u4E09\u6B65\uFF1A</p><ul><li>\u4F7F\u7528 Dockerfile \u5B9A\u4E49\u5E94\u7528\u7A0B\u5E8F\u7684\u73AF\u5883\u3002</li><li>\u4F7F\u7528 docker-compose.yml \u5B9A\u4E49\u6784\u6210\u5E94\u7528\u7A0B\u5E8F\u7684\u670D\u52A1\uFF0C\u8FD9\u6837\u5B83\u4EEC\u53EF\u4EE5\u5728\u9694\u79BB\u73AF\u5883\u4E2D\u4E00\u8D77\u8FD0\u884C\u3002</li><li>\u6700\u540E\uFF0C\u6267\u884C docker-compose up \u547D\u4EE4\u6765\u542F\u52A8\u5E76\u8FD0\u884C\u6574\u4E2A\u5E94\u7528\u7A0B\u5E8F\u3002</li></ul><p>Usage</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">docker-compose </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-f </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">arg</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">...</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">COMMAND</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">ARGS...</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">  docker-compose -h</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">--help</span></span>
<span class="line"><span style="color:#A6ACCD;">Options:</span></span>
<span class="line"><span style="color:#A6ACCD;">  -f, --file FILE             Specify an alternate compose file</span></span>
<span class="line"><span style="color:#A6ACCD;">                              </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">default: docker-compose.yml</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  -p, --project-name NAME     Specify an alternate project name</span></span>
<span class="line"><span style="color:#A6ACCD;">                              </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">default: directory name</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  -c, --context NAME          Specify a context name</span></span>
<span class="line"><span style="color:#A6ACCD;">  --verbose                   Show more output</span></span>
<span class="line"><span style="color:#A6ACCD;">  --log-level LEVEL           Set log level </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">DEBUG, INFO, WARNING, ERROR, CRITICAL</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  --no-ansi                   Do not print ANSI control characters</span></span>
<span class="line"><span style="color:#A6ACCD;">  -v, --version               Print version and </span><span style="color:#82AAFF;">exit</span></span>
<span class="line"><span style="color:#A6ACCD;">  -H, --host HOST             Daemon socket to connect to</span></span>
<span class="line"><span style="color:#A6ACCD;">  --tls                       Use TLS</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> implied by --tlsverify</span></span>
<span class="line"><span style="color:#A6ACCD;">  --tlscacert CA_PATH         Trust certs signed only by this CA</span></span>
<span class="line"><span style="color:#A6ACCD;">  --tlscert CLIENT_CERT_PATH  Path to TLS certificate file</span></span>
<span class="line"><span style="color:#A6ACCD;">  --tlskey TLS_KEY_PATH       Path to TLS key file</span></span>
<span class="line"><span style="color:#A6ACCD;">  --tlsverify                 Use TLS and verify the remote</span></span>
<span class="line"><span style="color:#A6ACCD;">  --skip-hostname-check       Don</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">t check the daemon</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">s hostname against the</span></span>
<span class="line"><span style="color:#A6ACCD;">                              name specified </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> the client certificate</span></span>
<span class="line"><span style="color:#A6ACCD;">  --project-directory PATH    Specify an alternate working directory</span></span>
<span class="line"><span style="color:#A6ACCD;">                              </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">default: the path of the Compose file</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  --compatibility             If set, Compose will attempt to convert keys</span></span>
<span class="line"><span style="color:#A6ACCD;">                              </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> v3 files to their non-Swarm equivalent </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">DEPRECATED</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  --env-file PATH             Specify an alternate environment file</span></span>
<span class="line"><span style="color:#A6ACCD;">Commands:</span></span>
<span class="line"><span style="color:#A6ACCD;">  build              Build or rebuild services</span></span>
<span class="line"><span style="color:#A6ACCD;">  config             Validate and view the Compose file</span></span>
<span class="line"><span style="color:#A6ACCD;">  create             Create services</span></span>
<span class="line"><span style="color:#A6ACCD;">  down               Stop and remove containers, networks, images, and volumes</span></span>
<span class="line"><span style="color:#A6ACCD;">  events             Receive real </span><span style="color:#F78C6C;">time</span><span style="color:#A6ACCD;"> events from containers</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">exec</span><span style="color:#A6ACCD;">               Execute a </span><span style="color:#82AAFF;">command</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> a running container</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">help</span><span style="color:#A6ACCD;">               Get </span><span style="color:#82AAFF;">help</span><span style="color:#A6ACCD;"> on a </span><span style="color:#82AAFF;">command</span></span>
<span class="line"><span style="color:#A6ACCD;">  images             List images</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">kill</span><span style="color:#A6ACCD;">               Kill containers</span></span>
<span class="line"><span style="color:#A6ACCD;">  logs               View output from containers</span></span>
<span class="line"><span style="color:#A6ACCD;">  pause              Pause services</span></span>
<span class="line"><span style="color:#A6ACCD;">  port               Print the public port </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> a port binding</span></span>
<span class="line"><span style="color:#A6ACCD;">  ps                 List containers</span></span>
<span class="line"><span style="color:#A6ACCD;">  pull               Pull service images</span></span>
<span class="line"><span style="color:#A6ACCD;">  push               Push service images</span></span>
<span class="line"><span style="color:#A6ACCD;">  restart            Restart services</span></span>
<span class="line"><span style="color:#A6ACCD;">  rm                 Remove stopped containers</span></span>
<span class="line"><span style="color:#A6ACCD;">  run                Run a one-off </span><span style="color:#82AAFF;">command</span></span>
<span class="line"><span style="color:#A6ACCD;">  scale              Set number of containers </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> a service</span></span>
<span class="line"><span style="color:#A6ACCD;">  start              Start services</span></span>
<span class="line"><span style="color:#A6ACCD;">  stop               Stop services</span></span>
<span class="line"><span style="color:#A6ACCD;">  top                Display the running processes</span></span>
<span class="line"><span style="color:#A6ACCD;">  unpause            Unpause services</span></span>
<span class="line"><span style="color:#A6ACCD;">  up                 Create and start containers</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><p><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/" target="_blank" rel="noreferrer">Compose file</a> <br> The Compose file is a <a href="https://yaml.org/" target="_blank" rel="noreferrer">YAML</a> file defining\xA0services,\xA0networks\xA0and\xA0volumes.</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">version: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3.9</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">services:</span></span>
<span class="line"><span style="color:#A6ACCD;">  redis:</span></span>
<span class="line"><span style="color:#A6ACCD;">    image: redis:alpine</span></span>
<span class="line"><span style="color:#A6ACCD;">    ports:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">6379</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    networks:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - frontend</span></span>
<span class="line"><span style="color:#A6ACCD;">    deploy:</span></span>
<span class="line"><span style="color:#A6ACCD;">      replicas: 2</span></span>
<span class="line"><span style="color:#A6ACCD;">      update_config:</span></span>
<span class="line"><span style="color:#A6ACCD;">        parallelism: 2</span></span>
<span class="line"><span style="color:#A6ACCD;">        delay: 10s</span></span>
<span class="line"><span style="color:#A6ACCD;">      restart_policy:</span></span>
<span class="line"><span style="color:#A6ACCD;">        condition: on-failure</span></span>
<span class="line"><span style="color:#A6ACCD;">  db:</span></span>
<span class="line"><span style="color:#A6ACCD;">    image: postgres:9.4</span></span>
<span class="line"><span style="color:#A6ACCD;">    volumes:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - db-data:/var/lib/postgresql/data</span></span>
<span class="line"><span style="color:#A6ACCD;">    networks:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - backend</span></span>
<span class="line"><span style="color:#A6ACCD;">    deploy:</span></span>
<span class="line"><span style="color:#A6ACCD;">      placement:</span></span>
<span class="line"><span style="color:#A6ACCD;">        max_replicas_per_node: 1</span></span>
<span class="line"><span style="color:#A6ACCD;">        constraints:</span></span>
<span class="line"><span style="color:#A6ACCD;">          - </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">node.role==manager</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  vote:</span></span>
<span class="line"><span style="color:#A6ACCD;">    image: dockersamples/examplevotingapp_vote:before</span></span>
<span class="line"><span style="color:#A6ACCD;">    ports:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">5000:80</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    networks:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - frontend</span></span>
<span class="line"><span style="color:#A6ACCD;">    depends_on:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - redis</span></span>
<span class="line"><span style="color:#A6ACCD;">    deploy:</span></span>
<span class="line"><span style="color:#A6ACCD;">      replicas: 2</span></span>
<span class="line"><span style="color:#A6ACCD;">      update_config:</span></span>
<span class="line"><span style="color:#A6ACCD;">        parallelism: 2</span></span>
<span class="line"><span style="color:#A6ACCD;">      restart_policy:</span></span>
<span class="line"><span style="color:#A6ACCD;">        condition: on-failure</span></span>
<span class="line"><span style="color:#A6ACCD;">  result:</span></span>
<span class="line"><span style="color:#A6ACCD;">    image: dockersamples/examplevotingapp_result:before</span></span>
<span class="line"><span style="color:#A6ACCD;">    ports:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">5001:80</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    networks:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - backend</span></span>
<span class="line"><span style="color:#A6ACCD;">    depends_on:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - db</span></span>
<span class="line"><span style="color:#A6ACCD;">    deploy:</span></span>
<span class="line"><span style="color:#A6ACCD;">      replicas: 1</span></span>
<span class="line"><span style="color:#A6ACCD;">      update_config:</span></span>
<span class="line"><span style="color:#A6ACCD;">        parallelism: 2</span></span>
<span class="line"><span style="color:#A6ACCD;">        delay: 10s</span></span>
<span class="line"><span style="color:#A6ACCD;">      restart_policy:</span></span>
<span class="line"><span style="color:#A6ACCD;">        condition: on-failure</span></span>
<span class="line"><span style="color:#A6ACCD;">  worker:</span></span>
<span class="line"><span style="color:#A6ACCD;">    image: dockersamples/examplevotingapp_worker</span></span>
<span class="line"><span style="color:#A6ACCD;">    networks:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - frontend</span></span>
<span class="line"><span style="color:#A6ACCD;">      - backend</span></span>
<span class="line"><span style="color:#A6ACCD;">    deploy:</span></span>
<span class="line"><span style="color:#A6ACCD;">      mode: replicated</span></span>
<span class="line"><span style="color:#A6ACCD;">      replicas: 1</span></span>
<span class="line"><span style="color:#A6ACCD;">      labels: </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">APP</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">VOTING</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">      restart_policy:</span></span>
<span class="line"><span style="color:#A6ACCD;">        condition: on-failure</span></span>
<span class="line"><span style="color:#A6ACCD;">        delay: 10s</span></span>
<span class="line"><span style="color:#A6ACCD;">        max_attempts: 3</span></span>
<span class="line"><span style="color:#A6ACCD;">        window: 120s</span></span>
<span class="line"><span style="color:#A6ACCD;">      placement:</span></span>
<span class="line"><span style="color:#A6ACCD;">        constraints:</span></span>
<span class="line"><span style="color:#A6ACCD;">          - </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">node.role==manager</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  visualizer:</span></span>
<span class="line"><span style="color:#A6ACCD;">    image: dockersamples/visualizer:stable</span></span>
<span class="line"><span style="color:#A6ACCD;">    ports:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8080:8080</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    stop_grace_period: 1m30s</span></span>
<span class="line"><span style="color:#A6ACCD;">    volumes:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/var/run/docker.sock:/var/run/docker.sock</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    deploy:</span></span>
<span class="line"><span style="color:#A6ACCD;">      placement:</span></span>
<span class="line"><span style="color:#A6ACCD;">        constraints:</span></span>
<span class="line"><span style="color:#A6ACCD;">          - </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">node.role==manager</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">networks:</span></span>
<span class="line"><span style="color:#A6ACCD;">  frontend:</span></span>
<span class="line"><span style="color:#A6ACCD;">  backend:</span></span>
<span class="line"><span style="color:#A6ACCD;">volumes:</span></span>
<span class="line"><span style="color:#A6ACCD;">  db-data:</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br></div></div><ul><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#build" target="_blank" rel="noreferrer">build</a><ul><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#context" target="_blank" rel="noreferrer">context</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#dockerfile" target="_blank" rel="noreferrer">dockerfile</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#args" target="_blank" rel="noreferrer">args</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#cache_from" target="_blank" rel="noreferrer">cache_from</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#labels" target="_blank" rel="noreferrer">labels</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#network" target="_blank" rel="noreferrer">network</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#shm_size" target="_blank" rel="noreferrer">shm_size</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#target" target="_blank" rel="noreferrer">target</a></li></ul></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#cap_add-cap_drop" target="_blank" rel="noreferrer">cap_add, cap_drop</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#cgroup_parent" target="_blank" rel="noreferrer">cgroup_parent</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#command" target="_blank" rel="noreferrer">command</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#configs" target="_blank" rel="noreferrer">configs</a><ul><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#short-syntax" target="_blank" rel="noreferrer">Short syntax</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#long-syntax" target="_blank" rel="noreferrer">Long syntax</a></li></ul></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#container_name" target="_blank" rel="noreferrer">container_name</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#credential_spec" target="_blank" rel="noreferrer">credential_spec</a><ul><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#example-gmsa-configuration" target="_blank" rel="noreferrer">Example gMSA configuration</a></li></ul></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#depends_on" target="_blank" rel="noreferrer">depends_on</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#deploy" target="_blank" rel="noreferrer">deploy</a><ul><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#endpoint_mode" target="_blank" rel="noreferrer">endpoint_mode</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#labels-1" target="_blank" rel="noreferrer">labels</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#mode" target="_blank" rel="noreferrer">mode</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#placement" target="_blank" rel="noreferrer">placement</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#max_replicas_per_node" target="_blank" rel="noreferrer">max_replicas_per_node</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#replicas" target="_blank" rel="noreferrer">replicas</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#resources" target="_blank" rel="noreferrer">resources</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#restart_policy" target="_blank" rel="noreferrer">restart_policy</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#rollback_config" target="_blank" rel="noreferrer">rollback_config</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#update_config" target="_blank" rel="noreferrer">update_config</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#not-supported-for-docker-stack-deploy" target="_blank" rel="noreferrer">Not supported for docker stack deploy</a></li></ul></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#devices" target="_blank" rel="noreferrer">devices</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#dns" target="_blank" rel="noreferrer">dns</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#dns_search" target="_blank" rel="noreferrer">dns_search</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#entrypoint" target="_blank" rel="noreferrer">entrypoint</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#env_file" target="_blank" rel="noreferrer">env_file</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#environment" target="_blank" rel="noreferrer">environment</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#expose" target="_blank" rel="noreferrer">expose</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#external_links" target="_blank" rel="noreferrer">external_links</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#extra_hosts" target="_blank" rel="noreferrer">extra_hosts</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#healthcheck" target="_blank" rel="noreferrer">healthcheck</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#image" target="_blank" rel="noreferrer">image</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#init" target="_blank" rel="noreferrer">init</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#isolation" target="_blank" rel="noreferrer">isolation</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#labels-2" target="_blank" rel="noreferrer">labels</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#links" target="_blank" rel="noreferrer">links</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#logging" target="_blank" rel="noreferrer">logging</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#network_mode" target="_blank" rel="noreferrer">network_mode</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#networks" target="_blank" rel="noreferrer">networks</a><ul><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#aliases" target="_blank" rel="noreferrer">aliases</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#ipv4_address-ipv6_address" target="_blank" rel="noreferrer">ipv4_address, ipv6_address</a></li></ul></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#pid" target="_blank" rel="noreferrer">pid</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#ports" target="_blank" rel="noreferrer">ports</a><ul><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#short-syntax-1" target="_blank" rel="noreferrer">Short syntax</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#long-syntax-1" target="_blank" rel="noreferrer">Long syntax</a></li></ul></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#profiles" target="_blank" rel="noreferrer">profiles</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#restart" target="_blank" rel="noreferrer">restart</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#secrets" target="_blank" rel="noreferrer">secrets</a><ul><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#short-syntax-2" target="_blank" rel="noreferrer">Short syntax</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#long-syntax-2" target="_blank" rel="noreferrer">Long syntax</a></li></ul></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#security_opt" target="_blank" rel="noreferrer">security_opt</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#stop_grace_period" target="_blank" rel="noreferrer">stop_grace_period</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#stop_signal" target="_blank" rel="noreferrer">stop_signal</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#sysctls" target="_blank" rel="noreferrer">sysctls</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#tmpfs" target="_blank" rel="noreferrer">tmpfs</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#ulimits" target="_blank" rel="noreferrer">ulimits</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#userns_mode" target="_blank" rel="noreferrer">userns_mode</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#volumes" target="_blank" rel="noreferrer">volumes</a><ul><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#short-syntax-3" target="_blank" rel="noreferrer">Short syntax</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#long-syntax-3" target="_blank" rel="noreferrer">Long syntax</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#volumes-for-services-swarms-and-stack-files" target="_blank" rel="noreferrer">Volumes for services, swarms, and stack files</a></li></ul></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#domainname-hostname-ipc-mac_address-privileged-read_only-shm_size-stdin_open-tty-user-working_dir" target="_blank" rel="noreferrer">domainname, hostname, ipc, mac_address, privileged, read_only, shm_size, stdin_open, tty, user, working_dir</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#volume-configuration-reference" target="_blank" rel="noreferrer">Volume configuration reference</a><ul><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#driver" target="_blank" rel="noreferrer">driver</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#driver_opts" target="_blank" rel="noreferrer">driver_opts</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#external" target="_blank" rel="noreferrer">external</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#labels-3" target="_blank" rel="noreferrer">labels</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#name" target="_blank" rel="noreferrer">name</a></li></ul></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#network-configuration-reference" target="_blank" rel="noreferrer">Network configuration reference</a><ul><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#driver-1" target="_blank" rel="noreferrer">driver</a><ul><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#bridge" target="_blank" rel="noreferrer">bridge</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#overlay" target="_blank" rel="noreferrer">overlay</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#host-or-none" target="_blank" rel="noreferrer">host or none</a></li></ul></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#driver_opts-1" target="_blank" rel="noreferrer">driver_opts</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#attachable" target="_blank" rel="noreferrer">attachable</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#enable_ipv6" target="_blank" rel="noreferrer">enable_ipv6</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#ipam" target="_blank" rel="noreferrer">ipam</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#internal" target="_blank" rel="noreferrer">internal</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#labels-4" target="_blank" rel="noreferrer">labels</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#external-1" target="_blank" rel="noreferrer">external</a></li><li><a href="https://docs.docker.com/compose/compose-file/compose-file-v3/#name-1" target="_blank" rel="noreferrer">name</a></li></ul></li></ul><p>Dockerfile</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">FROM python:3.7-alpine</span></span>
<span class="line"><span style="color:#A6ACCD;">WORKDIR /code</span></span>
<span class="line"><span style="color:#A6ACCD;">ENV FLASK_APP=app.py</span></span>
<span class="line"><span style="color:#A6ACCD;">ENV FLASK_RUN_HOST=0.0.0.0</span></span>
<span class="line"><span style="color:#A6ACCD;">RUN apk add --no-cache gcc musl-dev linux-headers</span></span>
<span class="line"><span style="color:#A6ACCD;">COPY requirements.txt requirements.txt</span></span>
<span class="line"><span style="color:#A6ACCD;">RUN pip install -r requirements.txt</span></span>
<span class="line"><span style="color:#A6ACCD;">EXPOSE 5000</span></span>
<span class="line"><span style="color:#A6ACCD;">COPY </span><span style="color:#82AAFF;">.</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">CMD </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">flask</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">run</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>docker-compose.yml</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># python</span></span>
<span class="line"><span style="color:#A6ACCD;">version: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3.9</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">services:</span></span>
<span class="line"><span style="color:#A6ACCD;">  web:</span></span>
<span class="line"><span style="color:#A6ACCD;">    build: </span><span style="color:#82AAFF;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">    ports:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">5000:5000</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    volumes:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - .:/code</span></span>
<span class="line"><span style="color:#A6ACCD;">    environment:</span></span>
<span class="line"><span style="color:#A6ACCD;">      FLASK_ENV: development</span></span>
<span class="line"><span style="color:#A6ACCD;">  redis:</span></span>
<span class="line"><span style="color:#A6ACCD;">    image: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">redis:alpine</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>profiles</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">version: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3.9</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">services:</span></span>
<span class="line"><span style="color:#A6ACCD;">  frontend:</span></span>
<span class="line"><span style="color:#A6ACCD;">    image: frontend</span></span>
<span class="line"><span style="color:#A6ACCD;">    profiles: </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">frontend</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">  phpmyadmin:</span></span>
<span class="line"><span style="color:#A6ACCD;">    image: phpmyadmin</span></span>
<span class="line"><span style="color:#A6ACCD;">    depends_on:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - db</span></span>
<span class="line"><span style="color:#A6ACCD;">    profiles:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - debug</span></span>
<span class="line"><span style="color:#A6ACCD;">  backend:</span></span>
<span class="line"><span style="color:#A6ACCD;">    image: backend</span></span>
<span class="line"><span style="color:#A6ACCD;">  db:</span></span>
<span class="line"><span style="color:#A6ACCD;">    image: mysql</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>\u6CA1\u6709\u914D\u7F6E\u6587\u4EF6\u5C5E\u6027\u7684\u670D\u52A1\u5C06\u59CB\u7EC8\u542F\u7528\uFF0C\u8FD0\u884C docker-compose up \u53EA\u4F1A\u542F\u52A8\u540E\u7AEF\u548C db</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">$ docker-compose --profile frontend --profile debug up</span></span>
<span class="line"><span style="color:#A6ACCD;">$ COMPOSE_PROFILES=frontend,debug docker-compose up</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="docker-machine" tabindex="-1">Docker Machine <a class="header-anchor" href="#docker-machine" aria-hidden="true">#</a></h2><p>\u4E00\u79CD\u53EF\u4EE5\u8BA9\u60A8\u5728\u865A\u62DF\u4E3B\u673A\u4E0A\u5B89\u88C5 Docker \u7684\u5DE5\u5177\uFF0C\u5E76\u53EF\u4EE5\u4F7F\u7528 docker-machine \u547D\u4EE4\u6765\u7BA1\u7406\u4E3B\u673A\u3002</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">\u5B89\u88C5\u547D\u4EE4</span></span>
<span class="line"><span style="color:#A6ACCD;">$ base=https://github.com/docker/machine/releases/download/v0.16.0 </span><span style="color:#89DDFF;">&amp;&amp;</span></span>
<span class="line"><span style="color:#A6ACCD;">  curl -L </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">base/docker-machine-</span><span style="color:#89DDFF;">$(</span><span style="color:#C3E88D;">uname -s</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">-</span><span style="color:#89DDFF;">$(</span><span style="color:#C3E88D;">uname -m</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">/tmp/docker-machine </span><span style="color:#89DDFF;">&amp;&amp;</span></span>
<span class="line"><span style="color:#A6ACCD;">  sudo mv /tmp/docker-machine /usr/local/bin/docker-machine </span><span style="color:#89DDFF;">&amp;&amp;</span></span>
<span class="line"><span style="color:#A6ACCD;">  chmod +x /usr/local/bin/docker-machine</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>config\uFF1A\u67E5\u770B\u5F53\u524D\u6FC0\u6D3B\u72B6\u6001 Docker \u4E3B\u673A\u7684\u8FDE\u63A5\u4FE1\u606F\u3002</li><li>creat\uFF1A\u521B\u5EFA Docker \u4E3B\u673A</li><li>env\uFF1A\u663E\u793A\u8FDE\u63A5\u5230\u67D0\u4E2A\u4E3B\u673A\u9700\u8981\u7684\u73AF\u5883\u53D8\u91CF</li><li>inspect\uFF1A \u4EE5 json \u683C\u5F0F\u8F93\u51FA\u6307\u5B9ADocker\u7684\u8BE6\u7EC6\u4FE1\u606F</li><li>ip\uFF1A \u83B7\u53D6\u6307\u5B9A Docker \u4E3B\u673A\u7684\u5730\u5740</li><li>kill\uFF1A \u76F4\u63A5\u6740\u6B7B\u6307\u5B9A\u7684 Docker \u4E3B\u673A</li><li>ls\uFF1A \u5217\u51FA\u6240\u6709\u7684\u7BA1\u7406\u4E3B\u673A</li><li>provision\uFF1A \u91CD\u65B0\u914D\u7F6E\u6307\u5B9A\u4E3B\u673A</li><li>regenerate-certs\uFF1A \u4E3A\u67D0\u4E2A\u4E3B\u673A\u91CD\u65B0\u751F\u6210 TLS \u4FE1\u606F</li><li>restart\uFF1A \u91CD\u542F\u6307\u5B9A\u7684\u4E3B\u673A</li><li>rm\uFF1A \u5220\u9664\u67D0\u53F0 Docker \u4E3B\u673A\uFF0C\u5BF9\u5E94\u7684\u865A\u62DF\u673A\u4E5F\u4F1A\u88AB\u5220\u9664</li><li>ssh\uFF1A \u901A\u8FC7 SSH \u8FDE\u63A5\u5230\u4E3B\u673A\u4E0A\uFF0C\u6267\u884C\u547D\u4EE4</li><li>scp\uFF1A \u5728 Docker \u4E3B\u673A\u4E4B\u95F4\u4EE5\u53CA Docker \u4E3B\u673A\u548C\u672C\u5730\u4E3B\u673A\u4E4B\u95F4\u901A\u8FC7 scp \u8FDC\u7A0B\u590D\u5236\u6570\u636E</li><li>mount\uFF1A \u4F7F\u7528 SSHFS \u4ECE\u8BA1\u7B97\u673A\u88C5\u8F7D\u6216\u5378\u8F7D\u76EE\u5F55</li><li>start\uFF1A \u542F\u52A8\u4E00\u4E2A\u6307\u5B9A\u7684 Docker \u4E3B\u673A\uFF0C\u5982\u679C\u5BF9\u8C61\u662F\u4E2A\u865A\u62DF\u673A\uFF0C\u8BE5\u865A\u62DF\u673A\u5C06\u88AB\u542F\u52A8</li><li>status\uFF1A \u83B7\u53D6\u6307\u5B9A Docker \u4E3B\u673A\u7684\u72B6\u6001(\u5305\u62EC\uFF1ARunning\u3001Paused\u3001Saved\u3001Stopped\u3001Stopping\u3001Starting\u3001Error)\u7B49</li><li>stop\uFF1A \u505C\u6B62\u4E00\u4E2A\u6307\u5B9A\u7684 Docker \u4E3B\u673A</li><li>upgrade\uFF1A \u5C06\u4E00\u4E2A\u6307\u5B9A\u4E3B\u673A\u7684 Docker \u7248\u672C\u66F4\u65B0\u4E3A\u6700\u65B0</li><li>url\uFF1A \u83B7\u53D6\u6307\u5B9A Docker \u4E3B\u673A\u7684\u76D1\u542C URL</li><li>version\uFF1A \u663E\u793A Docker Machine \u7684\u7248\u672C\u6216\u8005\u4E3B\u673A Docker \u7248\u672C</li><li>help\uFF1A \u663E\u793A\u5E2E\u52A9\u4FE1\u606F</li></ul><h2 id="swarm-mode" tabindex="-1">Swarm mode <a class="header-anchor" href="#swarm-mode" aria-hidden="true">#</a></h2><p>\u7BA1\u7406 (manager) \u8282\u70B9\uFF1A\u4E00\u4E2A Swarm \u96C6\u7FA4\u53EF\u4EE5\u6709\u591A\u4E2A\u7BA1\u7406\u8282\u70B9\uFF0C\u4F46\u53EA\u6709\u4E00\u4E2A\u7BA1\u7406\u8282\u70B9\u53EF\u4EE5\u6210\u4E3A leader <br> \u5DE5\u4F5C (worker) \u8282\u70B9\uFF1A\u4EFB\u52A1\u6267\u884C\u8282\u70B9\uFF0C\u7BA1\u7406\u8282\u70B9\u5C06\u670D\u52A1 (service) \u4E0B\u53D1\u81F3\u5DE5\u4F5C\u8282\u70B9\u6267\u884C <br> <img src="`+t+'" alt=""></p><p>\u4EFB\u52A1 \uFF08Task\uFF09\uFF1ASwarm \u4E2D\u7684\u6700\u5C0F\u7684\u8C03\u5EA6\u5355\u4F4D\uFF0C\u76EE\u524D\u6765\u8BF4\u5C31\u662F\u4E00\u4E2A\u5355\u4E00\u7684\u5BB9\u5668\u3002 <br> \u670D\u52A1 \uFF08Services\uFF09\uFF1A\u4E00\u7EC4\u4EFB\u52A1\u7684\u96C6\u5408\uFF0C\u670D\u52A1\u5B9A\u4E49\u4E86\u4EFB\u52A1\u7684\u5C5E\u6027\u3002\u6709\u4E24\u79CD\u6A21\u5F0F</p><ul><li>replicated services \u6309\u7167\u4E00\u5B9A\u89C4\u5219\u5728\u5404\u4E2A\u5DE5\u4F5C\u8282\u70B9\u4E0A\u8FD0\u884C\u6307\u5B9A\u4E2A\u6570\u7684\u4EFB\u52A1\u3002</li><li>global services \u6BCF\u4E2A\u5DE5\u4F5C\u8282\u70B9\u4E0A\u8FD0\u884C\u4E00\u4E2A\u4EFB\u52A1</li></ul><p><img src="'+p+'" alt=""></p><h3 id="swarm" tabindex="-1">Swarm <a class="header-anchor" href="#swarm" aria-hidden="true">#</a></h3><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://docs.docker.com/engine/reference/commandline/swarm_ca/" target="_blank" rel="noreferrer">docker swarm ca</a></td><td>Display and rotate the root CA</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/swarm_init/" target="_blank" rel="noreferrer">docker swarm init</a></td><td>Initialize a swarm</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/swarm_join/" target="_blank" rel="noreferrer">docker swarm join</a></td><td>Join a swarm as a node and/or manager</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/swarm_join-token/" target="_blank" rel="noreferrer">docker swarm join-token</a></td><td>Manage join tokens</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/swarm_leave/" target="_blank" rel="noreferrer">docker swarm leave</a></td><td>Leave the swarm</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/swarm_unlock/" target="_blank" rel="noreferrer">docker swarm unlock</a></td><td>Unlock swarm</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/swarm_unlock-key/" target="_blank" rel="noreferrer">docker swarm unlock-key</a></td><td>Manage the unlock key</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/swarm_update/" target="_blank" rel="noreferrer">docker swarm update</a></td><td>Update the swarm</td></tr></tbody></table><p>\u521D\u59CB\u5316\u96C6\u7FA4 <br> <code>docker swarm init --advertise-addr 192.168.99.100</code> <br> \u589E\u52A0\u5DE5\u4F5C\u8282\u70B9 <br> <code>docker swarm join \\ --token SWMTKN-1-49nj1cmql0jkz5s954yi3oex3nedyz0fb0xx14ie39trti4wxv-8vxv8rssmk743ojnwacrr2e7c \\ 192.168.99.100:2377</code></p><h3 id="node" tabindex="-1">Node <a class="header-anchor" href="#node" aria-hidden="true">#</a></h3><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://docs.docker.com/engine/reference/commandline/node_demote/" target="_blank" rel="noreferrer">docker node demote</a></td><td>Demote one or more nodes from manager in the swarm</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/node_inspect/" target="_blank" rel="noreferrer">docker node inspect</a></td><td>Display detailed information on one or more nodes</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/node_ls/" target="_blank" rel="noreferrer">docker node ls</a></td><td>List nodes in the swarm</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/node_promote/" target="_blank" rel="noreferrer">docker node promote</a></td><td>Promote one or more nodes to manager in the swarm</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/node_ps/" target="_blank" rel="noreferrer">docker node ps</a></td><td>List tasks running on one or more nodes, defaults to current node</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/node_rm/" target="_blank" rel="noreferrer">docker node rm</a></td><td>Remove one or more nodes from the swarm</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/node_update/" target="_blank" rel="noreferrer">docker node update</a></td><td>Update a node</td></tr></tbody></table><br>',123),m=e('<p>\u65B0\u5EFA\u670D\u52A1 <br> <code>docker service create --replicas 3 -p 80:80 --name nginx nginx:1.13.7-alpine</code> <br> \u670D\u52A1\u4F38\u7F29 <br> <code>docker service scale nginx=5</code> <br> \u5347\u7EA7\u670D\u52A1 <br> <code>docker service update --image nginx:1.13.12-alpine nginx</code> <br> \u670D\u52A1\u56DE\u9000 <br> <code>docker service rollback nginx</code></p><h3 id="stack" tabindex="-1">Stack <a class="header-anchor" href="#stack" aria-hidden="true">#</a></h3><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://docs.docker.com/engine/reference/commandline/stack_deploy/" target="_blank" rel="noreferrer">docker stack deploy</a></td><td>Deploy a new stack or update an existing stack</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/stack_ls/" target="_blank" rel="noreferrer">docker stack ls</a></td><td>List stacks</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/stack_ps/" target="_blank" rel="noreferrer">docker stack ps</a></td><td>List the tasks in the stack</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/stack_rm/" target="_blank" rel="noreferrer">docker stack rm</a></td><td>Remove one or more stacks</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/stack_services/" target="_blank" rel="noreferrer">docker stack services</a></td><td>List the services in the stack</td></tr></tbody></table><h3 id="secret" tabindex="-1">Secret <a class="header-anchor" href="#secret" aria-hidden="true">#</a></h3><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://docs.docker.com/engine/reference/commandline/secret_create/" target="_blank" rel="noreferrer">docker secret create</a></td><td>Create a secret from a file or STDIN as content</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/secret_inspect/" target="_blank" rel="noreferrer">docker secret inspect</a></td><td>Display detailed information on one or more secrets</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/secret_ls/" target="_blank" rel="noreferrer">docker secret ls</a></td><td>List secrets</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/secret_rm/" target="_blank" rel="noreferrer">docker secret rm</a></td><td>Remove one or more secrets</td></tr></tbody></table><h3 id="config" tabindex="-1">Config <a class="header-anchor" href="#config" aria-hidden="true">#</a></h3><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://docs.docker.com/engine/reference/commandline/config_create/" target="_blank" rel="noreferrer">docker config create</a></td><td>Create a config from a file or STDIN</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/config_inspect/" target="_blank" rel="noreferrer">docker config inspect</a></td><td>Display detailed information on one or more configs</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/config_ls/" target="_blank" rel="noreferrer">docker config ls</a></td><td>List configs</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/config_rm/" target="_blank" rel="noreferrer">docker config rm</a></td><td>Remove one or more configs</td></tr></tbody></table><h2 id="docker-buildx" tabindex="-1">docker buildx <a class="header-anchor" href="#docker-buildx" aria-hidden="true">#</a></h2><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://docs.docker.com/engine/reference/commandline/buildx_bake/" target="_blank" rel="noreferrer">docker buildx bake</a></td><td>Build from a file</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/buildx_build/" target="_blank" rel="noreferrer">docker buildx build</a></td><td>Start a build</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/buildx_create/" target="_blank" rel="noreferrer">docker buildx create</a></td><td>Create a new builder instance</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/buildx_du/" target="_blank" rel="noreferrer">docker buildx du</a></td><td>Disk usage</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/buildx_imagetools/" target="_blank" rel="noreferrer">docker buildx imagetools</a></td><td>Commands to work on images in registry</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/buildx_inspect/" target="_blank" rel="noreferrer">docker buildx inspect</a></td><td>Inspect current builder instance</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/buildx_ls/" target="_blank" rel="noreferrer">docker buildx ls</a></td><td>List builder instances</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/buildx_prune/" target="_blank" rel="noreferrer">docker buildx prune</a></td><td>Remove build cache</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/buildx_rm/" target="_blank" rel="noreferrer">docker buildx rm</a></td><td>Remove a builder instance</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/buildx_stop/" target="_blank" rel="noreferrer">docker buildx stop</a></td><td>Stop builder instance</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/buildx_use/" target="_blank" rel="noreferrer">docker buildx use</a></td><td>Set the current builder instance</td></tr><tr><td><a href="https://docs.docker.com/engine/reference/commandline/buildx_version/" target="_blank" rel="noreferrer">docker buildx version</a></td><td>Show buildx version information</td></tr></tbody></table><h2 id="kubernetes" tabindex="-1"><a href="https://github.com/kubernetes/kubernetes" target="_blank" rel="noreferrer">kubernetes</a> <a class="header-anchor" href="#kubernetes" aria-hidden="true">#</a></h2><p>Kubernetes \u662F Google \u56E2\u961F\u53D1\u8D77\u7684\u5F00\u6E90\u9879\u76EE\uFF0C\u5B83\u7684\u76EE\u6807\u662F\u7BA1\u7406\u8DE8\u591A\u4E2A\u4E3B\u673A\u7684\u5BB9\u5668\uFF0C\u63D0\u4F9B\u57FA\u672C\u7684\u90E8\u7F72\uFF0C\u7EF4\u62A4\u4EE5\u53CA\u5E94\u7528\u4F38\u7F29\uFF0C\u4E3B\u8981\u5B9E\u73B0\u8BED\u8A00\u4E3A Go \u8BED\u8A00\u3002</p><p><strong>\u57FA\u672C\u6982\u5FF5</strong> <br> <img src="'+c+'" alt="image.png"></p><ul><li>\u8282\u70B9\uFF08Node\uFF09\uFF1A\u4E00\u4E2A\u8282\u70B9\u662F\u4E00\u4E2A\u8FD0\u884C Kubernetes \u4E2D\u7684\u4E3B\u673A\u3002</li><li>\u5BB9\u5668\u7EC4\uFF08Pod\uFF09\uFF1A\u4E00\u4E2A Pod \u5BF9\u5E94\u4E8E\u7531\u82E5\u5E72\u5BB9\u5668\u7EC4\u6210\u7684\u4E00\u4E2A\u5BB9\u5668\u7EC4\uFF0C\u540C\u4E2A\u7EC4\u5185\u7684\u5BB9\u5668\u5171\u4EAB\u4E00\u4E2A\u5B58\u50A8\u5377(volume)\u3002</li><li>\u5BB9\u5668\u7EC4\u751F\u547D\u5468\u671F\uFF08pos-states\uFF09\uFF1A\u5305\u542B\u6240\u6709\u5BB9\u5668\u72B6\u6001\u96C6\u5408\uFF0C\u5305\u62EC\u5BB9\u5668\u7EC4\u72B6\u6001\u7C7B\u578B\uFF0C\u5BB9\u5668\u7EC4\u751F\u547D\u5468\u671F\uFF0C\u4E8B\u4EF6\uFF0C\u91CD\u542F\u7B56\u7565\uFF0C\u4EE5\u53CA replication controllers\u3002</li><li>Replication Controllers\uFF1A\u4E3B\u8981\u8D1F\u8D23\u6307\u5B9A\u6570\u91CF\u7684 pod \u5728\u540C\u4E00\u65F6\u95F4\u4E00\u8D77\u8FD0\u884C\u3002</li><li>\u670D\u52A1\uFF08services\uFF09\uFF1A\u4E00\u4E2A Kubernetes \u670D\u52A1\u662F\u5BB9\u5668\u7EC4\u903B\u8F91\u7684\u9AD8\u7EA7\u62BD\u8C61\uFF0C\u540C\u65F6\u4E5F\u5BF9\u5916\u63D0\u4F9B\u8BBF\u95EE\u5BB9\u5668\u7EC4\u7684\u7B56\u7565\u3002</li><li>\u5377\uFF08volumes\uFF09\uFF1A\u4E00\u4E2A\u5377\u5C31\u662F\u4E00\u4E2A\u76EE\u5F55\uFF0C\u5BB9\u5668\u5BF9\u5176\u6709\u8BBF\u95EE\u6743\u9650\u3002</li><li>\u6807\u7B7E\uFF08labels\uFF09\uFF1A\u6807\u7B7E\u662F\u7528\u6765\u8FDE\u63A5\u4E00\u7EC4\u5BF9\u8C61\u7684\uFF0C\u6BD4\u5982\u5BB9\u5668\u7EC4\u3002\u6807\u7B7E\u53EF\u4EE5\u88AB\u7528\u6765\u7EC4\u7EC7\u548C\u9009\u62E9\u5B50\u5BF9\u8C61\u3002</li><li>\u63A5\u53E3\u6743\u9650\uFF08accessing_the_api\uFF09\uFF1A\u7AEF\u53E3\uFF0CIP \u5730\u5740\u548C\u4EE3\u7406\u7684\u9632\u706B\u5899\u89C4\u5219\u3002</li><li>web \u754C\u9762\uFF08ux\uFF09\uFF1A\u7528\u6237\u53EF\u4EE5\u901A\u8FC7 web \u754C\u9762\u64CD\u4F5C Kubernetes\u3002</li><li>\u547D\u4EE4\u884C\u64CD\u4F5C\uFF08cli\uFF09\uFF1Akubectl\u547D\u4EE4\u3002</li></ul>',13);function b(f,u,D,k,h,C){return r(),n("div",null,[d,a(" ### Service | Command | Description | | --- | --- | | [docker service create](https://docs.docker.com/engine/reference/commandline/service_create/) | Create a new service | | [docker service inspect](https://docs.docker.com/engine/reference/commandline/service_inspect/) | Display detailed information on one or more services | | [docker service logs](https://docs.docker.com/engine/reference/commandline/service_logs/) | Fetch the logs of a service or task | | [docker service ls](https://docs.docker.com/engine/reference/commandline/service_ls/) | List services | | [docker service ps](https://docs.docker.com/engine/reference/commandline/service_ps/) | List the tasks of one or more services | | [docker service rm](https://docs.docker.com/engine/reference/commandline/service_rm/) | Remove one or more services | | [docker service rollback](https://docs.docker.com/engine/reference/commandline/service_rollback/) | Revert changes to a service\u2019s configuration | | [docker service scale](https://docs.docker.com/engine/reference/commandline/service_scale/) | Scale one or multiple replicated services | | [docker service update](https://docs.docker.com/engine/reference/commandline/service_update/) | Update a service | "),m])}const A=s(i,[["render",b]]);export{g as __pageData,A as default};
