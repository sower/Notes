import{_ as s,c as n,o as a,a as e}from"./app.81a94463.js";const l="/Notes/assets/1643807401160-46fbfb24-73a6-4334-9416-1a4b3d9e2378.23f1ff30.png",b=JSON.parse('{"title":"Android SDK","description":"","frontmatter":{"title":"Android SDK","created_at":"2022-03-05T00:41:54.000Z","updated_at":"2022-10-23T15:31:52.000Z","word_count":12734},"headers":[{"level":2,"title":"Android SDK","slug":"android-sdk-1","link":"#android-sdk-1","children":[{"level":3,"title":"\u547D\u4EE4\u884C\u5DE5\u5177 cmdline-tools","slug":"\u547D\u4EE4\u884C\u5DE5\u5177-cmdline-tools","link":"#\u547D\u4EE4\u884C\u5DE5\u5177-cmdline-tools","children":[]},{"level":3,"title":"\u6784\u5EFA\u5DE5\u5177 build-tools","slug":"\u6784\u5EFA\u5DE5\u5177-build-tools","link":"#\u6784\u5EFA\u5DE5\u5177-build-tools","children":[]},{"level":3,"title":"\u5E73\u53F0\u5DE5\u5177 platform-tools","slug":"\u5E73\u53F0\u5DE5\u5177-platform-tools","link":"#\u5E73\u53F0\u5DE5\u5177-platform-tools","children":[]}]},{"level":2,"title":"\u5237\u673A","slug":"\u5237\u673A","link":"#\u5237\u673A","children":[]},{"level":2,"title":"Monkey","slug":"monkey","link":"#monkey","children":[]},{"level":2,"title":"monkeyrunner","slug":"monkeyrunner","link":"#monkeyrunner","children":[]},{"level":2,"title":"appium","slug":"appium","link":"#appium","children":[]},{"level":2,"title":"Auto.js","slug":"auto-js","link":"#auto-js","children":[]},{"level":2,"title":"scrcpy","slug":"scrcpy","link":"#scrcpy","children":[]}],"relativePath":"CS/Android SDK.md","lastUpdated":1667222801000}'),t={name:"CS/Android SDK.md"},p=e(`<h1 id="android-sdk" tabindex="-1">Android SDK <a class="header-anchor" href="#android-sdk" aria-hidden="true">#</a></h1><h2 id="android-sdk-1" tabindex="-1">Android SDK <a class="header-anchor" href="#android-sdk-1" aria-hidden="true">#</a></h2><p><strong>\u914D\u7F6E\u73AF\u5883\u53D8\u91CF</strong></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">\u53D8\u91CF\u540D\uFF1AANDROID_HOME</span></span>
<span class="line"><span style="color:#A6ACCD;">\u53D8\u91CF\u503C\uFF1A</span><span style="color:#FFCB6B;">D</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">\\android</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">sdk</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">windows </span><span style="color:#676E95;">//SDK\u7684\u5B9E\u9645\u5B89\u88C5\u8DEF\u5F84</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">\u53D8\u91CF\u540D\uFF1APath</span></span>
<span class="line"><span style="color:#A6ACCD;">\u53D8\u91CF\u503C\uFF1A</span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">ANDROID_HOME</span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">\\platform</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">tools</span><span style="color:#89DDFF;">;%</span><span style="color:#A6ACCD;">ANDROID_HOME</span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;">\\tools</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="\u547D\u4EE4\u884C\u5DE5\u5177-cmdline-tools" tabindex="-1">\u547D\u4EE4\u884C\u5DE5\u5177 cmdline-tools <a class="header-anchor" href="#\u547D\u4EE4\u884C\u5DE5\u5177-cmdline-tools" aria-hidden="true">#</a></h3><h4 id="apkanalyzer" tabindex="-1"><a href="https://developer.android.google.cn/studio/command-line/apkanalyzer?hl=zh-cn" target="_blank" rel="noreferrer">apkanalyzer</a> <a class="header-anchor" href="#apkanalyzer" aria-hidden="true">#</a></h4><p>\u7528\u4E8E\u5728\u6784\u5EFA\u6D41\u7A0B\u5B8C\u6210\u540E\u6DF1\u5165\u5206\u6790\u60A8\u7684 APK \u7EC4\u6210\u3002</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">apkanalyzer </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--human-readable</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> subject verb </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> apk-file </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">apk-file2</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>subject \u67E5\u8BE2\u7684\u5185\u5BB9</p><ul><li>apk\uFF1A\u5206\u6790 APK \u6587\u4EF6\u5C5E\u6027\uFF0C\u5982\u5E94\u7528 ID\u3001\u7248\u672C\u4EE3\u7801\u548C\u7248\u672C\u540D\u79F0\u3002</li><li>files\uFF1A\u5206\u6790 APK \u6587\u4EF6\u5185\u7684\u6587\u4EF6\u3002</li><li>manifest\uFF1A\u5206\u6790 APK \u6587\u4EF6\u5185\u7684\u6E05\u5355\u7684\u5185\u5BB9\u3002</li><li>dex\uFF1A\u5206\u6790 APK \u6587\u4EF6\u5185\u7684 DEX \u6587\u4EF6\u3002</li><li>resources\uFF1A\u67E5\u770B\u6587\u672C\u3001\u56FE\u50CF\u548C\u5B57\u7B26\u4E32\u8D44\u6E90\u3002</li></ul><p>verb</p><table><thead><tr><th>\u67E5\u770B APK \u6587\u4EF6\u5C5E\u6027</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>apk summary <em>apk-file</em></td><td>\u8F93\u51FA\u5E94\u7528 ID\u3001\u7248\u672C\u4EE3\u7801\u548C\u7248\u672C\u540D\u79F0\u3002</td></tr><tr><td>apk file-size <em>apk-file</em></td><td>\u8F93\u51FA APK \u7684\u603B\u6587\u4EF6\u5927\u5C0F\u3002</td></tr><tr><td>apk download-size <em>apk-file</em></td><td>\u8F93\u51FA APK \u7684\u4E0B\u8F7D\u5927\u5C0F\u4F30\u8BA1\u503C\u3002</td></tr><tr><td>apk features [--not-required] <em>apk-file</em></td><td>\u8F93\u51FA APK \u7528\u6765\u89E6\u53D1 <a href="https://developer.android.google.cn/google/play/filters?hl=zh-cn#manifest-filters" target="_blank" rel="noreferrer">Play \u5546\u5E97\u8FC7\u6EE4</a>\u7684\u529F\u80FD</td></tr><tr><td>apk compare [<em>options</em>] <em>apk-fileapk-file2</em></td><td>\u6BD4\u8F83 <em>apk-file</em> \u548C <em>apk-file2</em> \u7684\u5927\u5C0F</td></tr><tr><td>\u67E5\u770B APK \u6587\u4EF6\u7CFB\u7EDF</td><td>\u8BF4\u660E</td></tr><tr><td>files list <em>apk-file</em></td><td>\u5217\u51FA APK \u4E2D\u7684\u6240\u6709\u6587\u4EF6</td></tr><tr><td>files cat --file <em>pathapk-file</em></td><td>\u8F93\u51FA\u6587\u4EF6\u5185\u5BB9</td></tr><tr><td>\u67E5\u770B\u6E05\u5355\u4E2D\u7684\u4FE1\u606F</td><td>\u8BF4\u660E</td></tr><tr><td>manifest print <em>apk-file</em></td><td>\u4EE5 XML \u683C\u5F0F\u8F93\u51FA APK \u6E05\u5355\u3002</td></tr><tr><td>manifest application-id <em>apk-file</em></td><td>\u8F93\u51FA\u5E94\u7528 ID \u503C\u3002</td></tr><tr><td>manifest version-name <em>apk-file</em></td><td>\u8F93\u51FA\u7248\u672C\u540D\u79F0\u503C\u3002</td></tr><tr><td>manifest version-code <em>apk-file</em></td><td>\u8F93\u51FA\u7248\u672C\u4EE3\u7801\u503C\u3002</td></tr><tr><td>manifest min-sdk <em>apk-file</em></td><td>\u8F93\u51FA\u6700\u4F4E SDK \u7248\u672C\u3002</td></tr><tr><td>manifest target-sdk <em>apk-file</em></td><td>\u8F93\u51FA\u76EE\u6807 SDK \u7248\u672C\u3002</td></tr><tr><td>manifest permissions <em>apk-file</em></td><td>\u8F93\u51FA\u6743\u9650\u5217\u8868\u3002</td></tr><tr><td>manifest debuggable <em>apk-file</em></td><td>\u8F93\u51FA\u5E94\u7528\u662F\u5426\u53EF\u8C03\u8BD5\u3002</td></tr><tr><td>\u8BBF\u95EE DEX \u6587\u4EF6\u4FE1\u606F</td><td>\u8BF4\u660E</td></tr><tr><td>dex list <em>apk-file</em></td><td>\u8F93\u51FA APK \u4E2D\u7684 DEX \u6587\u4EF6\u5217\u8868\u3002</td></tr><tr><td>dex references [--files <em>path</em>] [--files <em>path2</em>] <em>apk-file</em></td><td>\u8F93\u51FA\u6307\u5B9A DEX \u6587\u4EF6\u4E2D\u7684\u65B9\u6CD5\u5F15\u7528\u6570</td></tr></tbody></table><h4 id="avdmanager" tabindex="-1"><a href="https://developer.android.google.cn/studio/command-line/avdmanager?hl=zh-cn" target="_blank" rel="noreferrer">avdmanager</a> <a class="header-anchor" href="#avdmanager" aria-hidden="true">#</a></h4><p>\u521B\u5EFA\u548C\u7BA1\u7406 Android \u865A\u62DF\u8BBE\u5907 (AVD)\u3002</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">avdmanager </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">global options</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">command</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">command options</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u5168\u5C40\u9009\u9879</p><ul><li>-s \u9759\u9ED8\u6A21\u5F0F\uFF1A\u4EC5\u8F93\u51FA\u9519\u8BEF</li><li>-h \u4F7F\u7528\u5E2E\u52A9</li><li>-v \u8BE6\u7EC6\u6A21\u5F0F\uFF1A\u8F93\u51FA\u9519\u8BEF\u3001\u8B66\u544A\u548C\u53C2\u8003\u6027\u6D88\u606F\u3002</li></ul><h4 id="sdkmanager" tabindex="-1"><a href="https://developer.android.google.cn/studio/command-line/sdkmanager?hl=zh-cn" target="_blank" rel="noreferrer">sdkmanager</a> <a class="header-anchor" href="#sdkmanager" aria-hidden="true">#</a></h4><p>\u67E5\u770B\u3001\u5B89\u88C5\u3001\u66F4\u65B0\u548C\u5378\u8F7D Android SDK \u7684\u8F6F\u4EF6\u5305\u3002 <br> <strong>\u5217\u51FA\u5DF2\u5B89\u88C5\u548C\u53EF\u7528\u7684\u8F6F\u4EF6\u5305</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">sdkmanager --list </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--channel</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">channel_id</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> // Channels: 0 </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">stable</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">, 1 </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">beta</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">, 2 </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dev</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">, or 3 </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">canary</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>\u5B89\u88C5\u8F6F\u4EF6\u5305</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">sdkmanager packages </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>\u66F4\u65B0\u6240\u6709\u5DF2\u5B89\u88C5\u7684\u8F6F\u4EF6\u5305</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">sdkmanager --update </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="emulator" tabindex="-1"><a href="https://developer.android.google.cn/studio/run/emulator-commandline?hl=zh-cn" target="_blank" rel="noreferrer">Emulator</a> <a class="header-anchor" href="#emulator" aria-hidden="true">#</a></h4><p><strong>emulator -help-datadir</strong> <br> \u7CFB\u7EDF\u76EE\u5F55\uFF1A\u5305\u542B\u6A21\u62DF\u5668\u7528\u4E8E\u6A21\u62DF\u64CD\u4F5C\u7CFB\u7EDF\u7684 Android \u7CFB\u7EDF\u6620\u50CF <br> <code>Android/sdk/system-images/android-**apiLevel**/variant/arch/</code> <br> AVD \u6570\u636E\u76EE\u5F55\uFF08\u5185\u5BB9\u76EE\u5F55\uFF09\u7279\u5B9A\u4E8E\u5355\u4E2A AVD \u5B9E\u4F8B\uFF0C\u5305\u542B AVD \u7684\u6240\u6709\u53EF\u4FEE\u6539\u6570\u636E <br> <code>~/.android/avd/**name**.avd/</code></p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">emulator </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">avd avd_name [ </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">-option </span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">]} \u2026 ]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>emulator -list-avds</p><table><thead><tr><th>\u5FEB\u901F\u542F\u52A8</th><th></th></tr></thead><tbody><tr><td>-no-snapshot-load</td><td>\u6267\u884C\u51B7\u542F\u52A8\uFF0C\u5E76\u5728\u9000\u51FA\u65F6\u4FDD\u5B58\u6A21\u62DF\u5668\u72B6\u6001\u3002</td></tr><tr><td>-no-snapshot-save</td><td>\u5982\u679C\u53EF\u80FD\uFF0C\u6267\u884C\u5FEB\u901F\u542F\u52A8\uFF0C\u4F46\u5728\u9000\u51FA\u65F6\u4E0D\u4FDD\u5B58\u6A21\u62DF\u5668\u72B6\u6001\u3002</td></tr><tr><td>-no-snapshot</td><td>\u5F7B\u5E95\u505C\u7528<a href="https://developer.android.google.cn/studio/run/emulator?hl=zh-cn#quickboot" target="_blank" rel="noreferrer">\u5FEB\u901F\u542F\u52A8</a>\u529F\u80FD - \u5B83\u4E0D\u4F1A\u52A0\u8F7D\u6216\u4FDD\u5B58\u6A21\u62DF\u5668\u72B6\u6001\u3002</td></tr><tr><td>\u78C1\u76D8\u6620\u50CF\u548C\u5185\u5B58</td><td></td></tr><tr><td>-memory <strong><em>size</em></strong></td><td>\u6307\u5B9A\u7269\u7406 RAM \u5927\u5C0F\uFF0C\u8303\u56F4\u4E3A 128 MB - 4096 MB</td></tr><tr><td>-sdcard <strong><em>filepath</em></strong></td><td>\u6307\u5B9A SD \u5361\u5206\u533A\u6620\u50CF\u6587\u4EF6\u7684\u6587\u4EF6\u540D\u548C\u8DEF\u5F84</td></tr><tr><td>-wipe-data</td><td>\u5220\u9664\u7528\u6237\u6570\u636E\u5E76\u4ECE\u521D\u59CB\u6570\u636E\u6587\u4EF6\u4E2D\u590D\u5236\u6570\u636E\u3002</td></tr><tr><td>\u7F51\u7EDC</td><td></td></tr><tr><td>-dns-server <strong><em>servers</em></strong></td><td>\u4F7F\u7528\u6307\u5B9A\u7684 DNS \u670D\u52A1\u5668</td></tr><tr><td>-http-proxy <strong><em>proxy</em></strong></td><td>\u901A\u8FC7\u6307\u5B9A\u7684 HTTP/HTTPS \u4EE3\u7406\u8FDB\u884C\u6240\u6709 TCP \u8FDE\u63A5</td></tr></tbody></table><p>-net<strong>speed</strong> delay / speed <br> \u5C06\u7F51\u7EDC\u5EF6\u8FDF\u6A21\u62DF\u8BBE\u7F6E\u4E3A\u4EE5\u4E0B <strong>delay</strong> \u503C\u4E4B\u4E00\uFF08\u4EE5\u6BEB\u79D2\u4E3A\u5355\u4F4D\uFF09\uFF1A</p><ul><li>gsm\xA0- GSM/CSD\uFF08\u6700\u5C0F\u503C 150\uFF0C\u6700\u5927\u503C 550\uFF09\u3002</li><li>hscsd\xA0- HSCSD\uFF08\u6700\u5C0F\u503C 80\uFF0C\u6700\u5927\u503C 400\uFF09\u3002</li><li>gprs\xA0- GPRS\uFF08\u6700\u5C0F\u503C 35\uFF0C\u6700\u5927\u503C 200\uFF09\u3002</li><li>edge\xA0- EDGE/EGPRS\uFF08\u6700\u5C0F\u503C 80\uFF0C\u6700\u5927\u503C 400\uFF09\u3002</li><li>umts\xA0- UMTS/3G\uFF08\u6700\u5C0F\u503C 35\uFF0C\u6700\u5927\u503C 200\uFF09\u3002</li><li>hsdpa\xA0- HSDPA\uFF08\u6700\u5C0F\u503C 0\uFF0C\u6700\u5927\u503C 0\uFF09\u3002</li><li>lte\xA0- LTE\uFF08\u6700\u5C0F\u503C 0\uFF0C\u6700\u5927\u503C 0\uFF09\u3002</li><li>evdo\xA0- EVDO\uFF08\u6700\u5C0F\u503C 0\uFF0C\u6700\u5927\u503C 0\uFF09\u3002</li><li>none\xA0- \u65E0\u5EF6\u8FDF\u65F6\u95F4\uFF0C\u9ED8\u8BA4\u503C\uFF08\u6700\u5C0F\u503C 0\uFF0C\u6700\u5927\u503C 0\uFF09\u3002</li><li>num\xA0- \u6307\u5B9A\u786E\u5207\u7684\u5EF6\u8FDF\u65F6\u95F4\u3002</li><li>min:max\xA0- \u5206\u522B\u6307\u5B9A\u6700\u5C0F\u5EF6\u8FDF\u65F6\u95F4\u548C\u6700\u5927\u5EF6\u8FDF\u65F6\u95F4\u3002</li></ul><p>\u8BBE\u7F6E\u7F51\u7EDC\u901F\u5EA6\u6A21\u62DF\u3002\u4F7F\u7528\u4EE5\u4E0B <strong>speed</strong> \u503C\uFF08\u4EE5 kbps \u4E3A\u5355\u4F4D\uFF09\u4E4B\u4E00\uFF0C\u6307\u5B9A\u6700\u5927\u7F51\u7EDC\u4E0A\u4F20\u548C\u4E0B\u8F7D\u901F\u5EA6\uFF1A</p><ul><li>gsm\xA0- GSM/CSD\uFF08\u4E0A\u4F20\uFF1A14.4\uFF0C\u4E0B\u8F7D\uFF1A14.4\uFF09\u3002</li><li>hscsd\xA0- HSCSD\uFF08\u4E0A\u4F20\uFF1A14.4\uFF0C\u4E0B\u8F7D\uFF1A57.6\uFF09\u3002</li><li>gprs\xA0- GPRS\uFF08\u4E0A\u4F20\uFF1A28.8\uFF0C\u4E0B\u8F7D\uFF1A57.6\uFF09\u3002</li><li>edge\xA0- EDGE/EGPRS\uFF08\u4E0A\u4F20\uFF1A473.6\uFF0C\u4E0B\u8F7D\uFF1A473.6\uFF09\u3002</li><li>umts\xA0- UMTS/3G\uFF08\u4E0A\u4F20\uFF1A384.0\uFF0C\u4E0B\u8F7D\uFF1A384.0\uFF09\u3002</li><li>hsdpa\xA0- HSDPA\uFF08\u4E0A\u4F20\uFF1A5760.0\uFF0C\u4E0B\u8F7D\uFF1A13,980.0\uFF09\u3002</li><li>lte\xA0- LTE\uFF08\u4E0A\u4F20\uFF1A58,000\uFF0C\u4E0B\u8F7D\uFF1A173,000\uFF09\u3002</li><li>evdo\xA0- EVDO\uFF08\u4E0A\u4F20\uFF1A75,000\uFF0C\u4E0B\u8F7D\uFF1A280,000\uFF09\u3002</li><li>full\xA0- \u65E0\u9650\u5236\uFF0C\u9ED8\u8BA4\u503C\uFF08\u4E0A\u4F20\uFF1A0.0\uFF0C\u4E0B\u8F7D\uFF1A0.0\uFF09\u3002</li><li>num\xA0- \u6307\u5B9A\u4E0A\u4F20\u548C\u4E0B\u8F7D\u901F\u5EA6\u3002</li><li>up:down\xA0- \u5206\u522B\u6307\u5B9A\u4E0A\u4F20\u901F\u5EA6\u548C\u4E0B\u8F7D\u901F\u5EA6\u3002</li></ul><h3 id="\u6784\u5EFA\u5DE5\u5177-build-tools" tabindex="-1">\u6784\u5EFA\u5DE5\u5177 build-tools <a class="header-anchor" href="#\u6784\u5EFA\u5DE5\u5177-build-tools" aria-hidden="true">#</a></h3><h4 id="aapt2-android-asset-packaging-tool" tabindex="-1"><a href="https://developer.android.google.cn/studio/command-line/aapt2?hl=zh-cn" target="_blank" rel="noreferrer">aapt2</a> (Android Asset Packaging Tool) <a class="header-anchor" href="#aapt2-android-asset-packaging-tool" aria-hidden="true">#</a></h4><p>\u89E3\u6790 Android \u8D44\u6E90\uFF0C\u4E3A\u5176\u7F16\u5236\u7D22\u5F15\uFF0C\u7136\u540E\u5C06\u5176\u7F16\u8BD1\u4E3A\u9488\u5BF9 Android \u5E73\u53F0\u4F18\u5316\u8FC7\u7684\u4E8C\u8FDB\u5236\u683C\u5F0F\uFF0C\u6700\u540E\u5C06\u7F16\u8BD1\u540E\u7684\u8D44\u6E90\u6253\u5305\u5230\u5355\u4E2A\u8F93\u51FA\u4E2D\u3002</p><p>\u589E\u91CF\u7F16\u8BD1</p><ul><li><a href="https://developer.android.google.cn/studio/command-line/aapt2?hl=zh-cn#compile" target="_blank" rel="noreferrer">\u7F16\u8BD1</a>\uFF1A\u5C06\u8D44\u6E90\u6587\u4EF6\u7F16\u8BD1\u4E3A\u4E8C\u8FDB\u5236\u683C\u5F0F\u3002</li></ul><p><code>aapt2 compile path-to-input-files [options] -o output-directory/ </code></p><ul><li><a href="https://developer.android.google.cn/studio/command-line/aapt2?hl=zh-cn#link" target="_blank" rel="noreferrer">\u94FE\u63A5</a>\uFF1A\u5408\u5E76\u6240\u6709\u5DF2\u7F16\u8BD1\u7684\u6587\u4EF6\u5E76\u5C06\u5B83\u4EEC\u6253\u5305\u5230\u4E00\u4E2A\u8F6F\u4EF6\u5305\u4E2D\u3002</li></ul><p><code>aapt2 link path-to-input-files [options] -o outputdirectory/outputfilename.apk --manifest AndroidManifest.xml </code></p><p>\u8F6C\u50A8 <br> aapt2 dump sub-command filename.apk [options]</p><table><thead><tr><th>\u5B50\u547D\u4EE4</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>apc</td><td>\u8F93\u51FA\u5728\u7F16\u8BD1\u671F\u95F4\u751F\u6210\u7684 AAPT2 \u5BB9\u5668\uFF08APC\uFF09\u7684\u5185\u5BB9\u3002</td></tr><tr><td>badging</td><td>\u8F93\u51FA\u4ECE APK \u7684\u6E05\u5355\u4E2D\u63D0\u53D6\u7684\u4FE1\u606F\u3002</td></tr><tr><td>configurations</td><td>\u8F93\u51FA APK \u4E2D\u7684\u8D44\u6E90\u4F7F\u7528\u7684\u6BCF\u9879\u914D\u7F6E\u3002</td></tr><tr><td>packagename</td><td>\u8F93\u51FA APK \u7684\u8F6F\u4EF6\u5305\u540D\u79F0\u3002</td></tr><tr><td>permissions</td><td>\u8F93\u51FA\u4ECE APK \u7684\u6E05\u5355\u63D0\u53D6\u7684\u6743\u9650\u3002</td></tr><tr><td>strings</td><td>\u8F93\u51FA APK \u7684\u8D44\u6E90\u8868\u5B57\u7B26\u4E32\u6C60\u7684\u5185\u5BB9\u3002</td></tr><tr><td>styleparents</td><td>\u8F93\u51FA APK \u4E2D\u4F7F\u7528\u7684\u6837\u5F0F\u7684\u7236\u9879\u3002</td></tr><tr><td>resources</td><td>\u8F93\u51FA APK \u7684\u8D44\u6E90\u8868\u7684\u5185\u5BB9\u3002</td></tr><tr><td>xmlstrings</td><td>\u8F93\u51FA APK \u7684\u5DF2\u7F16\u8BD1 xml \u4E2D\u7684\u5B57\u7B26\u4E32\u3002</td></tr><tr><td>xmltree</td><td>\u8F93\u51FA APK \u7684\u5DF2\u7F16\u8BD1 xml \u6811\u3002</td></tr></tbody></table><p><strong>appt</strong> <br> \u67E5\u770B\uFF0C\u521B\u5EFA\uFF0C \u66F4\u65B0ZIP\u683C\u5F0F\u7684\u6587\u6863\u9644\u4EF6(zip, jar, apk)\uFF0C\u4E5F\u53EF\u5C06\u8D44\u6E90\u6587\u4EF6\u7F16\u8BD1\u6210<a href="https://baike.baidu.com/item/%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6/996661" target="_blank" rel="noreferrer">\u4E8C\u8FDB\u5236\u6587\u4EF6</a>\uFF0C\u5373Android\u8D44\u6E90\u6253\u5305\u5DE5\u5177</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u67E5\u770Bapk\u5305\u7684packageName\u3001versionCode\u3001applicationLabel\u3001launcherActivity\u3001permission\u7B49\u5404\u79CD\u8BE6\u7EC6\u4FE1\u606F</span></span>
<span class="line"><span style="color:#A6ACCD;">aapt dump badging </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">xxx.apk</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770B\u6743\u9650</span></span>
<span class="line"><span style="color:#A6ACCD;">aapt dump permissions </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">file_path.apk</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#676E95;"># \u5217\u51FA\u538B\u7F29\u6587\u4EF6(zip,jar,apk)\u4E2D\u7684\u76EE\u5F55\u5185\u5BB9</span></span>
<span class="line"><span style="color:#A6ACCD;">aapt list </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-v</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-a</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> file.{zip,jar,apk}</span></span>
<span class="line"><span style="color:#676E95;"># \u4ECE\u538B\u7F29\u6587\u4EF6\u4E2D\u5220\u9664\u6587\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">aapt remove </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-v</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> file.{zip,jar,apk} file1 </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">file2 ...</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#676E95;"># \u5F80\u538B\u7F29\u6587\u4EF6\u4E2D\u6DFB\u52A0\u6587\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">aapt add </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-v</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> file.{zip,jar,apk} file1 </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">file2 ...</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="apksigner" tabindex="-1"><a href="https://developer.android.google.cn/studio/command-line/apksigner?hl=zh-cn" target="_blank" rel="noreferrer">apksigner</a> <a class="header-anchor" href="#apksigner" aria-hidden="true">#</a></h4><p>\u4E3A APK \u7B7E\u540D\uFF0C\u5E76\u68C0\u67E5\u7B7E\u540D\u80FD\u5426\u5728\u7ED9\u5B9A APK \u652F\u6301\u7684\u6240\u6709\u5E73\u53F0\u7248\u672C\u4E0A\u6210\u529F\u901A\u8FC7\u9A8C\u8BC1\u3002</p><p><strong>\u4E3A APK \u7B7E\u540D</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">apksigner sign --ks keystore.jks </span><span style="color:#89DDFF;">|</span></span>
<span class="line"><span style="color:#A6ACCD;">  --key key.pk8 --cert cert.x509.pem</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">signer_options</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> app-name.apk</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>\u9A8C\u8BC1 APK \u7B7E\u540D</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">apksigner verify </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> app-name.apk</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><a href="https://developer.android.google.cn/studio/command-line/zipalign?hl=zh-cn" target="_blank" rel="noreferrer">zipalign</a> <br> \u786E\u4FDD\u6240\u6709\u672A\u538B\u7F29\u6570\u636E\u7684\u5F00\u5934\u5747\u76F8\u5BF9\u4E8E\u6587\u4EF6\u5F00\u5934\u90E8\u5206\u6267\u884C\u7279\u5B9A\u7684\u5BF9\u9F50\uFF0C\u4ECE\u800C\u4F18\u5316 APK \u6587\u4EF6\u3002</p><h3 id="\u5E73\u53F0\u5DE5\u5177-platform-tools" tabindex="-1">\u5E73\u53F0\u5DE5\u5177 platform-tools <a class="header-anchor" href="#\u5E73\u53F0\u5DE5\u5177-platform-tools" aria-hidden="true">#</a></h3><h4 id="adb" tabindex="-1"><a href="https://developer.android.google.cn/studio/command-line/adb?hl=zh-cn" target="_blank" rel="noreferrer">adb</a> <a class="header-anchor" href="#adb" aria-hidden="true">#</a></h4><p>\u5B89\u5353\u8C03\u8BD5\u6865 (Android Debug Bridge)\uFF1A\u4E00\u4E2A\u901A\u7528\u547D\u4EE4\u884C\u5DE5\u5177\uFF0C\u5176\u5141\u8BB8\u60A8\u4E0E\u6A21\u62DF\u5668\u5B9E\u4F8B\u6216\u8FDE\u63A5\u7684 Android \u8BBE\u5907\u8FDB\u884C\u901A\u4FE1</p><p>\u7EC4\u4EF6\uFF1A</p><ul><li>\u5BA2\u6237\u7AEF\uFF1A\u7528\u4E8E\u53D1\u9001\u547D\u4EE4\u3002\u5BA2\u6237\u7AEF\u5728\u5F00\u53D1\u673A\u5668\u4E0A\u8FD0\u884C\u3002\u60A8\u53EF\u4EE5\u901A\u8FC7\u53D1\u51FA adb \u547D\u4EE4\u4ECE\u547D\u4EE4\u884C\u7EC8\u7AEF\u8C03\u7528\u5BA2\u6237\u7AEF\u3002</li><li>\u5B88\u62A4\u7A0B\u5E8F (adbd)\uFF1A\u7528\u4E8E\u5728\u8BBE\u5907\u4E0A\u8FD0\u884C\u547D\u4EE4\u3002\u5B88\u62A4\u7A0B\u5E8F\u5728\u6BCF\u4E2A\u8BBE\u5907\u4E0A\u4F5C\u4E3A\u540E\u53F0\u8FDB\u7A0B\u8FD0\u884C\u3002</li><li>\u670D\u52A1\u5668\uFF1A\u7528\u4E8E\u7BA1\u7406\u5BA2\u6237\u7AEF\u4E0E\u5B88\u62A4\u7A0B\u5E8F\u4E4B\u95F4\u7684\u901A\u4FE1\u3002\u670D\u52A1\u5668\u5728\u5F00\u53D1\u673A\u5668\u4E0A\u4F5C\u4E3A\u540E\u53F0\u8FDB\u7A0B\u8FD0\u884C\u3002</li></ul><p>\u8FD0\u884C\u539F\u7406\uFF1APC \u7AEF\u7684 adb server \u4E0E\u624B\u673A\u7AEF\u7684\u5B88\u62A4\u8FDB\u7A0B adbd \u5EFA\u7ACB\u8FDE\u63A5\uFF0C\u7136\u540E PC \u7AEF\u7684 adb client \u901A\u8FC7\u7AEF\u53E3 5037\u4E0E adb server\u901A\u4FE1\uFF08\u8F6C\u53D1\u6307\u4EE4\uFF09\uFF0C\uFF0Cadbd \u63A5\u6536\u547D\u4EE4\u540E\u89E3\u6790\u8FD0\u884C\u3002</p><p><strong>\u542F\u7528 adb \u8C03\u8BD5</strong></p><ul><li>USB \u8FDE\u63A5</li></ul><ol><li>\u663E\u793A\u5F00\u53D1\u8005\u9009\u9879\uFF1A\u8F6C\u5230<strong>\u8BBE\u7F6E &gt; \u5173\u4E8E\u624B\u673A</strong>\uFF0C\u7136\u540E\u70B9\u6309 <strong>build\uFF08\u8F6F\u4EF6\u7248\u672C\uFF09\u53F7</strong>\u4E03\u6B21\u3002</li><li>\u8FD4\u56DE\u4E0A\u4E00\u5C4F\u5E55\uFF0C\u5728\u5E95\u90E8\u53EF\u4EE5\u627E\u5230**\u5F00\u53D1\u8005\u9009\u9879\uFF0C**\u542F\u7528 <strong>USB \u8C03\u8BD5</strong></li></ol><ul><li>\u4F7F\u7528WiFi\u8FDE\u63A5</li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u76D1\u542C\u7AEF\u53E3 5555 \u4E0A\u7684 TCP/IP \u8FDE\u63A5\uFF0C\u540E\u7EED\u53EF\u62D4\u6389\u8FDE\u63A5\u76EE\u6807\u8BBE\u5907\u7684 USB \u7EBF</span></span>
<span class="line"><span style="color:#A6ACCD;">adb tcpip 5555  </span></span>
<span class="line"><span style="color:#676E95;">#\u901A\u8FC7 IP \u5730\u5740\u8FDE\u63A5\u5230\u8BBE\u5907</span></span>
<span class="line"><span style="color:#A6ACCD;">adb connect </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">ip:port</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">adb disconnect </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">device-ip-address</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#676E95;"># root\u65F6\uFF0C\u5728\u8BBE\u5907\u7684\u7684\u7EC8\u7AEF\u6A21\u62DF\u5668\u8F93\u5165</span></span>
<span class="line"><span style="color:#A6ACCD;">su setprop service.adb.tcp.port 5555</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>WLAN \u8FDE\u63A5 Android 11\uFF08\u53CA\u66F4\u9AD8\u7248\u672C\uFF09</li></ul><ol><li>\u542F\u7528<strong>\u5F00\u53D1\u8005\u9009\u9879</strong>\u4E0B\u7684<strong>\u65E0\u7EBF\u8C03\u8BD5</strong>\u9009\u9879\u3002</li><li>\u9009\u62E9<strong>\u4F7F\u7528\u914D\u5BF9\u7801\u914D\u5BF9\u8BBE\u5907</strong>\u3002\u8BB0\u4E0B\u8BBE\u5907\u4E0A\u663E\u793A\u7684\u914D\u5BF9\u7801\u3001IP \u5730\u5740\u548C\u7AEF\u53E3\u53F7</li><li>\u8FD0\u884C <code>adb pair _ipaddr_:_port_</code></li><li>\u5F53\u7CFB\u7EDF\u63D0\u793A\u65F6\uFF0C\u8F93\u5165\u60A8\u5728\u7B2C 3 \u6B65\u4E2D\u83B7\u5F97\u7684\u914D\u5BF9\u7801\u3002\u7CFB\u7EDF\u4F1A\u663E\u793A\u4E00\u6761\u6D88\u606F\uFF0C\u8868\u660E\u60A8\u7684\u8BBE\u5907\u5DF2\u6210\u529F\u914D\u5BF9\u3002</li><li>\u8FD0\u884C <code>adb connect &lt;ip:port&gt;</code></li></ol><h5 id="\u57FA\u7840\u6307\u4EE4" tabindex="-1">\u57FA\u7840\u6307\u4EE4 <a class="header-anchor" href="#\u57FA\u7840\u6307\u4EE4" aria-hidden="true">#</a></h5><p>\u5C06\u547D\u4EE4\u53D1\u9001\u81F3\u7279\u5B9A\u8BBE\u5907 <br> **adb [-d|-e|-s ] **</p><ul><li>-d \u6307\u5B9A\u5F53\u524D\u552F\u4E00\u901A\u8FC7USB \u8FDE\u63A5\u7684Android \u8BBE\u5907\u4E3A\u547D\u4EE4\u76EE\u6807</li><li>-e \u6307\u5B9A\u5F53\u524D\u552F\u4E00\u8FD0\u884C\u7684\u6A21\u62DF\u5668\u4E3A\u547D\u4EE4\u76EE\u6807</li><li>-s \u6307\u5B9A\u76F8\u5E94serialNumber \u53F7\u7684\u8BBE\u5907/\u6A21\u62DF\u5668\u4E3A\u547D\u4EE4\u76EE\u6807</li><li>command \u4E3A\u6240\u9700\u5BF9\u8BBE\u5907\u6267\u884C\u7684\u547D\u4EE4</li></ul><p>adb version adb \u7248\u672C\u4FE1\u606F <br> <strong>adb devices [-l]</strong> adb \u8FDE\u63A5\u8BBE\u5907 <br> adb start-server <br> adb kill-server</p><p>\u6307\u5B9Aadb server \u7684\u7F51\u7EDC\u7AEF\u53E3port \uFF08\u9ED8\u8BA45037\uFF09\u542F\u52A8\u670D\u52A1 <br> adb -P start-server</p><p><strong>\u6587\u4EF6\u4F20\u8F93</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">adb push </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">local</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">remote</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">#\u4ECE\u672C\u5730\u590D\u5236\u6587\u4EF6\u5230\u8BBE\u5907</span></span>
<span class="line"><span style="color:#A6ACCD;">adb pull </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">remote</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">local</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">#\u4ECE\u8BBE\u5907\u590D\u5236\u6587\u4EF6\u5230\u672C\u5730</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u622A\u5C4F\u5F55\u5C4F</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">adb exec-out screencap -p </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> sc.png	\u622A\u5C4F\u5230\u7535\u8111</span></span>
<span class="line"><span style="color:#A6ACCD;">adb shell screencap /sdcard/screen.png	\u622A\u5C4F</span></span>
<span class="line"><span style="color:#A6ACCD;">adb shell screenrecord /sdcard/demo.mp4	\u5F55\u5C4F</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u97F3\u9891\u4E0D\u4E0E\u89C6\u9891\u6587\u4EF6\u4E00\u8D77\u5F55\u5236\uFF0CCtrl + C \u505C\u6B62</p><table><thead><tr><th>\u9009\u9879</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>--size widthxheight</td><td>\u8BBE\u7F6E\u89C6\u9891\u5927\u5C0F\uFF1A1280x720</td></tr><tr><td>--bit-rate rate</td><td>\u8BBE\u7F6E\u89C6\u9891\u7684\u89C6\u9891\u6BD4\u7279\u7387\uFF08\u4EE5 MB/\u79D2\u4E3A\u5355\u4F4D\uFF09\u3002\u9ED8\u8BA4\u503C\u4E3A 4Mbps</td></tr><tr><td>--time-limit time</td><td>\u8BBE\u7F6E\u6700\u5927\u5F55\u5236\u65F6\u957F\uFF08\u4EE5\u79D2\u4E3A\u5355\u4F4D\uFF09\u3002\u9ED8\u8BA4\u503C\u548C\u6700\u5927\u503C\u5747\u4E3A 180\uFF083 \u5206\u949F\uFF09\u3002</td></tr><tr><td>--rotate</td><td>\u5C06\u8F93\u51FA\u65CB\u8F6C 90 \u5EA6\u3002\u6B64\u529F\u80FD\u5904\u4E8E\u5B9E\u9A8C\u9636\u6BB5\u3002</td></tr><tr><td>--verbose</td><td>\u5728\u547D\u4EE4\u884C\u5C4F\u5E55\u663E\u793A\u65E5\u5FD7\u4FE1\u606F\u3002</td></tr></tbody></table><p>\u542F\u52A8</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">adb reboot	\u91CD\u542F</span></span>
<span class="line"><span style="color:#A6ACCD;">adb reboot bootloader	\u91CD\u542F\u624B\u673A\u5230fastboot\u6A21\u5F0F</span></span>
<span class="line"><span style="color:#A6ACCD;">adb reboot recovery \u91CD\u542F\u624B\u673A\u5230recovery\u6A21\u5F0F</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>SD\u5361\u7684\u8DEF\u5F84 /mnt/sdcard/</p><h5 id="\u7CFB\u7EDF\u5C5E\u6027" tabindex="-1">\u7CFB\u7EDF\u5C5E\u6027 <a class="header-anchor" href="#\u7CFB\u7EDF\u5C5E\u6027" aria-hidden="true">#</a></h5><p>adb get-serialno \u83B7\u53D6\u5E8F\u5217\u53F7 <br> adb shell cat /sys/class/net/wlan0/address MAC\u5730\u5740 <br> adb shell cat /proc/cpuinfo CPU\u4FE1\u606F <br> adb shell settings get secure android_id</p><p><strong>Window manager</strong> <br> wm command</p><ul><li>size [reset|WxH|WdpxHdp] \u5C4F\u5E55\u5206\u8FA8\u7387</li><li>density [reset|DENSITY] \u5C4F\u5E55\u5BC6\u5EA6</li><li>overscan [reset|LEFT,TOP,RIGHT,BOTTOM]</li><li>scaling [off|auto]</li><li>dismiss-keyguard</li></ul><p><code>adb shell getprop [\u5C5E\u6027\u540D</code>] List Android system property</p><table><thead><tr><th>\u5C5E\u6027\u540D</th><th>\u542B\u4E49</th></tr></thead><tbody><tr><td>ro.build.version.sdk</td><td>SDK \u7248\u672C</td></tr><tr><td>ro.build.version.release</td><td>Android \u7CFB\u7EDF\u7248\u672C</td></tr><tr><td>ro.build.version.security_patch</td><td>Android \u5B89\u5168\u8865\u4E01\u7A0B\u5E8F\u7EA7\u522B</td></tr><tr><td>ro.product.model</td><td>\u578B\u53F7</td></tr><tr><td>ro.product.brand</td><td>\u54C1\u724C</td></tr><tr><td><a href="http://ro.product.name" target="_blank" rel="noreferrer">ro.product.name</a></td><td>\u8BBE\u5907\u540D</td></tr><tr><td>ro.product.board</td><td>\u5904\u7406\u5668\u578B\u53F7</td></tr><tr><td>ro.product.cpu.abi</td><td>CPU\u7C7B\u578B(ABI)</td></tr><tr><td>ro.product.cpu.abilist</td><td>CPU \u652F\u6301\u7684 abi \u5217\u8868</td></tr><tr><td>persist.sys.isUsbOtgEnabled</td><td>\u662F\u5426\u652F\u6301 OTG</td></tr><tr><td>dalvik.vm.heapsize</td><td>\u6BCF\u4E2A\u5E94\u7528\u7A0B\u5E8F\u7684\u5185\u5B58\u4E0A\u9650</td></tr><tr><td>ro.sf.lcd_density</td><td>\u5C4F\u5E55\u5BC6\u5EA6</td></tr></tbody></table><p><a href="https://developer.android.google.cn/studio/command-line/dumpsys?hl=zh-cn" target="_blank" rel="noreferrer"><strong>dumpsys</strong></a> <br> \u4E00\u79CD\u5728 Android \u8BBE\u5907\u4E0A\u8FD0\u884C\u7684\u5DE5\u5177\uFF0C\u53EF\u63D0\u4F9B\u6709\u5173\u7CFB\u7EDF\u670D\u52A1\u7684\u4FE1\u606F\u3002</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">adb shell dumpsys </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-t timeout</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--help </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> -l </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> --skip services </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> service </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">arguments</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-c</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">-h]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><table><thead><tr><th>\u9009\u9879</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>-t\xA0timeout</td><td>\u6307\u5B9A\u8D85\u65F6\u671F\u9650\uFF08\u79D2\uFF09\u3002\u5982\u679C\u672A\u6307\u5B9A\uFF0C\u9ED8\u8BA4\u503C\u4E3A 10 \u79D2\u3002</td></tr><tr><td>--help</td><td>\u8F93\u51FA\xA0dumpsys\xA0\u5DE5\u5177\u7684\u5E2E\u52A9\u6587\u672C\u3002</td></tr><tr><td>-l</td><td>\u8F93\u51FA\u53EF\u4E0E\xA0dumpsys\xA0\u914D\u5408\u4F7F\u7528\u7684\u7CFB\u7EDF\u670D\u52A1\u7684\u5B8C\u6574\u5217\u8868\u3002</td></tr><tr><td>--skip\xA0services</td><td>\u6307\u5B9A\u60A8\u4E0D\u5E0C\u671B\u5305\u542B\u5728\u8F93\u51FA\u4E2D\u7684\xA0services\u3002</td></tr><tr><td>service\xA0[arguments]</td><td>\u6307\u5B9A\u60A8\u5E0C\u671B\u8F93\u51FA\u7684\xA0service\u3002\u67D0\u4E9B\u670D\u52A1\u53EF\u80FD\u5141\u8BB8\u60A8\u4F20\u9012\u53EF\u9009\xA0arguments\u3002</td></tr><tr><td>-c</td><td>\u6307\u5B9A\u67D0\u4E9B\u670D\u52A1\u65F6\uFF0C\u9644\u52A0\u6B64\u9009\u9879\u80FD\u4EE5\u8BA1\u7B97\u673A\u53EF\u8BFB\u7684\u683C\u5F0F\u8F93\u51FA\u6570\u636E\u3002</td></tr><tr><td>-h</td><td>\u5BF9\u4E8E\u67D0\u4E9B\u670D\u52A1\uFF0C\u9644\u52A0\u6B64\u9009\u9879\u53EF\u67E5\u770B\u8BE5\u670D\u52A1\u7684\u5E2E\u52A9\u6587\u672C\u548C\u5176\u4ED6\u9009\u9879\u3002</td></tr></tbody></table><p><strong>\u6D4B\u8BD5\u754C\u9762\u6027\u80FD</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">adb shell dumpsys gfxinfo package-name framestats</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>\u68C0\u67E5\u7F51\u7EDC\u8BCA\u65AD\u4FE1\u606F</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">adb shell dumpsys netstats detail</span></span>
<span class="line"><span style="color:#A6ACCD;">adb shell dumpsys package com.example.myapp </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> grep userId</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>\u67E5\u770B\u5185\u5B58\u5206\u914D</strong></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">\u83B7\u53D6\u8FC7\u53BB\u4E09\u5C0F\u65F6\u5185\u5E94\u7528\u7684\u5185\u5B58\u5360\u7528\u60C5\u51B5\u7EDF\u8BA1\u4FE1\u606F</span></span>
<span class="line"><span style="color:#A6ACCD;">adb shell dumpsys procstats --hours 3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">\u5E94\u7528\u5185\u5B58\u5728\u4E0D\u540C\u7C7B\u578B\u7684 RAM \u5206\u914D\u4E4B\u95F4\u7684\u5212\u5206\u60C5\u51B5</span></span>
<span class="line"><span style="color:#A6ACCD;">adb shell dumpsys meminfo package_name</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">pid </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-d</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>adb shell service list</p><table><thead><tr><th>\u670D\u52A1</th><th>\u7C7B\u540D</th><th>\u529F\u80FD</th></tr></thead><tbody><tr><td>activity</td><td>ActivityManagerService</td><td>AMS\u76F8\u5173\u4FE1\u606F</td></tr><tr><td>package</td><td>PackageManagerService</td><td>PMS\u76F8\u5173\u4FE1\u606F</td></tr><tr><td>window</td><td>WindowManagerService</td><td>WMS\u76F8\u5173\u4FE1\u606F</td></tr><tr><td>input</td><td>InputManagerService</td><td>IMS\u76F8\u5173\u4FE1\u606F</td></tr><tr><td>power</td><td>PowerManagerService</td><td>PMS\u76F8\u5173\u4FE1\u606F</td></tr><tr><td>procstats</td><td>ProcessStatsService</td><td>\u8FDB\u7A0B\u7EDF\u8BA1</td></tr><tr><td>battery</td><td>BatteryService</td><td>\u7535\u6C60\u4FE1\u606F</td></tr><tr><td>alarm</td><td>AlarmManagerService</td><td>\u95F9\u949F\u4FE1\u606F</td></tr><tr><td>meminfo</td><td>MemBinder</td><td>\u5185\u5B58</td></tr></tbody></table><p><code>**adb shell dumpsys window windows | findstr mFocusedApp**</code>** **\u83B7\u53D6\u5F53\u524D\u5305\u540D\u548C\u542F\u52A8\u540D</p><h5 id="\u5E94\u7528\u7BA1\u7406" tabindex="-1">\u5E94\u7528\u7BA1\u7406 <a class="header-anchor" href="#\u5E94\u7528\u7BA1\u7406" aria-hidden="true">#</a></h5><p>adb install [-lrtsdg]</p><table><thead><tr><th>\u53C2\u6570</th><th>\u542B\u4E49</th></tr></thead><tbody><tr><td>-l</td><td>\u5C06\u5E94\u7528\u5B89\u88C5\u5230\u4FDD\u62A4\u76EE\u5F55 /mnt/asec</td></tr><tr><td>-r</td><td>\u5141\u8BB8\u8986\u76D6\u5B89\u88C5</td></tr><tr><td>-t</td><td>\u5141\u8BB8\u5B89\u88C5 AndroidManifest.xml \u91CC application \u6307\u5B9A\xA0android:testOnly=&quot;true&quot;\xA0\u7684\u5E94\u7528</td></tr><tr><td>-s</td><td>\u5C06\u5E94\u7528\u5B89\u88C5\u5230 sdcard</td></tr><tr><td>-d</td><td>\u5141\u8BB8\u964D\u7EA7\u8986\u76D6\u5B89\u88C5</td></tr><tr><td>-g</td><td>\u6388\u4E88\u6240\u6709\u8FD0\u884C\u65F6\u6743\u9650</td></tr></tbody></table><p>adb uninstall [-k] <br> k\uFF1A\u5378\u8F7D\u5E94\u7528\u4F46\u4FDD\u7559\u6570\u636E\u548C\u7F13\u5B58\u76EE\u5F55</p><p><strong>package manager (pm)</strong> <br> adb shell pm command</p><ul><li>list packages [options] filter \u8F93\u51FA\u6240\u6709\u8F6F\u4EF6\u5305 <ul><li>-f \u663E\u793A\u5E94\u7528\u5173\u8054\u7684 apk \u6587\u4EF6</li><li>-d \u53EA\u663E\u793A disabled \u7684\u5E94\u7528</li><li>-e \u53EA\u663E\u793A enabled \u7684\u5E94\u7528</li><li>-s \u53EA\u663E\u793A\u7CFB\u7EDF\u5E94\u7528</li><li>-3 \u53EA\u663E\u793A\u7B2C\u4E09\u65B9\u5E94\u7528</li><li>-i \u663E\u793A\u5E94\u7528\u7684 installer</li><li>-u \u5305\u542B\u5DF2\u5378\u8F7D\u5E94\u7528</li><li><code>&lt;FILTER&gt;</code> \u5305\u540D\u5305\u542B <code>&lt;FILTER&gt;</code>\u5B57\u7B26\u4E32</li></ul></li><li>list permission-groups \u8F93\u51FA\u6240\u6709\u5DF2\u77E5\u7684\u6743\u9650\u7EC4\u3002 <ul><li>-g\uFF1A\u6309\u7EC4\u8FDB\u884C\u6574\u7406\u3002</li><li>-f\uFF1A\u8F93\u51FA\u6240\u6709\u4FE1\u606F\u3002</li><li>-s\uFF1A\u7B80\u77ED\u6458\u8981\u3002</li><li>-d\uFF1A\u4EC5\u5217\u51FA\u5371\u9669\u6743\u9650\u3002</li><li>-u\uFF1A\u4EC5\u5217\u51FA\u7528\u6237\u5C06\u770B\u5230\u7684\u6743\u9650\u3002</li></ul></li><li>list permissions [options] group \u8F93\u51FA\u6240\u6709\u5DF2\u77E5\u7684\u6743\u9650</li><li>list instrumentation [options] \u5217\u51FA\u6240\u6709\u6D4B\u8BD5\u8F6F\u4EF6\u5305</li><li>list features \u8F93\u51FA\u7CFB\u7EDF\u7684\u6240\u6709\u529F\u80FD\u3002</li><li>list libraries \u8F93\u51FA\u5F53\u524D\u8BBE\u5907\u652F\u6301\u7684\u6240\u6709\u5E93\u3002</li><li>list users \u8F93\u51FA\u7CFB\u7EDF\u4E2D\u7684\u6240\u6709\u7528\u6237\u3002</li><li>path package \u8F93\u51FA\u7ED9\u5B9A package \u7684 APK \u7684\u8DEF\u5F84\u3002</li><li>install [options] path \u5C06\u8F6F\u4EF6\u5305\uFF08\u901A\u8FC7 path \u6307\u5B9A\uFF09\u5B89\u88C5\u5230\u7CFB\u7EDF</li><li>uninstall [options] package \u4ECE\u7CFB\u7EDF\u4E2D\u79FB\u9664\u8F6F\u4EF6\u5305\u3002</li><li>clear package \u5220\u9664\u4E0E\u8F6F\u4EF6\u5305\u5173\u8054\u7684\u6240\u6709\u6570\u636E\u3002</li><li>enable package_or_component \u542F\u7528\u7ED9\u5B9A\u7684\u8F6F\u4EF6\u5305\u6216\u7EC4\u4EF6</li><li>disable package_or_component \u505C\u7528\u7ED9\u5B9A\u7684\u8F6F\u4EF6\u5305\u6216\u7EC4\u4EF6</li><li>disable-user [options] package_or_component</li><li>grant package_name permission \u5411\u5E94\u7528\u6388\u4E88\u6743\u9650</li><li>revoke package_name permission \u4ECE\u5E94\u7528\u64A4\u6D88\u6743\u9650</li><li>set-install-location location \u66F4\u6539\u9ED8\u8BA4\u5B89\u88C5\u4F4D\u7F6E <ul><li>0 [auto]\uFF1A\u8BA9\u7CFB\u7EDF\u51B3\u5B9A\u6700\u5408\u9002\u7684\u4F4D\u7F6E</li><li>1 [internal]\uFF1A\u5728\u5185\u90E8\u8BBE\u5907\u5B58\u50A8\u4E0A\u5B89\u88C5</li><li>2 [external]\uFF1A\u5728\u5916\u90E8\u4ECB\u8D28\u4E0A\u5B89\u88C5</li></ul></li><li>get-install-location \u8FD4\u56DE\u5F53\u524D\u5B89\u88C5\u4F4D\u7F6E</li><li>set-permission-enforced permission [true | false] \u662F\u5426\u5E94\u5F3A\u5236\u6267\u884C\u6307\u5B9A\u6743\u9650\u3002</li><li>trim-caches desired_free_space \u51CF\u5C11\u7F13\u5B58\u6587\u4EF6\u4EE5\u8FBE\u5230\u7ED9\u5B9A\u7684\u53EF\u7528\u7A7A\u95F4\u3002</li><li>create-user user_name \u521B\u5EFA\u5177\u6709\u7ED9\u5B9A user_name \u7684\u65B0\u7528\u6237\uFF0C\u4ECE\u800C\u8F93\u51FA\u8BE5\u7528\u6237\u7684\u65B0\u7528\u6237\u6807\u8BC6\u7B26\u3002</li><li>remove-user user_id \u79FB\u9664\u5177\u6709\u7ED9\u5B9A user_id \u7684\u7528\u6237\uFF0C\u4ECE\u800C\u5220\u9664\u4E0E\u8BE5\u7528\u6237\u5173\u8054\u7684\u6240\u6709\u6570\u636E\u3002</li><li>get-max-users \u8F93\u51FA\u8BBE\u5907\u652F\u6301\u7684\u6700\u5927\u7528\u6237\u6570\u3002 | command | \u7528\u9014 | | --- | --- | | list packages [<em>options</em>] <em>filter</em> | \u8F93\u51FA\u6240\u6709\u8F6F\u4EF6\u5305 | | list permission-groups | \u8F93\u51FA\u6240\u6709\u5DF2\u77E5\u7684\u6743\u9650\u7EC4\u3002 | | list permissions [<em>options</em>] <em>group</em> | \u8F93\u51FA\u6240\u6709\u5DF2\u77E5\u7684\u6743\u9650 | | list instrumentation [<em>options</em>] | \u5217\u51FA\u6240\u6709\u6D4B\u8BD5\u8F6F\u4EF6\u5305 | | list features | \u8F93\u51FA\u7CFB\u7EDF\u7684\u6240\u6709\u529F\u80FD\u3002 | | list libraries | \u8F93\u51FA\u5F53\u524D\u8BBE\u5907\u652F\u6301\u7684\u6240\u6709\u5E93\u3002 | | list users | \u8F93\u51FA\u7CFB\u7EDF\u4E2D\u7684\u6240\u6709\u7528\u6237\u3002 | | path <em>package</em> | \u8F93\u51FA\u7ED9\u5B9A <em>package</em> \u7684 APK \u7684\u8DEF\u5F84\u3002 | | install [<em>options</em>] <em>path</em> | \u5C06\u8F6F\u4EF6\u5305\uFF08\u901A\u8FC7 <em>path</em> \u6307\u5B9A\uFF09\u5B89\u88C5\u5230\u7CFB\u7EDF | | uninstall [<em>options</em>] <em>package</em> | \u4ECE\u7CFB\u7EDF\u4E2D\u79FB\u9664\u8F6F\u4EF6\u5305\u3002 | | clear <em>package</em> | \u5220\u9664\u4E0E\u8F6F\u4EF6\u5305\u5173\u8054\u7684\u6240\u6709\u6570\u636E\u3002 | | enable <em>package_or_component</em> | \u542F\u7528\u7ED9\u5B9A\u7684\u8F6F\u4EF6\u5305\u6216\u7EC4\u4EF6 | | disable <em>package_or_component</em> | \u505C\u7528\u7ED9\u5B9A\u7684\u8F6F\u4EF6\u5305\u6216\u7EC4\u4EF6 | | disable-user [<em>options</em>] <em>package_or_component</em> | | | grant <em>package_namepermission</em> | \u5411\u5E94\u7528\u6388\u4E88\u6743\u9650 | | revoke <em>package_namepermission</em> | \u4ECE\u5E94\u7528\u64A4\u6D88\u6743\u9650 | | set-install-location <em>location</em> | \u66F4\u6539\u9ED8\u8BA4\u5B89\u88C5\u4F4D\u7F6E | | get-install-location | \u8FD4\u56DE\u5F53\u524D\u5B89\u88C5\u4F4D\u7F6E\u3002\u8FD4\u56DE\u503C\u5982\u4E0B\uFF1A <br> 0 [auto]\uFF1A\u8BA9\u7CFB\u7EDF\u51B3\u5B9A\u6700\u5408\u9002\u7684\u4F4D\u7F6E <br> 1 [internal]\uFF1A\u5728\u5185\u90E8\u8BBE\u5907\u5B58\u50A8\u4E0A\u5B89\u88C5 <br> 2 [external]\uFF1A\u5728\u5916\u90E8\u4ECB\u8D28\u4E0A\u5B89\u88C5 | | set-permission-enforced <em>permission</em> [true | false] | \u6307\u5B9A\u662F\u5426\u5E94\u5F3A\u5236\u6267\u884C\u6307\u5B9A\u6743\u9650\u3002 | | trim-caches <em>desired_free_space</em> | \u51CF\u5C11\u7F13\u5B58\u6587\u4EF6\u4EE5\u8FBE\u5230\u7ED9\u5B9A\u7684\u53EF\u7528\u7A7A\u95F4\u3002 | | create-user <em>user_name</em> | \u521B\u5EFA\u5177\u6709\u7ED9\u5B9A <em>user_name</em> \u7684\u65B0\u7528\u6237\uFF0C\u4ECE\u800C\u8F93\u51FA\u8BE5\u7528\u6237\u7684\u65B0\u7528\u6237\u6807\u8BC6\u7B26\u3002 | | remove-user <em>user_id</em> | \u79FB\u9664\u5177\u6709\u7ED9\u5B9A <em>user_id</em> \u7684\u7528\u6237\uFF0C\u4ECE\u800C\u5220\u9664\u4E0E\u8BE5\u7528\u6237\u5173\u8054\u7684\u6240\u6709\u6570\u636E\u3002 | | get-max-users | \u8F93\u51FA\u8BBE\u5907\u652F\u6301\u7684\u6700\u5927\u7528\u6237\u6570\u3002 |</li></ul><p>adb shell pm list packages [option] [--user USER_ID] [FILTER]</p><table><thead><tr><th>\u53C2\u6570</th><th>\u663E\u793A\u5217\u8868</th></tr></thead><tbody><tr><td>\u65E0</td><td>\u6240\u6709\u5E94\u7528</td></tr><tr><td>-f</td><td>\u663E\u793A\u5E94\u7528\u5173\u8054\u7684 apk \u6587\u4EF6</td></tr><tr><td>-d</td><td>\u53EA\u663E\u793A disabled \u7684\u5E94\u7528</td></tr><tr><td>-e</td><td>\u53EA\u663E\u793A enabled \u7684\u5E94\u7528</td></tr><tr><td>-s</td><td>\u53EA\u663E\u793A\u7CFB\u7EDF\u5E94\u7528</td></tr><tr><td>-3</td><td>\u53EA\u663E\u793A\u7B2C\u4E09\u65B9\u5E94\u7528</td></tr><tr><td>-i</td><td>\u663E\u793A\u5E94\u7528\u7684 installer</td></tr><tr><td>-u</td><td>\u5305\u542B\u5DF2\u5378\u8F7D\u5E94\u7528</td></tr><tr><td><code>&lt;FILTER&gt;</code></td><td>\u5305\u540D\u5305\u542B <code>&lt;FILTER&gt;</code> \u5B57\u7B26\u4E32</td></tr></tbody></table><p><strong>activity manager (am)</strong> <br> adb shell am [subcommand] [options]</p><table><thead><tr><th>command</th><th>\u7528\u9014</th></tr></thead><tbody><tr><td>start [options] <code>&lt;INTENT&gt;</code></td><td>\u542F\u52A8 <code>&lt;INTENT&gt;</code>\u6307\u5B9A\u7684 Activity</td></tr><tr><td>startservice [options] <code>&lt;INTENT&gt;</code></td><td>\u542F\u52A8 <code>&lt;INTENT&gt;</code>\u6307\u5B9A\u7684 Service</td></tr><tr><td>stopservice</td><td></td></tr><tr><td>broadcast [options] <code>&lt;INTENT&gt;</code></td><td>\u53D1\u9001 <code>&lt;INTENT&gt;</code>\u6307\u5B9A\u7684\u5E7F\u64AD</td></tr><tr><td>force-stop <code>&lt;packages&gt;</code></td><td>\u505C\u6B62 <code>&lt;packages&gt;</code>\u76F8\u5173\u7684\u8FDB\u7A0B</td></tr><tr><td>kill [<em>options</em>] <em>package</em></td><td></td></tr><tr><td>kill-all</td><td>\u7EC8\u6B62\u6240\u6709\u540E\u53F0\u8FDB\u7A0B</td></tr><tr><td>instrument [<em>options</em>] <em>component</em></td><td>\u4F7F\u7528 <a href="https://developer.android.google.cn/reference/android/app/Instrumentation?hl=zh-cn" target="_blank" rel="noreferrer">Instrumentation</a>\u5B9E\u4F8B\u542F\u52A8\u76D1\u63A7</td></tr><tr><td>profile start <em>processfile</em></td><td>\u542F\u52A8 <em>process</em> \u7684\u6027\u80FD\u5256\u6790\u5668\uFF0C\u5C06\u7ED3\u679C\u5199\u5165 <em>file</em>\u3002</td></tr><tr><td>profile stop <em>process</em></td><td>\u505C\u6B62 <em>process</em> \u7684\u6027\u80FD\u5256\u6790\u5668\u3002</td></tr><tr><td>dumpheap [<em>options</em>] <em>processfile</em></td><td>\u8F6C\u50A8 <em>process</em> \u7684\u5806\uFF0C\u5199\u5165 <em>file</em>\u3002</td></tr><tr><td>set-debug-app [<em>options</em>] <em>package</em></td><td>\u8BBE\u7F6E\u8981\u8C03\u8BD5\u7684\u5E94\u7528 <em>package</em>\u3002</td></tr><tr><td>clear-debug-app</td><td>\u6E05\u9664\u4E4B\u524D\u4F7F\u7528 set-debug-app \u8BBE\u7F6E\u7684\u5F85\u8C03\u8BD5\u8F6F\u4EF6\u5305\u3002</td></tr><tr><td>monitor [<em>options</em>]</td><td>\u5F00\u59CB\u76D1\u63A7\u5D29\u6E83\u6216 ANR\u3002</td></tr><tr><td>screen-compat {on | off} <em>package</em></td><td>\u63A7\u5236 <em>package</em> \u7684<a href="https://developer.android.google.cn/guide/practices/screen-compat-mode?hl=zh-cn" target="_blank" rel="noreferrer">\u5C4F\u5E55\u517C\u5BB9\u6027</a>\u6A21\u5F0F\u3002</td></tr><tr><td>display-size [reset | <em>width_x_height</em>]</td><td>\u66FF\u6362\u8BBE\u5907\u663E\u793A\u5C3A\u5BF8\u3002\u6B64\u547D\u4EE4\u652F\u6301\u4F7F\u7528\u5927\u5C4F\u8BBE\u5907\u6A21\u4EFF\u5C0F\u5C4F\u5E55\u5206\u8FA8\u7387\uFF08\u53CD\u4E4B\u4EA6\u7136\uFF09</td></tr><tr><td>display-density <em>dpi</em></td><td>\u66FF\u6362\u8BBE\u5907\u663E\u793A\u5BC6\u5EA6\u3002\u6B64\u547D\u4EE4\u652F\u6301\u4F7F\u7528\u4F4E\u5BC6\u5EA6\u5C4F\u5E55\u5728\u9AD8\u5BC6\u5EA6\u5C4F\u5E55\u73AF\u5883\u4E0A\u8FDB\u884C\u6D4B\u8BD5\uFF08\u53CD\u4E4B\u4EA6\u7136\uFF09</td></tr><tr><td>to-uri <em>intent</em></td><td>\u4EE5 URI \u7684\u5F62\u5F0F\u8F93\u51FA\u7ED9\u5B9A\u7684 intent \u89C4\u8303</td></tr><tr><td>to-intent-uri <em>intent</em></td><td>\u4EE5 intent: URI \u7684\u5F62\u5F0F\u8F93\u51FA\u7ED9\u5B9A\u7684 intent \u89C4\u8303</td></tr></tbody></table><p><code>adb shell am start [-D] [-W] [-P &lt;FILE&gt;] [--start-profiler &lt;FILE&gt;]</code> <br> <code> [--sampling INTERVAL] [-R COUNT] [-S] [--opengl-trace]</code> <br> <code> [--user &lt;USER_ID&gt; | current] &lt;INTENT&gt;</code></p><ul><li>-D\uFF1A\u542F\u7528\u8C03\u8BD5\u529F\u80FD\u3002</li><li>-W\uFF1A\u7B49\u5F85\u542F\u52A8\u5B8C\u6210\u3002</li><li>--start-profiler <em>file</em>\uFF1A\u542F\u52A8\u6027\u80FD\u5256\u6790\u5668\u5E76\u5C06\u7ED3\u679C\u53D1\u9001\u81F3 <em>file</em>\u3002</li><li>-P <em>file</em>\uFF1A\u7C7B\u4F3C\u4E8E --start-profiler\uFF0C\u4F46\u5F53\u5E94\u7528\u8FDB\u5165\u7A7A\u95F2\u72B6\u6001\u65F6\u5256\u6790\u505C\u6B62\u3002</li><li>-R <em>count</em>\uFF1A\u91CD\u590D\u542F\u52A8 Activity <em>count</em> \u6B21\u3002\u5728\u6BCF\u6B21\u91CD\u590D\u524D\uFF0C\u5C06\u5B8C\u6210\u9876\u5C42 Activity\u3002</li><li>-S\uFF1A\u5728\u542F\u52A8 Activity \u524D\uFF0C\u5F3A\u884C\u505C\u6B62\u76EE\u6807\u5E94\u7528\u3002</li><li>--opengl-trace\uFF1A\u542F\u7528 OpenGL \u51FD\u6570\u7684\u8DDF\u8E2A\u3002</li><li>--user <em>user_id</em> | current\uFF1A\u6307\u5B9A\u8981\u4F5C\u4E3A\u54EA\u4E2A\u7528\u6237\u8FD0\u884C\uFF1B\u5982\u679C\u672A\u6307\u5B9A\uFF0C\u5219\u4F5C\u4E3A\u5F53\u524D\u7528\u6237\u8FD0\u884C\u3002</li></ul><p>\u7CFB\u7EDF\u9884\u5B9A\u4E49\u5E7F\u64AD</p><table><thead><tr><th>action</th><th>\u89E6\u53D1\u65F6\u673A</th></tr></thead><tbody><tr><td>android.net.conn.CONNECTIVITY_CHANGE</td><td>\u7F51\u7EDC\u8FDE\u63A5\u53D1\u751F\u53D8\u5316</td></tr><tr><td>android.intent.action.SCREEN_ON</td><td>\u5C4F\u5E55\u70B9\u4EAE</td></tr><tr><td>android.intent.action.SCREEN_OFF</td><td>\u5C4F\u5E55\u7184\u706D</td></tr><tr><td>android.intent.action.BATTERY_LOW</td><td>\u7535\u91CF\u4F4E\uFF0C\u4F1A\u5F39\u51FA\u7535\u91CF\u4F4E\u63D0\u793A\u6846</td></tr><tr><td>android.intent.action.BATTERY_OKAY</td><td>\u7535\u91CF\u6062\u590D\u4E86</td></tr><tr><td>android.intent.action.BOOT_COMPLETED</td><td>\u8BBE\u5907\u542F\u52A8\u5B8C\u6BD5</td></tr><tr><td>android.intent.action.DEVICE_STORAGE_LOW</td><td>\u5B58\u50A8\u7A7A\u95F4\u8FC7\u4F4E</td></tr><tr><td>android.intent.action.DEVICE_STORAGE_OK</td><td>\u5B58\u50A8\u7A7A\u95F4\u6062\u590D</td></tr><tr><td>android.intent.action.PACKAGE_ADDED</td><td>\u5B89\u88C5\u4E86\u65B0\u7684\u5E94\u7528</td></tr><tr><td>android.net.wifi.STATE_CHANGE</td><td>WiFi\u8FDE\u63A5\u72B6\u6001\u53D1\u751F\u53D8\u5316</td></tr><tr><td>android.net.wifi.WIFI_STATE_CHANGED</td><td>WiFi\u72B6\u6001\u53D8\u4E3A\u542F\u7528/\u5173\u95ED/\u6B63\u5728\u542F\u52A8/\u6B63\u5728\u5173\u95ED/\u672A\u77E5</td></tr><tr><td>android.intent.action.BATTERY_CHANGED</td><td>\u7535\u6C60\u7535\u91CF\u53D1\u751F\u53D8\u5316</td></tr><tr><td>android.intent.action.INPUT_METHOD_CHANGED</td><td>\u7CFB\u7EDF\u8F93\u5165\u6CD5\u53D1\u751F\u53D8\u5316</td></tr><tr><td>android.intent.action.ACTION_POWER_CONNECTED</td><td>\u5916\u90E8\u7535\u6E90\u8FDE\u63A5</td></tr><tr><td>android.intent.action.ACTION_POWER_DISCONNECTED</td><td>\u5916\u90E8\u7535\u6E90\u65AD\u5F00\u8FDE\u63A5</td></tr><tr><td>android.intent.action.DREAMING_STARTED</td><td>\u7CFB\u7EDF\u5F00\u59CB\u4F11\u7720</td></tr><tr><td>android.intent.action.DREAMING_STOPPED</td><td>\u7CFB\u7EDF\u505C\u6B62\u4F11\u7720</td></tr><tr><td>android.intent.action.WALLPAPER_CHANGED</td><td>\u58C1\u7EB8\u53D1\u751F\u53D8\u5316</td></tr><tr><td>android.intent.action.HEADSET_PLUG</td><td>\u63D2\u5165\u8033\u673A</td></tr><tr><td>android.intent.action.MEDIA_UNMOUNTED</td><td>\u5378\u8F7D\u5916\u90E8\u4ECB\u8D28</td></tr><tr><td>android.intent.action.MEDIA_MOUNTED</td><td>\u6302\u8F7D\u5916\u90E8\u4ECB\u8D28</td></tr><tr><td>android.os.action.POWER_SAVE_MODE_CHANGED</td><td>\u7701\u7535\u6A21\u5F0F\u5F00\u542F</td></tr></tbody></table><p><strong>device policy manager (dpm\uFF0C\u8BBE\u5907\u653F\u7B56\u7BA1\u7406\u5668)</strong></p><table><thead><tr><th>\u547D\u4EE4</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>set-active-admin [options] component</td><td>\u5C06 component \u8BBE\u4E3A\u6D3B\u52A8\u7BA1\u7406\u3002</td></tr><tr><td>set-profile-owner [options] component</td><td>\u5C06 component \u8BBE\u4E3A\u6D3B\u52A8\u7BA1\u7406\uFF0C\u5E76\u5C06\u5176\u8F6F\u4EF6\u5305\u8BBE\u4E3A\u73B0\u6709\u7528\u6237\u7684\u4E2A\u4EBA\u8D44\u6599\u6240\u6709\u8005</td></tr><tr><td>set-device-owner [options] component</td><td>\u5C06 component \u8BBE\u4E3A\u6D3B\u52A8\u7BA1\u7406\uFF0C\u5E76\u5C06\u5176\u8F6F\u4EF6\u5305\u8BBE\u4E3A\u8BBE\u5907\u6240\u6709\u8005</td></tr><tr><td>remove-active-admin [options] component</td><td>\u505C\u7528\u6D3B\u52A8\u7BA1\u7406</td></tr><tr><td>force-network-logs</td><td>\u5F3A\u5236\u7CFB\u7EDF\u8BA9\u4EFB\u4F55\u73B0\u6709\u7F51\u7EDC\u65E5\u5FD7\u968F\u65F6\u53EF\u4F9B DPC \u68C0\u7D22</td></tr><tr><td>force-security-logs</td><td>\u5F3A\u5236\u7CFB\u7EDF\u5411 DPC \u63D0\u4F9B\u4EFB\u4F55\u73B0\u6709\u5B89\u5168\u65E5\u5FD7</td></tr></tbody></table><h5 id="\u6A21\u62DF\u64CD\u4F5C" tabindex="-1">\u6A21\u62DF\u64CD\u4F5C <a class="header-anchor" href="#\u6A21\u62DF\u64CD\u4F5C" aria-hidden="true">#</a></h5><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">adb shell input </span><span style="color:#89DDFF;">[&lt;</span><span style="color:#A6ACCD;">source</span><span style="color:#89DDFF;">&gt;]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">command</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[&lt;</span><span style="color:#A6ACCD;">arg</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">...</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">sources</span></span>
<span class="line"><span style="color:#A6ACCD;">      mouse</span></span>
<span class="line"><span style="color:#A6ACCD;">      keyboard</span></span>
<span class="line"><span style="color:#A6ACCD;">      joystick</span></span>
<span class="line"><span style="color:#A6ACCD;">      touchnavigation</span></span>
<span class="line"><span style="color:#A6ACCD;">      touchpad</span></span>
<span class="line"><span style="color:#A6ACCD;">      trackball</span></span>
<span class="line"><span style="color:#A6ACCD;">      stylus</span></span>
<span class="line"><span style="color:#A6ACCD;">      dpad</span></span>
<span class="line"><span style="color:#A6ACCD;">      gesture</span></span>
<span class="line"><span style="color:#A6ACCD;">      touchscreen</span></span>
<span class="line"><span style="color:#A6ACCD;">      gamepad</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span></span>
<span class="line"><span style="color:#A6ACCD;">The commands and default sources are:</span></span>
<span class="line"><span style="color:#A6ACCD;">      text </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">string</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Default: touchscreen</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">	\u8F93\u5165\u4FE1\u606F</span></span>
<span class="line"><span style="color:#A6ACCD;">      keyevent </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--longpress</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">key code number or name</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> ... </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Default: keyboard</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">	\u5C4F\u5E55\u6309\u952E</span></span>
<span class="line"><span style="color:#A6ACCD;">      tap </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Default: touchscreen</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">		\u5C4F\u5E55\u70B9\u51FB</span></span>
<span class="line"><span style="color:#A6ACCD;">      swipe </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">1&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">1&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">2&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">2&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">duration</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">ms</span><span style="color:#89DDFF;">)]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Default: touchscreen</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">	\u624B\u52BF\u6ED1\u52A8</span></span>
<span class="line"><span style="color:#A6ACCD;">      press </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Default: trackball</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">      roll </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">dx</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">dy</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Default: trackball</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>\u6A21\u62DF<strong>\u957F\u6309\uFF08long press\uFF09</strong> <br> adb shell input swipe 100 500 100 500 500</p><table><thead><tr><th>keycode</th><th>\u542B\u4E49</th></tr></thead><tbody><tr><td>3</td><td>HOME \u952E</td></tr><tr><td>4</td><td>\u8FD4\u56DE\u952E</td></tr><tr><td>5</td><td>\u6253\u5F00\u62E8\u53F7\u5E94\u7528</td></tr><tr><td>6</td><td>\u6302\u65AD\u7535\u8BDD</td></tr><tr><td>24</td><td>\u589E\u52A0\u97F3\u91CF</td></tr><tr><td>25</td><td>\u964D\u4F4E\u97F3\u91CF</td></tr><tr><td>26</td><td>\u7535\u6E90\u952E</td></tr><tr><td>27</td><td>\u62CD\u7167\uFF08\u9700\u8981\u5728\u76F8\u673A\u5E94\u7528\u91CC\uFF09</td></tr><tr><td>64</td><td>\u6253\u5F00\u6D4F\u89C8\u5668</td></tr><tr><td>82</td><td>\u83DC\u5355\u952E</td></tr><tr><td>85</td><td>\u64AD\u653E/\u6682\u505C</td></tr><tr><td>86</td><td>\u505C\u6B62\u64AD\u653E</td></tr><tr><td>87</td><td>\u64AD\u653E\u4E0B\u4E00\u9996</td></tr><tr><td>88</td><td>\u64AD\u653E\u4E0A\u4E00\u9996</td></tr><tr><td>122</td><td>\u79FB\u52A8\u5149\u6807\u5230\u884C\u9996\u6216\u5217\u8868\u9876\u90E8</td></tr><tr><td>123</td><td>\u79FB\u52A8\u5149\u6807\u5230\u884C\u672B\u6216\u5217\u8868\u5E95\u90E8</td></tr><tr><td>126</td><td>\u6062\u590D\u64AD\u653E</td></tr><tr><td>127</td><td>\u6682\u505C\u64AD\u653E</td></tr><tr><td>164</td><td>\u9759\u97F3</td></tr><tr><td>176</td><td>\u6253\u5F00\u7CFB\u7EDF\u8BBE\u7F6E</td></tr><tr><td>187</td><td>\u5207\u6362\u5E94\u7528</td></tr><tr><td>207</td><td>\u6253\u5F00\u8054\u7CFB\u4EBA</td></tr><tr><td>208</td><td>\u6253\u5F00\u65E5\u5386</td></tr><tr><td>209</td><td>\u6253\u5F00\u97F3\u4E50</td></tr><tr><td>210</td><td>\u6253\u5F00\u8BA1\u7B97\u5668</td></tr><tr><td>220</td><td>\u964D\u4F4E\u5C4F\u5E55\u4EAE\u5EA6</td></tr><tr><td>221</td><td>\u63D0\u9AD8\u5C4F\u5E55\u4EAE\u5EA6</td></tr><tr><td>223</td><td>\u7CFB\u7EDF\u4F11\u7720</td></tr><tr><td>224</td><td>\u70B9\u4EAE\u5C4F\u5E55</td></tr><tr><td>231</td><td>\u6253\u5F00\u8BED\u97F3\u52A9\u624B</td></tr><tr><td>276</td><td>\u5982\u679C\u6CA1\u6709 wakelock \u5219\u8BA9\u7CFB\u7EDF\u4F11\u7720</td></tr></tbody></table><p><a href="https://developer.android.google.cn/studio/command-line/perfetto?hl=zh-cn" target="_blank" rel="noreferrer"><strong>perfetto</strong></a> <br> \u6536\u96C6\u6027\u80FD\u8DDF\u8E2A\u6570\u636E</p><ul><li><p>\u4F7F\u7528 ftrace \u6536\u96C6\u5185\u6838\u4FE1\u606F</p></li><li><p>\u4F7F\u7528 atrace \u6536\u96C6\u670D\u52A1\u548C\u5E94\u7528\u4E2D\u7684\u7528\u6237\u7A7A\u95F4\u6CE8\u91CA</p></li><li><p>\u4F7F\u7528 heapprofd \u6536\u96C6\u670D\u52A1\u548C\u5E94\u7528\u7684\u672C\u5730\u5185\u5B58\u4F7F\u7528\u60C5\u51B5\u4FE1\u606F</p></li><li><p>**\u8F7B\u91CF\u6A21\u5F0F\uFF1A**\u53EA\u80FD\u9009\u62E9\u4E00\u90E8\u5206\u6570\u636E\u6E90\uFF0C\u5177\u4F53\u6765\u8BF4\u5C31\u662F atrace \u548C ftrace\u3002\u4F46\u6B64\u6A21\u5F0F\u53EF\u63D0\u4F9B\u7C7B\u4F3C\u4E8E <a href="https://developer.android.google.cn/topic/performance/tracing/command-line?hl=zh-cn" target="_blank" rel="noreferrer">systrace</a> \u7684\u63A5\u53E3\u3002</p></li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">adb shell perfetto </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> --time TIMESPEC </span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> --buffer SIZE </span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> --size SIZE </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">             </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> ATRACE_CAT </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> FTRACE_GROUP/FTRACE_NAME </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> FTRACE_GROUP/</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">...</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><strong>\u666E\u901A\u6A21\u5F0F</strong>\uFF1A\u4ECE\u534F\u8BAE\u7F13\u51B2\u533A\u83B7\u53D6\u5176\u914D\u7F6E\uFF0C\u5E76\u4E14\u53EF\u4EE5\u8BA9\u60A8\u4F7F\u7528 atrace \u548C ftrace \u4E4B\u5916\u7684\u6570\u636E\u6E90\uFF0C\u4ECE\u800C\u66F4\u52A0\u5145\u5206\u5730\u5229\u7528\xA0perfetto\xA0\u7684\u529F\u80FD\u3002</li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">adb shell perfetto </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> --txt </span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> --config CONFIG_FILE</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><table><thead><tr><th>\u9009\u9879</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>--background | -d</td><td>Perfetto \u7ACB\u5373\u9000\u51FA\u547D\u4EE4\u884C\u754C\u9762\uFF0C\u5E76\u7EE7\u7EED\u5728\u540E\u53F0\u8BB0\u5F55\u60A8\u7684\u8DDF\u8E2A\u6570\u636E\u3002</td></tr><tr><td>--out <strong><em>OUT_FILE</em></strong> | -o <strong><em>OUT_FILE</em></strong></td><td>\u4E3A\u8F93\u51FA\u8DDF\u8E2A\u6587\u4EF6\u6216 stdout \u6307\u5B9A\u6240\u9700\u7684\u8DEF\u5F84\u3002perfetto \u5C06\u8F93\u51FA\u5185\u5BB9\u5199\u5165\u4E0A\u8FF0\u6807\u8BB0\u6240\u8FF0\u7684\u6587\u4EF6\u3002\u8F93\u51FA\u683C\u5F0F\u5C06\u7528 <a href="https://android.googlesource.com/platform/external/perfetto/+/refs/tags/android-q-preview-5/protos/perfetto/trace/trace.proto" target="_blank" rel="noreferrer">AOSPtrace.proto</a> \u4E2D\u5B9A\u4E49\u7684\u683C\u5F0F\u7F16\u8BD1\u3002</td></tr><tr><td>--dropbox <strong><em>TAG</em></strong></td><td>\u4F7F\u7528\u60A8\u6307\u5B9A\u7684\u6807\u7B7E\u901A\u8FC7 <a href="https://developer.android.google.cn/reference/android/os/DropBoxManager.html?hl=zh-cn" target="_blank" rel="noreferrer">DropBoxManager API</a> \u6765\u4E0A\u4F20\u60A8\u7684\u8DDF\u8E2A\u6570\u636E\u3002</td></tr><tr><td>--no-guardrails</td><td>\u5728\u6D4B\u8BD5\u4E2D\u542F\u7528 --dropbox \u6807\u8BB0\u65F6\uFF0C\u505C\u7528\u9632\u6B62\u8D44\u6E90\u8FC7\u591A\u4F7F\u7528\u7684\u4FDD\u62A4\u63AA\u65BD\u3002</td></tr><tr><td>--reset-guardrails</td><td>\u91CD\u7F6E guardrails \u7684\u6301\u4E45\u72B6\u6001\u5E76\u9000\u51FA\uFF08\u7528\u4E8E\u6D4B\u8BD5\uFF09\u3002</td></tr><tr><td>--query</td><td>\u67E5\u8BE2\u670D\u52A1\u72B6\u6001\uFF0C\u5E76\u5C06\u5176\u8F93\u51FA\u4E3A\u7528\u6237\u53EF\u8BFB\u7684\u6587\u672C\u3002</td></tr><tr><td>--query-raw</td><td>\u4E0E\u201C--query\u201D\u7C7B\u4F3C\uFF0C\u4F46\u4F1A\u8F93\u51FA tracing_service_state.proto. \u7684\u539F\u59CB proto \u7F16\u7801\u5B57\u8282\u3002</td></tr><tr><td>--help | -h</td><td>\u8F93\u51FA perfetto \u5DE5\u5177\u7684\u5E2E\u52A9\u6587\u672C\u3002</td></tr></tbody></table><p><strong>root</strong> <br> adb [root | unroot]</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#676E95;"># \u67E5\u770B\u8FDE\u63A5\u8FC7\u7684 WiFi \u5BC6\u7801</span></span>
<span class="line"><span style="color:#A6ACCD;">adb shell </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">su -c &#39;cat /data/misc/wifi/*.conf&#39;</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#676E95;"># \u5F00\u542F/\u5173\u95ED WiFi</span></span>
<span class="line"><span style="color:#A6ACCD;">adb shell svc wifi </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">enable </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> disable</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#676E95;"># \u542F\u7528/\u7981\u7528 SELinux</span></span>
<span class="line"><span style="color:#A6ACCD;">adb shell setenforce </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">1 </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> 0</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#676E95;"># \u542F\u7528/\u7981\u7528 dm_verity</span></span>
<span class="line"><span style="color:#A6ACCD;">adb </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">enable-verity </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> disable-verity</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>dm-verity\u662FDevice mapper\u67B6\u6784\u4E0B\u7684\u4E00\u79CD\u76EE\u6807\u8BBE\u5907\u7C7B\u578B\uFF0C\u901A\u8FC7\u5B83\u6765\u4FDD\u969C\u8BBE\u5907\u6216\u8BBE\u5907\u5206\u533A\u7684\u5B8C\u6574\u6027 <br> Device Mapper\u4E3ALinux\u5185\u6838\u63D0\u4F9B\u4E86\u4E00\u4E2A\u4ECE\u903B\u8F91\u8BBE\u5907\u5230\u7269\u7406\u8BBE\u5907\u7684\u6620\u5C04\u6846\u67B6\uFF0C\u7528\u4E8E\u5B9A\u5236\u8D44\u6E90\u7684\u7BA1\u7406\u7B56\u7565</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">global options:</span></span>
<span class="line"><span style="color:#A6ACCD;"> -a         listen on all network interfaces, not just localhost</span></span>
<span class="line"><span style="color:#A6ACCD;"> -d         use USB device </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">error </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> multiple devices connected)</span></span>
<span class="line"><span style="color:#A6ACCD;"> -e         use TCP/IP device </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">error </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> multiple TCP/IP devices available)</span></span>
<span class="line"><span style="color:#A6ACCD;"> -s SERIAL  use device with given serial </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">overrides </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">ANDROID_SERIAL</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;"> -t ID      use device with given transport id</span></span>
<span class="line"><span style="color:#A6ACCD;"> -H         name of adb server host </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">localhost</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;"> -P         port of adb server </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">5037</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;"> -L SOCKET  listen on given socket </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> adb server </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">tcp:localhost:5037</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">general commands:</span></span>
<span class="line"><span style="color:#A6ACCD;"> devices </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-l</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">             list connected devices </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">-l </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> long output</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">help</span><span style="color:#A6ACCD;">                     show this </span><span style="color:#82AAFF;">help</span><span style="color:#A6ACCD;"> message</span></span>
<span class="line"><span style="color:#A6ACCD;"> version                  show version num</span></span>
<span class="line"><span style="color:#A6ACCD;">networking:</span></span>
<span class="line"><span style="color:#A6ACCD;"> connect HOST</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">:PORT</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">      connect to a device via TCP/IP</span></span>
<span class="line"><span style="color:#A6ACCD;"> disconnect </span><span style="color:#89DDFF;">[[</span><span style="color:#A6ACCD;">HOST</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">:PORT] disconnect from given TCP/IP device, or all</span></span>
<span class="line"><span style="color:#A6ACCD;"> forward --list           list all forward socket connections</span></span>
<span class="line"><span style="color:#A6ACCD;"> forward </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--no-rebind</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> LOCAL REMOTE</span></span>
<span class="line"><span style="color:#A6ACCD;">     forward socket connection using:</span></span>
<span class="line"><span style="color:#A6ACCD;">       tcp:</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">port</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(&lt;</span><span style="color:#A6ACCD;">local</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> may be </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tcp:0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> to pick any open port</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">       localabstract:</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">unix domain socket name</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">       localreserved:</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">unix domain socket name</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">       localfilesystem:</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">unix domain socket name</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">       dev:</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">character device name</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">       jdwp:</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">process pid</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">remote only</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">       acceptfd:</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">fd</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">listen only</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;"> forward --remove LOCAL   remove specific forward socket connection</span></span>
<span class="line"><span style="color:#A6ACCD;"> forward --remove-all     remove all forward socket connections</span></span>
<span class="line"><span style="color:#A6ACCD;"> ppp TTY </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">PARAMETER...</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">   run PPP over USB</span></span>
<span class="line"><span style="color:#A6ACCD;"> reverse --list           list all reverse socket connections from device</span></span>
<span class="line"><span style="color:#A6ACCD;"> reverse </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--no-rebind</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> REMOTE LOCAL</span></span>
<span class="line"><span style="color:#A6ACCD;">     reverse socket connection using:</span></span>
<span class="line"><span style="color:#A6ACCD;">       tcp:</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">port</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(&lt;</span><span style="color:#A6ACCD;">remote</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> may be </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tcp:0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> to pick any open port</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">       localabstract:</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">unix domain socket name</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">       localreserved:</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">unix domain socket name</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">       localfilesystem:</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">unix domain socket name</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"> reverse --remove REMOTE  remove specific reverse socket connection</span></span>
<span class="line"><span style="color:#A6ACCD;"> reverse --remove-all     remove all reverse socket connections from device</span></span>
<span class="line"><span style="color:#A6ACCD;">file transfer</span></span>
<span class="line"><span style="color:#A6ACCD;"> push </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--sync</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> LOCAL... REMOTE</span></span>
<span class="line"><span style="color:#A6ACCD;">     copy </span><span style="color:#C792EA;">local</span><span style="color:#A6ACCD;"> files/directories to device</span></span>
<span class="line"><span style="color:#A6ACCD;">     --sync: only push files that are newer on the host than the device</span></span>
<span class="line"><span style="color:#A6ACCD;"> pull </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-a</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> REMOTE... LOCAL</span></span>
<span class="line"><span style="color:#A6ACCD;">     copy files/dirs from device</span></span>
<span class="line"><span style="color:#A6ACCD;">     -a: preserve file timestamp and mode</span></span>
<span class="line"><span style="color:#A6ACCD;"> sync </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">all</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">data</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">odm</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">oem</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">product</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">system</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">system_ext</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">vendor</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">     sync a </span><span style="color:#C792EA;">local</span><span style="color:#A6ACCD;"> build from </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">ANDROID_PRODUCT_OUT to the device </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">default all</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">     -l: list files that would be copied, but don</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">t copy them</span></span>
<span class="line"><span style="color:#C3E88D;">shell</span></span>
<span class="line"><span style="color:#C3E88D;"> shell [-e ESCAPE] [-n] [-Tt] [-x] [COMMAND...]</span></span>
<span class="line"><span style="color:#C3E88D;">     run remote shell command (interactive shell if no command given)</span></span>
<span class="line"><span style="color:#C3E88D;">     -e: choose escape character, or &quot;none&quot;; default </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">~</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">     -n: don</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">t </span><span style="color:#82AAFF;">read</span><span style="color:#A6ACCD;"> from stdin</span></span>
<span class="line"><span style="color:#A6ACCD;">     -T: disable pty allocation</span></span>
<span class="line"><span style="color:#A6ACCD;">     -t: allocate a pty </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> on a tty </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">-tt: force pty allocation</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">     -x: disable remote </span><span style="color:#82AAFF;">exit</span><span style="color:#A6ACCD;"> codes and stdout/stderr separation</span></span>
<span class="line"><span style="color:#A6ACCD;"> emu COMMAND              run emulator console </span><span style="color:#82AAFF;">command</span></span>
<span class="line"><span style="color:#A6ACCD;"> install </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-lrtsdg</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--instant</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> PACKAGE</span></span>
<span class="line"><span style="color:#A6ACCD;">     push a single package to the device and install it</span></span>
<span class="line"><span style="color:#A6ACCD;"> install-multiple </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-lrtsdpg</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--instant</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> PACKAGE...</span></span>
<span class="line"><span style="color:#A6ACCD;">     push multiple APKs to the device </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> a single package and install them</span></span>
<span class="line"><span style="color:#A6ACCD;"> install-multi-package </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-lrtsdpg</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">--instant</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> PACKAGE...</span></span>
<span class="line"><span style="color:#A6ACCD;">     push one or more packages to the device and install them atomically</span></span>
<span class="line"><span style="color:#A6ACCD;">     -r: replace existing application</span></span>
<span class="line"><span style="color:#A6ACCD;">     -t: allow </span><span style="color:#82AAFF;">test</span><span style="color:#A6ACCD;"> packages</span></span>
<span class="line"><span style="color:#A6ACCD;">     -d: allow version code downgrade </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">debuggable packages only</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">     -p: partial application install </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">install-multiple only</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">     -g: grant all runtime permissions</span></span>
<span class="line"><span style="color:#A6ACCD;">     --abi ABI: override platform</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s default ABI</span></span>
<span class="line"><span style="color:#C3E88D;">     --instant: cause the app to be installed as an ephemeral install app</span></span>
<span class="line"><span style="color:#C3E88D;">     --no-streaming: always push APK to device and invoke Package Manager as separate steps</span></span>
<span class="line"><span style="color:#C3E88D;">     --streaming: force streaming APK directly into Package Manager</span></span>
<span class="line"><span style="color:#C3E88D;">     --fastdeploy: use fast deploy</span></span>
<span class="line"><span style="color:#C3E88D;">     --no-fastdeploy: prevent use of fast deploy</span></span>
<span class="line"><span style="color:#C3E88D;">     --force-agent: force update of deployment agent when using fast deploy</span></span>
<span class="line"><span style="color:#C3E88D;">     --date-check-agent: update deployment agent when local version is newer and using fast deploy</span></span>
<span class="line"><span style="color:#C3E88D;">     --version-check-agent: update deployment agent when local version has different version code and using fast deploy</span></span>
<span class="line"><span style="color:#C3E88D;">     (See also \`adb shell pm help\` for more options.)</span></span>
<span class="line"><span style="color:#C3E88D;"> uninstall [-k] PACKAGE</span></span>
<span class="line"><span style="color:#C3E88D;">     remove this app package from the device</span></span>
<span class="line"><span style="color:#C3E88D;">     </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">-k</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">: keep the data and cache directories</span></span>
<span class="line"><span style="color:#C3E88D;">debugging:</span></span>
<span class="line"><span style="color:#C3E88D;"> bugreport [PATH]</span></span>
<span class="line"><span style="color:#C3E88D;">     write bugreport to given PATH [default=bugreport.zip];</span></span>
<span class="line"><span style="color:#C3E88D;">     if PATH is a directory, the bug report is saved in that directory.</span></span>
<span class="line"><span style="color:#C3E88D;">     devices that don</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">t support zipped bug reports output to stdout.</span></span>
<span class="line"><span style="color:#A6ACCD;"> jdwp                     list pids of processes hosting a JDWP transport</span></span>
<span class="line"><span style="color:#A6ACCD;"> logcat                   show device log </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">logcat --help </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> more</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">security:</span></span>
<span class="line"><span style="color:#A6ACCD;"> disable-verity           disable dm-verity checking on userdebug builds</span></span>
<span class="line"><span style="color:#A6ACCD;"> enable-verity            re-enable dm-verity checking on userdebug builds</span></span>
<span class="line"><span style="color:#A6ACCD;"> keygen FILE</span></span>
<span class="line"><span style="color:#A6ACCD;">     generate adb public/private key</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> private key stored </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> FILE,</span></span>
<span class="line"><span style="color:#A6ACCD;">scripting:</span></span>
<span class="line"><span style="color:#A6ACCD;"> wait-for</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-TRANSPORT</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">-STATE</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#82AAFF;">wait</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> device to be </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> the given state</span></span>
<span class="line"><span style="color:#A6ACCD;">     STATE: device, recovery, rescue, sideload, bootloader, or disconnect</span></span>
<span class="line"><span style="color:#A6ACCD;">     TRANSPORT: usb, local, or any </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">default</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">any</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;"> get-state                print offline </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> bootloader </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> device</span></span>
<span class="line"><span style="color:#A6ACCD;"> get-serialno             print </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">serial-number</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"> get-devpath              print </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">device-path</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"> remount </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">-R</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">      remount partitions read-write. </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> a reboot is required, -R will</span></span>
<span class="line"><span style="color:#A6ACCD;">      will automatically reboot the device.</span></span>
<span class="line"><span style="color:#A6ACCD;"> reboot </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">bootloader</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">recovery</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">sideload</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">sideload-auto-reboot</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">     reboot the device</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> defaults to booting system image but</span></span>
<span class="line"><span style="color:#A6ACCD;">     supports bootloader and recovery too. sideload reboots</span></span>
<span class="line"><span style="color:#A6ACCD;">     into recovery and automatically starts sideload mode,</span></span>
<span class="line"><span style="color:#A6ACCD;">     sideload-auto-reboot is the same but reboots after sideloading.</span></span>
<span class="line"><span style="color:#A6ACCD;"> sideload OTAPACKAGE      sideload the given full OTA package</span></span>
<span class="line"><span style="color:#A6ACCD;"> root                     restart adbd with root permissions</span></span>
<span class="line"><span style="color:#A6ACCD;"> unroot                   restart adbd without root permissions</span></span>
<span class="line"><span style="color:#A6ACCD;"> usb                      restart adbd listening on USB</span></span>
<span class="line"><span style="color:#A6ACCD;"> tcpip PORT               restart adbd listening on TCP on PORT</span></span>
<span class="line"><span style="color:#A6ACCD;">internal debugging:</span></span>
<span class="line"><span style="color:#A6ACCD;"> start-server             ensure that there is a server running</span></span>
<span class="line"><span style="color:#A6ACCD;"> kill-server              </span><span style="color:#82AAFF;">kill</span><span style="color:#A6ACCD;"> the server </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> it is running</span></span>
<span class="line"><span style="color:#A6ACCD;"> reconnect                kick connection from host side to force reconnect</span></span>
<span class="line"><span style="color:#A6ACCD;"> reconnect device         kick connection from device side to force reconnect</span></span>
<span class="line"><span style="color:#A6ACCD;"> reconnect offline        reset offline/unauthorized devices to force reconnect</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br></div></div><h4 id="logcat" tabindex="-1"><a href="https://developer.android.google.cn/studio/command-line/logcat?hl=zh-cn" target="_blank" rel="noreferrer">logcat</a> <a class="header-anchor" href="#logcat" aria-hidden="true">#</a></h4><p>\u901A\u8FC7 adb \u8C03\u7528\uFF0C\u7528\u4E8E\u67E5\u770B\u5E94\u7528\u548C\u7CFB\u7EDF\u65E5\u5FD7\u3002</p><p>Android \u65E5\u5FD7</p><ul><li>\u5E95\u5C42\u7684 Linux \u5185\u6838\u65E5\u5FD7 /proc/kmsg</li><li>Android \u7684\u65E5\u5FD7 /dev/log</li></ul><p>\u547D\u4EE4\u683C\u5F0F\uFF1A<code>[adb] logcat [&lt;option&gt;] ... [&lt;filter-spec&gt;] ...</code></p><p>\u4F18\u5148\u7EA7\uFF08priority\uFF09</p><ul><li>V \u2014\u2014 Verbose\uFF08\u6700\u4F4E\uFF0C\u8F93\u51FA\u5F97\u6700\u591A\uFF09</li><li>D \u2014\u2014 Debug</li><li>I \u2014\u2014 Info</li><li>W \u2014\u2014 Warning</li><li>E \u2014\u2014 Error</li><li>F \u2014\u2014 Fatal</li><li>S \u2014\u2014 Silent\uFF08\u6700\u9AD8\uFF0C\u4E0D\u8F93\u51FA\uFF09</li></ul><p><strong>\u8F93\u51FA\u683C\u5F0F</strong> <br> <code>-v &lt;format&gt;</code></p><ul><li>brief\uFF1A\u663E\u793A\u4F18\u5148\u7EA7\u3001\u6807\u8BB0\u4EE5\u53CA\u53D1\u51FA\u6D88\u606F\u7684\u8FDB\u7A0B\u7684 PID\u3002</li><li>long\uFF1A\u663E\u793A\u6240\u6709\u5143\u6570\u636E\u5B57\u6BB5\uFF0C\u5E76\u4F7F\u7528\u7A7A\u767D\u884C\u5206\u9694\u6D88\u606F\u3002</li><li>process\uFF1A\u4EC5\u663E\u793A PID\u3002</li><li>raw\uFF1A\u663E\u793A\u4E0D\u5305\u542B\u5176\u4ED6\u5143\u6570\u636E\u5B57\u6BB5\u7684\u539F\u59CB\u65E5\u5FD7\u6D88\u606F\u3002</li><li>tag\uFF1A\u4EC5\u663E\u793A\u4F18\u5148\u7EA7\u548C\u6807\u8BB0\u3002</li><li>thread:\uFF1A\u65E7\u7248\u683C\u5F0F\uFF0C\u663E\u793A\u4F18\u5148\u7EA7\u3001PID \u4EE5\u53CA\u53D1\u51FA\u6D88\u606F\u7684\u7EBF\u7A0B\u7684 TID\u3002</li><li>threadtime\uFF08\u9ED8\u8BA4\u503C\uFF09\uFF1A\u663E\u793A\u65E5\u671F\u3001\u8C03\u7528\u65F6\u95F4\u3001\u4F18\u5148\u7EA7\u3001\u6807\u8BB0\u3001PID \u4EE5\u53CA\u53D1\u51FA\u6D88\u606F\u7684\u7EBF\u7A0B\u7684 TID\u3002</li><li>time\uFF1A\u663E\u793A\u65E5\u671F\u3001\u8C03\u7528\u65F6\u95F4\u3001\u4F18\u5148\u7EA7\u3001\u6807\u8BB0\u4EE5\u53CA\u53D1\u51FA\u6D88\u606F\u7684\u8FDB\u7A0B\u7684 PID\u3002</li></ul><p><strong>\u683C\u5F0F\u4FEE\u9970\u7B26</strong></p><ul><li>color\uFF1A\u4F7F\u7528\u4E0D\u540C\u7684\u989C\u8272\u6765\u663E\u793A\u6BCF\u4E2A\u4F18\u5148\u7EA7\u3002</li><li>descriptive\uFF1A\u663E\u793A\u65E5\u5FD7\u7F13\u51B2\u533A\u4E8B\u4EF6\u8BF4\u660E\u3002\u6B64\u4FEE\u9970\u7B26\u4EC5\u5F71\u54CD\u4E8B\u4EF6\u65E5\u5FD7\u7F13\u51B2\u533A\u6D88\u606F\uFF0C\u4E0D\u4F1A\u5BF9\u5176\u4ED6\u975E\u4E8C\u8FDB\u5236\u6587\u4EF6\u7F13\u51B2\u533A\u4EA7\u751F\u4EFB\u4F55\u5F71\u54CD\u3002\u4E8B\u4EF6\u8BF4\u660E\u53D6\u81EA event-log-tags \u6570\u636E\u5E93\u3002</li><li>epoch\uFF1A\u663E\u793A\u81EA 1970 \u5E74 1 \u6708 1 \u65E5\u4EE5\u6765\u7684\u65F6\u95F4\uFF08\u4EE5\u79D2\u4E3A\u5355\u4F4D\uFF09\u3002</li><li>monotonic\uFF1A\u663E\u793A\u81EA\u4E0A\u6B21\u542F\u52A8\u4EE5\u6765\u7684\u65F6\u95F4\uFF08\u4EE5 CPU \u79D2\u4E3A\u5355\u4F4D\uFF09\u3002</li><li>printable\uFF1A\u786E\u4FDD\u6240\u6709\u4E8C\u8FDB\u5236\u65E5\u5FD7\u8BB0\u5F55\u5185\u5BB9\u90FD\u8FDB\u884C\u4E86\u8F6C\u4E49\u3002</li><li>uid\uFF1A\u5982\u679C\u8BBF\u95EE\u63A7\u5236\u5141\u8BB8\uFF0C\u5219\u663E\u793A UID \u6216\u8BB0\u5F55\u7684\u8FDB\u7A0B\u7684 Android ID\u3002</li><li>usec\uFF1A\u663E\u793A\u7CBE\u786E\u5230\u5FAE\u79D2\u7684\u65F6\u95F4\u3002</li><li>UTC\uFF1A\u663E\u793A UTC \u65F6\u95F4\u3002</li><li>year\uFF1A\u5C06\u5E74\u4EFD\u6DFB\u52A0\u5230\u663E\u793A\u7684\u65F6\u95F4\u3002</li><li>zone\uFF1A\u5C06\u672C\u5730\u65F6\u533A\u6DFB\u52A0\u5230\u663E\u793A\u7684\u65F6\u95F4\u3002</li></ul><p><strong>\u5907\u7528\u65E5\u5FD7\u7F13\u51B2\u533A</strong> <br> <code>-b &lt;buffer&gt;</code></p><ul><li>radio\uFF1A\u67E5\u770B\u5305\u542B\u65E0\u7EBF\u88C5\u7F6E/\u7535\u8BDD\u76F8\u5173\u6D88\u606F\u7684\u7F13\u51B2\u533A\u3002</li><li>events\uFF1A\u67E5\u770B\u5DF2\u7ECF\u8FC7\u89E3\u8BD1\u7684\u4E8C\u8FDB\u5236\u7CFB\u7EDF\u4E8B\u4EF6\u7F13\u51B2\u533A\u6D88\u606F\u3002</li><li>main\uFF1A\u67E5\u770B\u4E3B\u65E5\u5FD7\u7F13\u51B2\u533A\uFF08\u9ED8\u8BA4\uFF09\uFF0C\u4E0D\u5305\u542B\u7CFB\u7EDF\u548C\u5D29\u6E83\u65E5\u5FD7\u6D88\u606F\u3002</li><li>system\uFF1A\u67E5\u770B\u7CFB\u7EDF\u65E5\u5FD7\u7F13\u51B2\u533A\uFF08\u9ED8\u8BA4\uFF09\u3002</li><li>crash\uFF1A\u67E5\u770B\u5D29\u6E83\u65E5\u5FD7\u7F13\u51B2\u533A\uFF08\u9ED8\u8BA4\uFF09\u3002</li><li>all\uFF1A\u67E5\u770B\u6240\u6709\u7F13\u51B2\u533A\u3002</li><li>default\uFF1A\u62A5\u544A main\u3001system \u548C crash \u7F13\u51B2\u533A</li></ul><h4 id="fastboot" tabindex="-1">fastboot <a class="header-anchor" href="#fastboot" aria-hidden="true">#</a></h4><p>\u5C06\u5E73\u53F0\u6216\u5176\u4ED6\u7CFB\u7EDF\u6620\u50CF\u5237\u5199\u5230\u8BBE\u5907\u4E0A</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">fastboot </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">option</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">command</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">commands:</span></span>
<span class="line"><span style="color:#A6ACCD;">  devices                                  list all connected devices</span></span>
<span class="line"><span style="color:#A6ACCD;">  reboot                                   reboot device normally</span></span>
<span class="line"><span style="color:#A6ACCD;">  reboot-bootloader                        reboot device into bootloader</span></span>
<span class="line"><span style="color:#A6ACCD;">  flashall                                 flash boot + recovery + system</span></span>
<span class="line"><span style="color:#A6ACCD;">  flash </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">partition</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">filename</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">         write a file to a flash partition</span></span>
<span class="line"><span style="color:#A6ACCD;">  erase </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">partition</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">                        erase a flash partition</span></span>
<span class="line"><span style="color:#A6ACCD;">  getvar </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">variable</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">                        display a bootloader variable</span></span>
<span class="line"><span style="color:#A6ACCD;">  update </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">filename</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">                        reflash device from update.zip</span></span>
<span class="line"><span style="color:#A6ACCD;">  boot </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">kernel</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">ramdisk</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">              download and boot kernel</span></span>
<span class="line"><span style="color:#A6ACCD;">  flash:raw boot </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">kernel</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">ramdisk</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">    create bootimage and flash it</span></span>
<span class="line"><span style="color:#A6ACCD;">options:</span></span>
<span class="line"><span style="color:#A6ACCD;">  -w                                       erase userdata and cache</span></span>
<span class="line"><span style="color:#A6ACCD;">  -s </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">serial number</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">                       specify device serial number</span></span>
<span class="line"><span style="color:#A6ACCD;">  -p </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">product</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">                             specify product name</span></span>
<span class="line"><span style="color:#A6ACCD;">  -c </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">cmdline</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">                             override kernel commandline</span></span>
<span class="line"><span style="color:#A6ACCD;">  -i </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">vendor id</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">                           specify a custom USB vendor id</span></span>
<span class="line"><span style="color:#A6ACCD;">  -b </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">base_addr</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">                           specify a custom kernel base address</span></span>
<span class="line"><span style="color:#A6ACCD;">  -n </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">page size</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">                           specify the nand page size. default: 2</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>Android\u7CFB\u7EDF\u5206\u533A</strong></p><ul><li>hboot\u2014\u2014\u7CFB\u7EDF\u5F00\u673A\u5F15\u5BFC\u7C7B\u4F3C\u7535\u8111BIOS\uFF0C\u8FD9\u5757\u5237\u9519\u624B\u673A\u5C31\u4F1A\u53D8\u6210\u7816</li><li>radio\u2014\u2014\u901A\u8BAF\u6A21\u5757\u3001\u57FA\u5E26\u3001WIFI\u3001Bluetooth\u7B49\u8854\u63A5\u786C\u4EF6\u7684\u9A71\u52A8\u8F6F\u4EF6</li><li>recovery\u2014\u2014\u7CFB\u7EDF\u6545\u969C\u65F6\u8D1F\u8D23\u6062\u590D</li><li>boot\u2014\u2014Linux\u5D4C\u5165\u5F0F\u7CFB\u7EDF\u5185\u6838</li><li>system\u2014\u2014\u7CFB\u7EDF\u6587\u4EF6\u3001\u5E94\u7528</li><li>cache\u2014\u2014\u7CFB\u7EDF\u8FD0\u884C\u65F6\u4EA7\u751F\u7684\u7F13\u5B58</li><li>userdata\u2014\u2014\u7528\u6237\u4F7F\u7528APP\u4EA7\u751F\u7684\u7F13\u5B58\u6570\u636E</li></ul><h2 id="\u5237\u673A" tabindex="-1">\u5237\u673A <a class="header-anchor" href="#\u5237\u673A" aria-hidden="true">#</a></h2><p>\u91CD\u88C5\u624B\u673A\u7CFB\u7EDF</p><ul><li>fastboot\uFF0C\u4E00\u79CD\u7EBF\u5237\uFF0C\u4F7F\u7528USB\u6570\u636E\u7EBF\u8FDE\u63A5\u624B\u673A\u7684\u4E00\u79CD\u5237\u673A\u6A21\u5F0F\u3002\u7EBF\u5237\u66F4\u53EF\u9760\uFF0C\u5B89\u5168\u3002</li><li>recovery\uFF0C\u4E00\u79CD\u5361\u5237\uFF0C\u5C06\u5237\u673A\u5305\u653E\u5728sd\u5361\u4E0A\uFF0C\u7136\u540E\u5728recovery\u4E2D\u5237\u673A\u7684\u6A21\u5F0F</li></ul><p><strong>\u4E3B\u6D41Android\u624B\u673A\u8FDB\u5165Fastboot\u7684\u65B9\u5F0F\uFF1A\u5173\u673A\u72B6\u6001\u4E0B\uFF0C\u540C\u65F6\u957F\u6309\u3010\u97F3\u91CF-\u3011+\u3010\u7535\u6E90\u952E\u3011</strong></p><p>\u6B65\u9AA4</p><ol><li>\u8FDB\u5165Fastboot\uFF0C\u89E3\u9501\u624B\u673A Bootloader</li><li>\u5237\u5165\u7B2C\u4E09\u65B9 Recovery\uFF08TWRP.img\uFF0CTeamWin Recovery Project\uFF09</li><li>\u5B89\u88C5Magisk.apk\uFF0C\u9700\u79D1\u5B66\u4E0A\u7F51\uFF0CApp\u5185\u4E0B\u8F7DMagisk.zip</li><li>\u901A\u8FC7\u7B2C\u4E09\u65B9 Recovery \u5237\u5165Magisk\uFF0C\u83B7\u53D6Root</li></ol><p>\u52A0\u9501\uFF1Afastboot oem lock</p><p>BootLoader\uFF08\u5F15\u5BFC\u7A0B\u5E8F\uFF09\uFF1A\u5728\u64CD\u4F5C\u7CFB\u7EDF\u5185\u6838\u8FD0\u884C\u4E4B\u524D\u8FD0\u884C\u3002\u53EF\u4EE5\u521D\u59CB\u5316\u786C\u4EF6\u8BBE\u5907\u3001\u5EFA\u7ACB\u5185\u5B58\u7A7A\u95F4\u6620\u5C04\u56FE\uFF0C\u4ECE\u800C\u5C06\u7CFB\u7EDF\u7684\u8F6F\u786C\u4EF6\u73AF\u5883\u5E26\u5230\u4E00\u4E2A\u5408\u9002\u72B6\u6001\uFF0C\u4EE5\u4FBF\u4E3A\u6700\u7EC8\u8C03\u7528\u64CD\u4F5C\u7CFB\u7EDF\u5185\u6838\u51C6\u5907\u597D\u6B63\u786E\u7684\u73AF\u5883\u3002</p><p><strong>Xposed\u6846\u67B6(Xposed Framework)</strong>\uFF1A\u4E00\u5957\u5F00\u6E90\u7684\u3001\u5728Android\u9AD8\u6743\u9650\u6A21\u5F0F\u4E0B\u8FD0\u884C\u7684\u6846\u67B6\u670D\u52A1\uFF0C\u53EF\u4EE5\u5728\u4E0D\u4FEE\u6539<a href="https://baike.baidu.com/item/APK" target="_blank" rel="noreferrer">APK</a>\u6587\u4EF6\u7684\u60C5\u51B5\u4E0B\u5F71\u54CD\u7A0B\u5E8F\u8FD0\u884C(\u4FEE\u6539\u7CFB\u7EDF)\u7684\u6846\u67B6\u670D\u52A1\uFF0C\u57FA\u4E8E\u5B83\u53EF\u4EE5\u5236\u4F5C\u51FA\u8BB8\u591A\u529F\u80FD\u5F3A\u5927\u7684\u6A21\u5757\uFF0C\u4E14\u5728\u529F\u80FD\u4E0D\u51B2\u7A81\u7684\u60C5\u51B5\u4E0B\u540C\u65F6\u8FD0\u4F5C <br> \u4E00\u4E2A\u9488\u5BF9Android\u5E73\u53F0\u7684\u52A8\u6001\u52AB\u6301\u9879\u76EE\uFF0C\u901A\u8FC7\u66FF\u6362/system/bin/app_process\u7A0B\u5E8F\u63A7\u5236zygote\u8FDB\u7A0B\uFF0C\u4F7F\u5F97app_process\u5728\u542F\u52A8\u8FC7\u7A0B\u4E2D\u4F1A\u52A0\u8F7DXposedBridge.jar\u8FD9\u4E2Ajar\u5305\uFF0C\u4ECE\u800C\u5B8C\u6210\u5BF9Zygote\u8FDB\u7A0B\u53CA\u5176\u521B\u5EFA\u7684Dalvik\u865A\u62DF\u673A\u7684\u52AB\u6301\u3002</p><p>Magisk\uFF1A\u901A\u8FC7\u542F\u52A8\u65F6\u5728 boot \u4E2D\u521B\u5EFA\u94A9\u5B50\uFF0C\u628A /data/magisk.img \u6302\u8F7D\u5230 /magisk\uFF0C\u6784\u5EFA\u51FA\u4E00\u4E2A\u5728 system \u57FA\u7840\u4E0A\u80FD\u591F\u81EA\u5B9A\u4E49\u66FF\u6362\uFF0C\u589E\u52A0\u4EE5\u53CA\u5220\u9664\u7684\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u6240\u6709\u64CD\u4F5C\u90FD\u5728\u542F\u52A8\u7684\u65F6\u5019\u5B8C\u6210\uFF0C\u5B9E\u9645\u4E0A\u5E76\u6CA1\u6709\u5BF9 /system \u5206\u533A\u8FDB\u884C\u4FEE\u6539\uFF08\u5373 systemless \u63A5\u53E3\uFF0C\u4EE5\u4E0D\u89E6\u52A8 /system \u7684\u65B9\u5F0F\u4FEE\u6539 /system\uFF09 <br> <img src="`+l+`" alt=""></p><h2 id="monkey" tabindex="-1">Monkey <a class="header-anchor" href="#monkey" aria-hidden="true">#</a></h2><p>\u5411\u7CFB\u7EDF\u53D1\u9001\u4F2A\u968F\u673A\u7684\u7528\u6237\u4E8B\u4EF6\uFF08\u5982\u6309\u952E\u3001\u624B\u52BF\u3001\u89E6\u6478\u5C4F\u7B49\u8F93\u5165\uFF09\uFF0C\u4EE5\u968F\u673A\u4E14\u53EF\u91CD\u590D\u7684\u65B9\u5F0F\u5BF9\u5E94\u7528\u8FDB\u884C\u538B\u529B\u6D4B\u8BD5\u3002</p><p>Monkey\u7A0B\u5E8F\u7531Android\u7CFB\u7EDF\u81EA\u5E26\uFF0C\u4F7F\u7528Java\u8BED\u8A00\u5199\u6210\uFF0C\u5728Android\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u7684\u8DEF\u5F84\uFF1A<code>/system/framework/monkey.jar</code>\uFF1B <br> Monkey.jar\u7A0B\u5E8F\u662F\u7531\u4E00\u4E2A\u540D\u4E3A\u201Cmonkey\u201D\u7684Shell\u811A\u672C\u6765\u542F\u52A8\u6267\u884C\uFF0Cshell\u811A\u672C\u7684\u8DEF\u5F84\uFF1A/system/bin/monkey\uFF1B</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">monkey </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">event-count</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u542F\u52A8\u60A8\u7684\u5E94\u7528\u5E76\u5411\u5176\u53D1\u9001 500 \u4E2A\u4F2A\u968F\u673A\u4E8B\u4EF6\uFF1A</span></span>
<span class="line"><span style="color:#A6ACCD;">adb shell monkey -p your.package.name -v 500</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><table><thead><tr><th>\u7C7B\u522B</th><th>\u9009\u9879</th><th>\u8BF4\u660E</th></tr></thead><tbody><tr><td>\u5E38\u89C4</td><td>--help</td><td>\u8F93\u51FA\u7B80\u5355\u7684\u4F7F\u7528\u6307\u5357\u3002</td></tr><tr><td></td><td>-v</td><td>\u547D\u4EE4\u884C\u4E0A\u7684\u6BCF\u4E2A -v \u90FD\u4F1A\u589E\u52A0\u8BE6\u7EC6\u7A0B\u5EA6\u7EA7\u522B</td></tr><tr><td>\u4E8B\u4EF6</td><td>-s <code>&lt;seed&gt;</code></td><td>\u4F2A\u968F\u673A\u6570\u751F\u6210\u5668\u7684\u79CD\u5B50\u503C\u3002\u5982\u679C\u60A8\u4F7F\u7528\u76F8\u540C\u7684\u79CD\u5B50\u503C\u91CD\u65B0\u8FD0\u884C Monkey\uFF0C\u5B83\u5C06\u4F1A\u751F\u6210\u76F8\u540C\u7684\u4E8B\u4EF6\u5E8F\u5217\u3002</td></tr><tr><td></td><td>--throttle <code>&lt;milliseconds&gt;</code></td><td>\u5728\u4E8B\u4EF6\u4E4B\u95F4\u63D2\u5165\u56FA\u5B9A\u7684\u5EF6\u8FDF\u65F6\u95F4</td></tr><tr><td></td><td>--pct-touch <code>&lt;percent&gt;</code></td><td>\u8C03\u6574\u8F7B\u89E6\u4E8B\u4EF6\u6240\u5360\u767E\u5206\u6BD4\u3002\uFF08\u8F7B\u89E6\u4E8B\u4EF6\u662F\u6307\u5C4F\u5E55\u4E0A\u7684\u5355\u4E2A\u4F4D\u7F6E\u4E0A\u7684\u6309\u4E0B/\u91CA\u653E\u4E8B\u4EF6\u3002\uFF09</td></tr><tr><td></td><td>--pct-motion <code>&lt;percent&gt;</code></td><td>\u8C03\u6574\u52A8\u4F5C\u4E8B\u4EF6\u6240\u5360\u767E\u5206\u6BD4\u3002\uFF08\u52A8\u4F5C\u4E8B\u4EF6\u5305\u62EC\u5C4F\u5E55\u4E0A\u67D0\u4E2A\u4F4D\u7F6E\u7684\u6309\u4E0B\u4E8B\u4EF6\uFF0C\u4E00\u7CFB\u5217\u4F2A\u968F\u673A\u52A8\u4F5C\u548C\u4E00\u4E2A\u91CA\u653E\u4E8B\u4EF6\u3002\uFF09</td></tr><tr><td></td><td>--pct-trackball <code>&lt;percent&gt;</code></td><td>\u8C03\u6574\u8F68\u8FF9\u7403\u4E8B\u4EF6\u6240\u5360\u767E\u5206\u6BD4\u3002\uFF08\u8F68\u8FF9\u7403\u4E8B\u4EF6\u5305\u62EC\u4E00\u4E2A\u6216\u591A\u4E2A\u968F\u673A\u52A8\u4F5C\uFF0C\u6709\u65F6\u540E\u8DDF\u70B9\u51FB\u3002\uFF09</td></tr><tr><td></td><td>--pct-nav <code>&lt;percent&gt;</code></td><td>\u8C03\u6574\u201C\u57FA\u672C\u201D\u5BFC\u822A\u4E8B\u4EF6\u6240\u5360\u767E\u5206\u6BD4\u3002\uFF08\u5BFC\u822A\u4E8B\u4EF6\u5305\u62EC\u5411\u4E0A/\u5411\u4E0B/\u5411\u5DE6/\u5411\u53F3\uFF0C\u4F5C\u4E3A\u65B9\u5411\u8F93\u5165\u8BBE\u5907\u7684\u8F93\u5165\u3002\uFF09</td></tr><tr><td></td><td>--pct-majornav <code>&lt;percent&gt;</code></td><td>\u8C03\u6574\u201C\u4E3B\u8981\u201D\u5BFC\u822A\u4E8B\u4EF6\u6240\u5360\u767E\u5206\u6BD4\u3002\uFF08\u8FD9\u4E9B\u5BFC\u822A\u4E8B\u4EF6\u901A\u5E38\u4F1A\u5BFC\u81F4\u754C\u9762\u4E2D\u7684\u64CD\u4F5C\uFF0C\u4F8B\u5982 5 \u65B9\u5411\u952E\u7684\u4E2D\u95F4\u6309\u94AE\u3001\u8FD4\u56DE\u952E\u6216\u83DC\u5355\u952E\u3002\uFF09</td></tr><tr><td></td><td>--pct-syskeys <code>&lt;percent&gt;</code></td><td>\u8C03\u6574\u201C\u7CFB\u7EDF\u201D\u6309\u952E\u4E8B\u4EF6\u6240\u5360\u767E\u5206\u6BD4\u3002\uFF08\u8FD9\u4E9B\u6309\u952E\u901A\u5E38\u9884\u7559\u4F9B\u7CFB\u7EDF\u4F7F\u7528\uFF0C\u4F8B\u5982\u201C\u4E3B\u5C4F\u5E55\u201D\u3001\u201C\u8FD4\u56DE\u201D\u3001\u201C\u53D1\u8D77\u901A\u8BDD\u201D\u3001\u201C\u7ED3\u675F\u901A\u8BDD\u201D\u6216\u201C\u97F3\u91CF\u63A7\u4EF6\u201D\u3002\uFF09</td></tr><tr><td></td><td>--pct-appswitch <code>&lt;percent&gt;</code></td><td>\u8C03\u6574 Activity \u542F\u52A8\u6B21\u6570\u6240\u5360\u767E\u5206\u6BD4\u3002Monkey \u4F1A\u4EE5\u968F\u673A\u95F4\u9694\u53D1\u8D77 startActivity() \u8C03\u7528\uFF0C\u4EE5\u6700\u5927\u9650\u5EA6\u5730\u8986\u76D6\u8F6F\u4EF6\u5305\u4E2D\u7684\u6240\u6709 Activity\u3002</td></tr><tr><td></td><td>--pct-anyevent <code>&lt;percent&gt;</code></td><td>\u8C03\u6574\u5176\u4ED6\u7C7B\u578B\u4E8B\u4EF6\u6240\u5360\u767E\u5206\u6BD4\u3002\u8FD9\u5305\u62EC\u6240\u6709\u5176\u4ED6\u7C7B\u578B\u7684\u4E8B\u4EF6\uFF0C\u4F8B\u5982\u6309\u952E\u3001\u8BBE\u5907\u4E0A\u7684\u5176\u4ED6\u4E0D\u592A\u5E38\u7528\u7684\u6309\u94AE\u7B49\u7B49\u3002</td></tr><tr><td>\u7EA6\u675F\u6761\u4EF6</td><td>-p <code>&lt;allowed-package-name&gt;</code></td><td>\u4EC5\u5141\u8BB8\u7CFB\u7EDF\u8BBF\u95EE\u8FD9\u4E9B\u8F6F\u4EF6\u5305\u5185\u7684 Activity\u3002\u5982\u679C\u672A\u6307\u5B9A\u4EFB\u4F55\u8F6F\u4EF6\u5305\uFF0CMonkey \u5C06\u5141\u8BB8\u7CFB\u7EDF\u542F\u52A8\u6240\u6709\u8F6F\u4EF6\u5305\u4E2D\u7684 Activity\u3002\u8981\u6307\u5B9A\u591A\u4E2A\u8F6F\u4EF6\u5305\uFF0C\u8BF7\u591A\u6B21\u4F7F\u7528 -p \u9009\u9879\uFF0C\u6BCF\u4E2A\u8F6F\u4EF6\u5305\u5BF9\u5E94\u4E00\u4E2A -p \u9009\u9879\u3002</td></tr><tr><td></td><td>-c <code>&lt;main-category&gt;</code></td><td>\u4EC5\u5141\u8BB8\u7CFB\u7EDF\u8BBF\u95EE\u5176\u4E2D\u4E00\u4E2A\u6307\u5B9A\u7C7B\u522B\u4E2D\u6240\u5217\u7684 Activity\u3002\u5982\u679C\u6CA1\u6709\u6307\u5B9A\u4EFB\u4F55\u7C7B\u522B\uFF0CMonkey \u4F1A\u9009\u62E9 Intent.CATEGORY_LAUNCHER \u6216 Intent.CATEGORY_MONKEY \u7C7B\u522B\u6240\u5217\u7684 Activity\u3002\u8981\u6307\u5B9A\u591A\u4E2A\u7C7B\u522B\uFF0C\u8BF7\u591A\u6B21\u4F7F\u7528 -c \u9009\u9879\uFF0C\u6BCF\u4E2A\u7C7B\u522B\u5BF9\u5E94\u4E00\u4E2A -c \u9009\u9879\u3002</td></tr><tr><td>\u8C03\u8BD5</td><td>--dbg-no-events</td><td>\u521D\u59CB\u542F\u52A8\u5230\u6D4B\u8BD5 Activity\uFF0C\u4F46\u4E0D\u4F1A\u751F\u6210\u4EFB\u4F55\u5176\u4ED6\u4E8B\u4EF6\u3002\u4E3A\u4E86\u83B7\u5F97\u6700\u4F73\u7ED3\u679C\uFF0C\u8BF7\u7ED3\u5408\u4F7F\u7528 -v\u3001\u4E00\u4E2A\u6216\u591A\u4E2A\u8F6F\u4EF6\u5305\u7EA6\u675F\u6761\u4EF6\u4EE5\u53CA\u975E\u96F6\u9650\u5236\uFF0C\u4EE5\u4F7F Monkey \u8FD0\u884C 30 \u79D2\u6216\u66F4\u957F\u65F6\u95F4\u3002\u8FD9\u63D0\u4F9B\u4E86\u4E00\u4E2A\u73AF\u5883\uFF0C\u60A8\u53EF\u4EE5\u5728\u5176\u4E2D\u76D1\u63A7\u5E94\u7528\u8C03\u7528\u7684\u8F6F\u4EF6\u5305\u8F6C\u6362\u64CD\u4F5C\u3002</td></tr><tr><td></td><td>--hprof</td><td>\u5982\u679C\u8BBE\u7F6E\u6B64\u9009\u9879\uFF0C\u5219\u4F1A\u5728 Monkey \u4E8B\u4EF6\u5E8F\u5217\u4E4B\u524D\u548C\u4E4B\u540E\u7ACB\u5373\u751F\u6210\u5206\u6790\u62A5\u544A\u3002\u8FD9\u5C06\u5728 data/misc \u4E0B\u751F\u6210\u5927\u578B\uFF08\u7EA6\u4E3A 5Mb\uFF09\u6587\u4EF6\uFF0C\u56E0\u6B64\u8BF7\u8C28\u614E\u4F7F\u7528\u3002</td></tr><tr><td></td><td>--ignore-crashes</td><td>\u901A\u5E38\uFF0C\u5F53\u5E94\u7528\u5D29\u6E83\u6216\u9047\u5230\u4EFB\u4F55\u7C7B\u578B\u7684\u672A\u5904\u7406\u5F02\u5E38\u65F6\uFF0CMonkey \u5C06\u4F1A\u505C\u6B62\u3002\u5982\u679C\u6307\u5B9A\u6B64\u9009\u9879\uFF0CMonkey \u4F1A\u7EE7\u7EED\u5411\u7CFB\u7EDF\u53D1\u9001\u4E8B\u4EF6\uFF0C\u76F4\u5230\u8BA1\u6570\u5B8C\u6210\u4E3A\u6B62\u3002</td></tr><tr><td></td><td>--ignore-timeouts</td><td>\u901A\u5E38\uFF0C\u5F53\u5E94\u7528\u9047\u5230\u4EFB\u4F55\u7C7B\u578B\u7684\u8D85\u65F6\u9519\u8BEF\uFF08\u4F8B\u5982\u201C\u5E94\u7528\u65E0\u54CD\u5E94\u201D\u5BF9\u8BDD\u6846\uFF09\u65F6\uFF0CMonkey \u5C06\u4F1A\u505C\u6B62\u3002\u5982\u679C\u6307\u5B9A\u6B64\u9009\u9879\uFF0CMonkey \u4F1A\u7EE7\u7EED\u5411\u7CFB\u7EDF\u53D1\u9001\u4E8B\u4EF6\uFF0C\u76F4\u5230\u8BA1\u6570\u5B8C\u6210\u4E3A\u6B62\u3002</td></tr><tr><td></td><td>--ignore-security-exceptions</td><td>\u901A\u5E38\uFF0C\u5F53\u5E94\u7528\u9047\u5230\u4EFB\u4F55\u7C7B\u578B\u7684\u6743\u9650\u9519\u8BEF\uFF08\u4F8B\u5982\uFF0C\u5982\u679C\u5B83\u5C1D\u8BD5\u542F\u52A8\u9700\u8981\u7279\u5B9A\u6743\u9650\u7684 Activity\uFF09\u65F6\uFF0CMonkey \u5C06\u4F1A\u505C\u6B62\u3002</td></tr><tr><td></td><td>--kill-process-after-error</td><td>\u901A\u5E38\uFF0C\u5F53 Monkey \u56E0\u51FA\u9519\u800C\u505C\u6B62\u8FD0\u884C\u65F6\uFF0C\u51FA\u73B0\u6545\u969C\u7684\u5E94\u7528\u5C06\u4FDD\u6301\u8FD0\u884C\u72B6\u6001\u3002\u8BBE\u7F6E\u6B64\u9009\u9879\u540E\uFF0C\u5B83\u5C06\u4F1A\u6307\u793A\u7CFB\u7EDF\u505C\u6B62\u53D1\u751F\u9519\u8BEF\u7684\u8FDB\u7A0B\u3002</td></tr><tr><td></td><td>--monitor-native-crashes</td><td>\u76D1\u89C6\u5E76\u62A5\u544A Android \u7CFB\u7EDF\u539F\u751F\u4EE3\u7801\u4E2D\u53D1\u751F\u7684\u5D29\u6E83\u3002\u5982\u679C\u8BBE\u7F6E\u4E86 --kill-process-after-error\uFF0C\u7CFB\u7EDF\u5C06\u4F1A\u505C\u6B62\u3002</td></tr><tr><td></td><td>--wait-dbg</td><td>\u963B\u6B62 Monkey \u6267\u884C\uFF0C\u76F4\u5230\u4E3A\u5176\u8FDE\u63A5\u4E86\u8C03\u8BD5\u7A0B\u5E8F\u3002</td></tr></tbody></table><h2 id="monkeyrunner" tabindex="-1">monkeyrunner <a class="header-anchor" href="#monkeyrunner" aria-hidden="true">#</a></h2><p>monkeyrunner \u5DE5\u5177\u63D0\u4F9B\u4E86\u4E00\u4E2A API\uFF0C\u7528\u4E8E\u7F16\u5199\u53EF\u4ECE Android \u4EE3\u7801\u5916\u90E8\u63A7\u5236 Android \u8BBE\u5907\u6216\u6A21\u62DF\u5668\u7684\u7A0B\u5E8F\u3002</p><ul><li><a href="https://developer.android.google.cn/tools/help/MonkeyRunner?hl=zh-cn" target="_blank" rel="noreferrer">MonkeyRunner</a>\uFF1A\u4E00\u4E2A\u5305\u542B\u7528\u4E8E monkeyrunner \u7A0B\u5E8F\u7684\u5B9E\u7528\u7A0B\u5E8F\u65B9\u6CD5\u7684\u7C7B\u3002\u63D0\u4F9B\u4E86\u7528\u4E8E\u5C06 monkeyrunner \u8FDE\u63A5\u5230\u8BBE\u5907\u6216\u6A21\u62DF\u5668\u7684\u65B9\u6CD5\u3002\u5B83\u8FD8\u63D0\u4F9B\u4E86\u7528\u4E8E\u4E3A monkeyrunner \u7A0B\u5E8F\u521B\u5EFA\u754C\u9762\u4EE5\u53CA\u663E\u793A\u5185\u7F6E\u5E2E\u52A9\u7684\u65B9\u6CD5\u3002</li><li><a href="https://developer.android.google.cn/tools/help/MonkeyDevice?hl=zh-cn" target="_blank" rel="noreferrer">MonkeyDevice</a>\uFF1A\u4EE3\u8868\u8BBE\u5907\u6216\u6A21\u62DF\u5668\u3002\u6B64\u7C7B\u63D0\u4F9B\u4E86\u7528\u4E8E\u5B89\u88C5\u548C\u5378\u8F7D\u8F6F\u4EF6\u5305\u3001\u542F\u52A8 Activity \u4EE5\u53CA\u5411\u5E94\u7528\u53D1\u9001\u952E\u76D8\u6216\u8F7B\u89E6\u4E8B\u4EF6\u7684\u65B9\u6CD5\u3002\u60A8\u4E5F\u53EF\u4EE5\u4F7F\u7528\u8FD9\u4E2A\u7C7B\u6765\u8FD0\u884C\u6D4B\u8BD5\u8F6F\u4EF6\u5305\u3002</li><li><a href="https://developer.android.google.cn/tools/help/MonkeyImage?hl=zh-cn" target="_blank" rel="noreferrer">MonkeyImage</a>\uFF1A\u4EE3\u8868\u5C4F\u5E55\u622A\u56FE\u3002\u6B64\u7C7B\u63D0\u4F9B\u4E86\u7528\u4E8E\u622A\u5C4F\u3001\u5C06\u4F4D\u56FE\u8F6C\u6362\u4E3A\u5404\u79CD\u683C\u5F0F\u3001\u6BD4\u8F83\u4E24\u4E2A MonkeyImage \u5BF9\u8C61\u4EE5\u53CA\u5C06\u56FE\u7247\u5199\u5165\u6587\u4EF6\u7684\u65B9\u6CD5\u3002</li></ul><p>\u793A\u4F8B</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#676E95;"># Imports the monkeyrunner modules used by this program</span></span>
<span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> com</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">android</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">monkeyrunner </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> MonkeyRunner</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> MonkeyDevice</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># Connects to the current device, returning a MonkeyDevice object</span></span>
<span class="line"><span style="color:#A6ACCD;">device </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> MonkeyRunner</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">waitForConnection</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># Installs the Android package. Notice that this method returns a boolean, so you can test</span></span>
<span class="line"><span style="color:#676E95;"># to see if the installation worked.</span></span>
<span class="line"><span style="color:#A6ACCD;">device</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">installPackage</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">myproject/bin/MyApplication.apk</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># sets a variable with the package&#39;s internal name</span></span>
<span class="line"><span style="color:#A6ACCD;">package </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">com.example.android.myapplication</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># sets a variable with the name of an Activity in the package</span></span>
<span class="line"><span style="color:#A6ACCD;">activity </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">com.example.android.myapplication.MainActivity</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># sets the name of the component to start</span></span>
<span class="line"><span style="color:#A6ACCD;">runComponent </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> package </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> activity</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># Runs the component</span></span>
<span class="line"><span style="color:#A6ACCD;">device</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">startActivity</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">component</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">runComponent</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># Presses the Menu button</span></span>
<span class="line"><span style="color:#A6ACCD;">device</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">press</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">KEYCODE_MENU</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> MonkeyDevice</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">DOWN_AND_UP</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># Takes a screenshot</span></span>
<span class="line"><span style="color:#A6ACCD;">result </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> device</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">takeSnapshot</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># Writes the screenshot to a file</span></span>
<span class="line"><span style="color:#A6ACCD;">result</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writeToFile</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">myproject/shot1.png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p><a href="http://appium.io/docs/cn/about-appium/intro/" target="_blank" rel="noreferrer">http://appium.io/docs/cn/about-appium/intro/</a></p><h2 id="appium" tabindex="-1"><a href="https://github.com/appium/appium" target="_blank" rel="noreferrer">appium</a> <a class="header-anchor" href="#appium" aria-hidden="true">#</a></h2><p>\u4E00\u4E2A\u5F00\u6E90\u5DE5\u5177\uFF0C\u7528\u4E8E\u81EA\u52A8\u5316 iOS \u624B\u673A\u3001 Android \u624B\u673A\u548C Windows \u684C\u9762\u5E73\u53F0\u4E0A\u7684\u539F\u751F\u3001\u79FB\u52A8 Web \u548C\u6DF7\u5408\u5E94\u7528\u3002 <br> Appium \u7684\u6838\u5FC3\u4E00\u4E2A\u662F\u66B4\u9732 REST API \u7684 WEB \u670D\u52A1\u5668(Node.js)\u3002\u5B83\u63A5\u53D7\u6765\u81EA\u5BA2\u6237\u7AEF\u7684\u8FDE\u63A5\uFF0C\u76D1\u542C\u547D\u4EE4\u5E76\u5728\u79FB\u52A8\u8BBE\u5907\u4E0A\u6267\u884C\uFF0C\u7B54\u590D HTTP \u54CD\u5E94\u6765\u63CF\u8FF0\u6267\u884C\u7ED3\u679C\u3002</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">$ npm install </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">g appium</span></span>
<span class="line"><span style="color:#A6ACCD;">$ appium</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><a href="https://github.com/appium/appium-doctor" target="_blank" rel="noreferrer">appium-doctor</a> Tool to verify appium installation</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#676E95;">// Install</span></span>
<span class="line"><span style="color:#A6ACCD;">npm install appium</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">doctor </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">g</span></span>
<span class="line"><span style="color:#A6ACCD;">Usage</span></span>
<span class="line"><span style="color:#A6ACCD;">appium</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">doctor</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">js [options</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> defaults: </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">ios </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">android]</span></span>
<span class="line"><span style="color:#FFCB6B;">Options</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">ios       Check iOS setup                             [boolean]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">android   Check Android setup                         [boolean]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">dev       Check dev setup                             [boolean]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">debug     Show debug messages                         [boolean]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">yes       Always respond yes                          [boolean]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">no        Always respond no                           [boolean]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">demo      Run appium</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">doctor </span><span style="color:#82AAFF;">demo</span><span style="color:#A6ACCD;"> (for dev)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">           [boolean]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">h</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">--</span><span style="color:#A6ACCD;">help  Show help                                   [boolean]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><a href="https://github.com/appium/appium-desktop" target="_blank" rel="noreferrer">Appium Desktop</a> <br> Appium server arguments</p><table><thead><tr><th>Flag</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>--shell</td><td>null</td><td>Enter REPL mode</td></tr><tr><td>--allow-cors</td><td>false</td><td>Turn on CORS compatibility mode, which will allow connections to the Appium server from within websites hosted on any domain. Be careful when enabling this feature, since there is a potential security risk if you visit a website that uses a cross-domain request to initiate or introspect sessions on your running Appium server.</td></tr><tr><td>--ipa</td><td>null</td><td>(IOS-only) abs path to compiled .ipa file</td></tr><tr><td>-a, --address</td><td>0.0.0.0</td><td>IP Address to listen on</td></tr><tr><td>-p, --port</td><td>4723</td><td>port to listen on</td></tr><tr><td>-pa, --base-path</td><td>/wd/hub</td><td>Initial path segment where the Appium/WebDriver API will be hosted. Every endpoint will be behind this segment.</td></tr><tr><td>-ca, --callback-address</td><td>null</td><td>callback IP Address (default: same as --address)</td></tr><tr><td>-cp, --callback-port</td><td>null</td><td>callback port (default: same as port)</td></tr><tr><td>-bp, --bootstrap-port</td><td>4724</td><td>(Android-only) port to use on device to talk to Appium</td></tr><tr><td>-r, --backend-retries</td><td>3</td><td>(iOS-only) How many times to retry launching Instruments before saying it crashed or timed out</td></tr><tr><td>--session-override</td><td>false</td><td>Enables session override (clobbering)</td></tr><tr><td>-l, --pre-launch</td><td>false</td><td>Pre-launch the application before allowing the first session (Requires --app and, for Android, --app-pkg and --app-activity)</td></tr><tr><td>-g, --log</td><td>null</td><td>Also send log output to this file</td></tr><tr><td>--log-level</td><td>debug</td><td>Set the server log level for console and logfile (specified as console-level:logfile-level, with both being the same if only one value is supplied). Possible values are debug, info, warn, error, which are progressively less verbose.</td></tr><tr><td>--log-timestamp</td><td>false</td><td>Show timestamps in console output</td></tr><tr><td>--local-timezone</td><td>false</td><td>Use local timezone for timestamps</td></tr><tr><td>--log-no-colors</td><td>false</td><td>Do not use colors in console output</td></tr><tr><td>-G, --webhook</td><td>null</td><td>Also send log output to this HTTP listener</td></tr><tr><td>--safari</td><td>false</td><td>(IOS-Only) Use the safari app</td></tr><tr><td>--default-device, -dd</td><td>false</td><td>(IOS-Simulator-only) use the default simulator that instruments launches on its own</td></tr><tr><td>--force-iphone</td><td>false</td><td>(IOS-only) Use the iPhone Simulator no matter what the app wants</td></tr><tr><td>--force-ipad</td><td>false</td><td>(IOS-only) Use the iPad Simulator no matter what the app wants</td></tr><tr><td>--tracetemplate</td><td>null</td><td>(IOS-only) .tracetemplate file to use with Instruments</td></tr><tr><td>--instruments</td><td>null</td><td>(IOS-only) path to instruments binary</td></tr><tr><td>--nodeconfig</td><td>null</td><td>Configuration JSON file to register appium with selenium grid</td></tr><tr><td>-ra, --robot-address</td><td>0.0.0.0</td><td>IP Address of robot</td></tr><tr><td>-rp, --robot-port</td><td>-1</td><td>port for robot</td></tr><tr><td>--chromedriver-port</td><td>9515</td><td>Port upon which ChromeDriver will run</td></tr><tr><td>--chromedriver-executable</td><td>null</td><td>ChromeDriver executable full path</td></tr><tr><td>--show-config</td><td>false</td><td>Show info about the appium server configuration and exit</td></tr><tr><td>--no-perms-check</td><td>false</td><td>Bypass Appium&#39;s checks to ensure we can read/write necessary files</td></tr><tr><td>--strict-caps</td><td>false</td><td>Cause sessions to fail if desired caps are sent in that Appium does not recognize as valid for the selected device</td></tr><tr><td>--isolate-sim-device</td><td>false</td><td>Xcode 6 has a bug on some platforms where a certain simulator can only be launched without error if all other simulator devices are first deleted. This option causes Appium to delete all devices other than the one being used by Appium. Note that this is a permanent deletion, and you are responsible for using simctl or xcode to manage the categories of devices used with Appium.</td></tr><tr><td>--tmp</td><td>null</td><td>Absolute path to directory Appium can use to manage temporary files, like built-in iOS apps it needs to move around. On *nix/Mac defaults to /tmp, on Windows defaults to C:\\Windows\\Temp</td></tr><tr><td>--trace-dir</td><td>null</td><td>Absolute path to directory Appium use to save ios instruments traces, defaults to /appium-instruments</td></tr><tr><td>--debug-log-spacing</td><td>false</td><td>Add exaggerated spacing in logs to help with visual inspection</td></tr><tr><td>--suppress-adb-kill-server</td><td>false</td><td>(Android-only) If set, prevents Appium from killing the adb server instance</td></tr><tr><td>--async-trace</td><td>false</td><td>Add long stack traces to log entries. Recommended for debugging only.</td></tr><tr><td>--webkit-debug-proxy-port</td><td>27753</td><td>(IOS-only) Local port used for communication with ios-webkit-debug-proxy</td></tr><tr><td>-dc, --default-capabilities</td><td>{}</td><td>Set the default desired capabilities, which will be set on each session unless overridden by received capabilities.</td></tr><tr><td>--reboot</td><td>false</td><td>- (Android-only) reboot emulator after each session and kill it at the end</td></tr><tr><td>--relaxed-security</td><td>false</td><td>Disable additional security checks, so it is possible to use some advanced features, provided by drivers supporting this option. Only enable it if all the clients are in the trusted network and it is not the case if a client could potentially break out of the session sandbox. Can override enabling of specific features with --deny-insecure. See also the <a href="https://appium.io/docs/en/writing-running-appium/security/index.html" target="_blank" rel="noreferrer">security doc</a></td></tr><tr><td>--allow-insecure</td><td>[]</td><td>Allow a list of features which are considered insecure and must be turned on explicitly by system administrators. Feature names are documented by the relevant server/driver. Should be a comma-separated list, or a path to a filename containing one feature name per line. Features listed in --deny-insecure will override anything listed here. Does not make sense to use in conjunction with --relaxed-security. See also the <a href="https://appium.io/docs/en/writing-running-appium/security/index.html" target="_blank" rel="noreferrer">security doc</a></td></tr><tr><td>--deny-insecure</td><td>[]</td><td>Specify a list of features which will never be allowed to run, even if --relaxed-security is turned on, and even if feature names are listed with --allow-insecure. Should be a comma-separated list, or a path to a filename containing one feature name per line. See also the <a href="https://appium.io/docs/en/writing-running-appium/security/index.html" target="_blank" rel="noreferrer">security doc</a></td></tr><tr><td>--log-filters</td><td>null</td><td>Specify a full path to a JSON file containing one or more log filtering rules. This feature is useful for cases when it is necessary to obfuscate sensitive information, which may be present in server log records, like passwords or access tokens. The format of each rule is described in <a href="https://github.com/appium/appium-support/blob/master/lib/log-internal.js" target="_blank" rel="noreferrer">https://github.com/appium/appium-support/blob/master/lib/log-internal.js</a>. An exception will be thrown on server startup if any of the rules has issues.</td></tr></tbody></table><p><strong>\u9884\u671F\u80FD\u529B\uFF08Desired Capabilities\uFF09</strong></p><p><a href="https://github.com/appium/appium/blob/master/docs/cn/writing-running-appium/caps.md" target="_blank" rel="noreferrer">Appium \u670D\u52A1\u5668\u521D\u59CB\u5316\u53C2\u6570\uFF08Capability\uFF09</a></p><table><thead><tr><th>\u952E</th><th>\u63CF\u8FF0</th><th>\u503C</th></tr></thead><tbody><tr><td>automationName</td><td>\u81EA\u52A8\u5316\u6D4B\u8BD5\u7684\u5F15\u64CE</td><td>Appium \uFF08\u9ED8\u8BA4\uFF09\u6216\u8005 Selendroid</td></tr><tr><td>platformName</td><td>\u4F7F\u7528\u7684\u624B\u673A\u64CD\u4F5C\u7CFB\u7EDF</td><td>iOS, Android, \u6216\u8005 FirefoxOS</td></tr><tr><td>platformVersion</td><td>\u624B\u673A\u64CD\u4F5C\u7CFB\u7EDF\u7684\u7248\u672C</td><td>\u4F8B\u5982 7.1, 4.4</td></tr><tr><td>deviceName</td><td>\u4F7F\u7528\u7684\u624B\u673A\u6216\u6A21\u62DF\u5668\u7C7B\u578B</td><td>iPhone Simulator, iPad Simulator, iPhone Retina 4-inch, Android Emulator, Galaxy S4, \u7B49\u7B49</td></tr><tr><td>app</td><td>\u672C\u5730\u7EDD\u5BF9\u8DEF\u5F84_\u6216_\u8FDC\u7A0B http URL \u6240\u6307\u5411\u7684\u4E00\u4E2A\u5B89\u88C5\u5305\uFF08.ipa,.apk,\u6216 .zip \u6587\u4EF6\uFF09\u3002Appium \u5C06\u5176\u5B89\u88C5\u5230\u5408\u9002\u7684\u8BBE\u5907\u4E0A\u3002\u8BF7\u6CE8\u610F\uFF0C\u5982\u679C\u60A8\u6307\u5B9A\u4E86 appPackage \u548C appActivity \u53C2\u6570\uFF0CAndroid \u5219\u4E0D\u9700\u8981\u6B64\u53C2\u6570\u4E86\u3002\u8BE5\u53C2\u6570\u4E5F\u4E0E browserName \u4E0D\u517C\u5BB9\u3002</td><td>/abs/path/to/my.apk \u6216 <a href="http://myapp.com/app.ipa" target="_blank" rel="noreferrer">http://myapp.com/app.ipa</a></td></tr><tr><td>browserName</td><td>\u505A\u81EA\u52A8\u5316\u65F6\u4F7F\u7528\u7684\u6D4F\u89C8\u5668\u540D\u5B57\u3002\u5982\u679C\u662F\u4E00\u4E2A\u5E94\u7528\u5219\u53EA\u9700\u586B\u5199\u4E2A\u7A7A\u7684\u5B57\u7B26\u4E32</td><td>&#39;Safari&#39; \u5BF9\u5E94 iOS\uFF0C&#39;Chrome&#39;, &#39;Chromium&#39;, \u6216 &#39;Browser&#39; \u5219\u5BF9\u5E94 Android</td></tr><tr><td>newCommandTimeout</td><td>\u7528\u4E8E\u5BA2\u6237\u7AEF\u5728\u9000\u51FA\u6216\u8005\u7ED3\u675F session \u4E4B\u524D\uFF0CAppium \u7B49\u5F85\u5BA2\u6237\u7AEF\u53D1\u9001\u4E00\u6761\u65B0\u547D\u4EE4\u6240\u82B1\u8D39\u7684\u65F6\u95F4\uFF08\u79D2\u4E3A\u5355\u4F4D\uFF09</td><td>\u4F8B\u5982 60</td></tr><tr><td>language</td><td>(Sim/Emu-only) \u4E3A\u6A21\u62DF\u5668\u8BBE\u7F6E\u8BED\u8A00</td><td>\u4F8B\u5982 fr</td></tr><tr><td>locale</td><td>(Sim/Emu-only) \u4E3A\u6A21\u62DF\u5668\u8BBE\u7F6E\u6240\u5728\u533A\u57DF</td><td>\u4F8B\u5982 fr_CA</td></tr><tr><td>udid</td><td>\u8FDE\u63A5\u771F\u673A\u7684\u552F\u4E00\u8BBE\u5907\u53F7</td><td>\u4F8B\u5982 1ae203187fc012g</td></tr><tr><td>orientation</td><td>(Sim/Emu-only) \u6A21\u62DF\u5668\u5F53\u524D\u7684\u65B9\u5411</td><td>\u7AD6\u5C4F \u6216 \u6A2A\u5C4F</td></tr><tr><td>autoWebview</td><td>\u76F4\u63A5\u8F6C\u6362\u5230 Webview \u4E0A\u4E0B\u6587\uFF08context\uFF09\u3002\u9ED8\u8BA4\u503C\u4E3A false</td><td>true, false</td></tr><tr><td>noReset</td><td>\u5728\u5F53\u524D session \u4E0B\u4E0D\u4F1A\u91CD\u7F6E\u5E94\u7528\u7684\u72B6\u6001\u3002\u9ED8\u8BA4\u503C\u4E3A false</td><td>true, false</td></tr><tr><td>fullReset</td><td>(iOS)\u5220\u9664\u6240\u6709\u7684\u6A21\u62DF\u5668\u6587\u4EF6\u5939\u3002(Android) \u8981\u6E05\u9664 app \u91CC\u7684\u6570\u636E\uFF0C\u8BF7\u5C06\u5E94\u7528\u5378\u8F7D\u624D\u80FD\u8FBE\u5230\u91CD\u7F6E\u5E94\u7528\u7684\u6548\u679C\u3002\u5728 Android, \u5728 session \u5B8C\u6210\u4E4B\u540E\u4E5F\u4F1A\u5C06\u5E94\u7528\u5378\u8F7D\u6389\u3002\u9ED8\u8BA4\u503C\u4E3A false</td><td>true, false</td></tr></tbody></table><p><strong>Appium \u5F15\u64CE</strong></p><ul><li>Android \u2014\u2014 uiautomator2</li><li>IOS \u2014\u2014 xcuitest</li></ul><p><code>pip install Appium-Python-Client</code></p><p>\u9700\u8981\u5148\u8FD0\u884Cappium\u670D\u52A1</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><code><span class="line"><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> appium </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> webdriver</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">desired_caps </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">platformName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Android</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">platformVersion</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">5.1.1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">deviceName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">BAHBBDB651228049</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">appPackage</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">me.weishu.exp</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">appActivity</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">me.weishu.exp.ui.MainActivity</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">desired_caps</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">autoGrantPermissions</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">True</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># \u81EA\u52A8\u83B7\u53D6\u6743\u9650</span></span>
<span class="line"><span style="color:#A6ACCD;">desired_caps</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">noReset</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">True</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;"># \u4E0D\u7528\u6BCF\u6B21\u91CD\u7F6E</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u8F93\u5165\u4E2D\u6587\u8BBE\u7F6E</span></span>
<span class="line"><span style="color:#676E95;"># desired_caps [&#39;unicodekeyboard&#39;] = True</span></span>
<span class="line"><span style="color:#676E95;"># desired_caps [&#39;resetkeyboard&#39;] True</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">driver </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> webdriver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Remote</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://127.0.0.1:4723/wd/hub</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> desired_caps</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">current_activity</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">current_package</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">driver</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">quit</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">adb shell getprop ro</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">build</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">version</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">release	\u7248\u672C\u53F7</span></span>
<span class="line"><span style="color:#A6ACCD;">adb shell dumpsys window windows </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> findstr mFocusedApp	\u5305\u540D</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\u754C\u9762</span></span>
<span class="line"><span style="color:#A6ACCD;">aapt dump badging </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> apk </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> findstr launchable</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">activity	\u542F\u52A8\u9875\u9762</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u57FA\u672C\u64CD\u4F5C <br> quit() <br> start_activity(package\uFF0Cactivity) \u542F\u52A8app <br> current_package \u83B7\u53D6\u5305\u540D <br> current_activity \u754C\u9762\u540D <br> launch_app() <br> close_app() <br> terminate_app() <br> activate_app() <br> query_app_state() <br> install_app(app_path) <br> remove_app(&quot;\u5305\u540D&quot;) <br> is_app_installed() <br> reset() <br> background_app(seconds) \u5C06\u5E94\u7528\u7F6E\u4E8E\u540E\u53F0 <br> implicitly_wait(seconds) <br> \u5143\u7D20\u5B9A\u4F4D</p><p><strong>\u666E\u901A\u65B9\u5F0F\u7684\u5B9A\u4F4D</strong></p><ul><li>driver.find_element_by_accessibility_id() content-desc</li><li>driver.find_element_by_id() resource-id</li><li>driver.find_element_by_name() text</li><li>driver.find_element_by_xpath() xpath</li></ul><p>element\u6539\u4E3Aelements\u662F\u627E\u6240\u6709\u6EE1\u8DB3\u7684\u6761\u4EF6\uFF0C\u8FD4\u56DE\u6570\u7EC4\u3002 <br> MobileBy** \u7684\u5B9A\u4F4D\u65B9\u5F0F** <br> from appium.webdriver.common.mobileby import MobileBy</p><ul><li>self.driver.find_element(<a href="http://MobileBy.ID" target="_blank" rel="noreferrer">MobileBy.ID</a>,&quot;&quot;)</li><li>self.driver.find_element(MobileBy.XPATH,&quot;&quot;)</li><li>self.driver.find_element(MobileBy.ACCESSIBILITY_ID,&quot;&quot;)</li><li>self.driver.find_element(<a href="http://MobileBy.NAME" target="_blank" rel="noreferrer">MobileBy.NAME</a>,&quot;&quot;)</li></ul><p><strong>\u5143\u7D20\u7684\u5E38\u7528\u65B9\u6CD5</strong></p><ul><li>\u70B9\u51FB\u65B9\u6CD5\uFF1Aelement.click()</li><li>\u8F93\u5165\u64CD\u4F5C\uFF1Aelement.send_keys(string)</li><li>\u8BBE\u7F6E\u5143\u7D20\u7684\u503C\uFF1Aelement.set_value(string)</li><li>\u6E05\u9664\u64CD\u4F5C\uFF1Aelement.clear()</li><li>\u662F\u5426\u53EF\u89C1\uFF1Aelement.is_displayed</li><li>\u662F\u5426\u53EF\u7528\uFF1Aelement.enabled()</li><li>\u662F\u5426\u88AB\u9009\u4E2D\uFF1Aelement.is_selected()</li><li>\u83B7\u53D6\u5C5E\u6027\u503C\uFF1Aelement.get_attribute(name)</li><li>driver.swipe(start_x,start_y,end_x,end_y,duration=None)</li><li>driver.drag_and_drop(origin_el,des_el)</li><li>driver.scroll(origin_el,des_el)</li></ul><p><strong>\u5143\u7D20\u5E38\u7528\u7684\u5C5E\u6027</strong></p><ul><li>\u83B7\u53D6\u5143\u7D20\u6587\u672C\uFF1Aelement.text</li><li>\u83B7\u53D6\u5143\u7D20\u5750\u6807\uFF1Aelement.location</li><li>\u83B7\u53D6\u5143\u7D20\u5C3A\u5BF8\uFF08\u9AD8\u548C\u5BBD\uFF09\uFF1Aelement.size</li></ul><p>driver.get_window_size() \u83B7\u53D6\u624B\u673A\u5206\u8FA8\u7387 <br> driver.get_screenshot_as_file() \u622A\u56FE <br> driver.network_connection \u83B7\u53D6\u624B\u673A\u7F51\u7EDC\uFF081\uFF1A\u98DE\u884C\u6A21\u5F0F 2\uFF1A\u53EA\u5F00wifi 4\uFF1A\u53EA\u5F00\u6D41\u91CF 6\uFF1A\u7F51\u7EDC\u5168\u5F00\uFF09 <br> driver.set_network_connection(connection_type) \u8BBE\u7F6E\u7F51\u7EDC <br> driver.press_keycode(keycode,metastate=None) \u53D1\u9001\u952E\u5230\u8BBE\u5907 <br> driver.open_notifications() \u70B9\u51FB\u901A\u77E5\u6D88\u606F</p><p>\u6A21\u62DF\u64CD\u4F5C <br> <strong>TouchAction(driver)</strong></p><ul><li>tap(element=None,x=None,y=None,count =1) \u8F7B\u6572</li><li>press(el=None,x=None,y=None)\u6309\u4E0B</li><li>release(el=None,x=None,y=None) \u62AC\u8D77</li><li>wait(mseconds) \u91CA\u653E</li><li>long_press(el=None,x=None,y=None,duration=1000) \u957F\u6309</li><li>move_to(x=None,y=None) \u79FB\u52A8</li></ul><p><strong>webview</strong> <br> webview\u9875\u9762class\u5C5E\u6027\u503C= android.webkit.webview <br> \u83B7\u53D6\u6240\u6709contexts\u5305\u62EC\u539F\u751F\u9875\u9762\u548Cwebview <br> driver.contexts <br> \u83B7\u53D6\u5F53\u524Dcontext <br> driver.current_context <br> \u8FDB\u5165webview\u9875\u9762 <br> driver. switch_to. context()</p><p>toast <br> \u542F\u52A8\u53C2\u6570\u4E2D\u6DFB\u52A0\u4E00\u4E2A\u53C2\u6570 <br> automationName&quot;: &quot;Uiautomator2&quot; #\u83B7\u53D6toast <br> \u64CD\u4F5C\u89E6\u53D1toast\u51FA\u73B0\u7684\u5143\u7D20 <br> \u83B7\u53D6toast\uFF0C\u501F\u52A9selenium\u4E2D\u663E\u5F0F\u7B49\u5F85WebDriverWait\u7C7B</p><p>\u5C0F\u7A0B\u5E8F <br> \u83B7\u53D6\u5C0F\u7A0B\u5E8F\u5728\u5FAE\u4FE1\u4E2D\u7684\u8FDB\u7A0B</p><ol><li>adb shell</li><li>dumpsus activity top | grep ACTIVITY # pid</li><li>ps pid</li></ol><p>\u5F97\u5230\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u8FDB\u7A0B <a href="http://com.tencent.mm" target="_blank" rel="noreferrer">com.tencent.mm</a>:appbrand0 <br> \u542F\u52A8\u53C2\u6570\u4E2D\u6DFB\u52A0\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u8FDB\u7A0B <br> <code>&quot;chromeOptions&quot;: {&quot;androidProcess&quot;: &quot;com. tencent. mm: appbzango&quot;}</code></p><p>appium\u7684ChromeDriver\u76EE\u5F55\uFF1Aappium\\node_modules\\appium-chromedriver\\chromedriver\\win <br> <code>&#39;chromeOptions&#39;:\xA0{&#39;androidProcess&#39;:\xA0&#39;com.vitalerter&#39;},</code></p><p>Webview debug <br> adb \u8FDE\u63A5 \u624B\u673A\u6216\u6A21\u62DF\u5668 <br> chrome://inspect <br> \u5BF9\u4E8E\u5185\u6838\u7248\u672C\u4E0D\u4E00\u81F4\u9700\u8981vpn</p><h2 id="auto-js" tabindex="-1"><a href="https://hyb1996.github.io/AutoJs-Docs/#/" target="_blank" rel="noreferrer">Auto.js</a> <a class="header-anchor" href="#auto-js" aria-hidden="true">#</a></h2><p>\u57FA\u4E8E JavaScript \u8BED\u8A00\u8FD0\u884C\u5728Android\u5E73\u53F0\u4E0A\u7684\u811A\u672C\u6846\u67B6\uFF0C\u4F7F\u7528<a href="https://developer.mozilla.org/zh-CN/docs/Mozilla/Projects/Rhino" target="_blank" rel="noreferrer">Rhino 1.7.7.2</a>\u4F5C\u4E3A\u811A\u672C\u5F15\u64CE\uFF0C\u652F\u6301ES5\u4E0E\u90E8\u5206ES6\u7279\u6027 <br> \u5DE5\u4F5C\u539F\u7406\u662F\u57FA\u4E8E\u8F85\u52A9\u670D\u52A1AccessibilityService <br> <a href="https://github.com/hyb1996/Auto.js-VSCode-Extension" target="_blank" rel="noreferrer">Auto.js-VSCodeExt</a></p><ul><li>Start Server: \u542F\u52A8\u63D2\u4EF6\u670D\u52A1\u3002\u786E\u4FDD\u624B\u673A\u548C\u7535\u8111\u5728\u540C\u4E00\u533A\u57DF\u7F51\u7684\u60C5\u51B5\u4E0B\uFF0C\u5728Auto.js\u7684\u4FA7\u62C9\u83DC\u5355\u4E2D\u4F7F\u7528\u8FDE\u63A5\u7535\u8111\u529F\u80FD\u8FDE\u63A5\u3002</li><li>Stop Server: \u505C\u6B62\u63D2\u4EF6\u670D\u52A1\u3002</li><li>Run \u8FD0\u884C\u5F53\u524D\u7F16\u8F91\u5668\u7684\u811A\u672C\u3002\u5982\u679C\u6709\u591A\u4E2A\u8BBE\u5907\u8FDE\u63A5\uFF0C\u5219\u5728\u6240\u6709\u8BBE\u5907\u8FD0\u884C\u3002</li><li>Rerun \u505C\u6B62\u5F53\u524D\u6587\u4EF6\u5BF9\u5E94\u7684\u811A\u672C\u5E76\u91CD\u65B0\u8FD0\u884C\u3002\u5982\u679C\u6709\u591A\u4E2A\u8BBE\u5907\u8FDE\u63A5\uFF0C\u5219\u5728\u6240\u6709\u8BBE\u5907\u91CD\u65B0\u8FD0\u884C\u3002</li><li>Stop \u505C\u6B62\u5F53\u524D\u6587\u4EF6\u5BF9\u5E94\u7684\u811A\u672C\u3002\u5982\u679C\u6709\u591A\u4E2A\u8BBE\u5907\u8FDE\u63A5\uFF0C\u5219\u5728\u6240\u6709\u8BBE\u5907\u505C\u6B62\u3002</li><li>StopAll \u505C\u6B62\u6240\u6709\u6B63\u5728\u8FD0\u884C\u7684\u811A\u672C\u3002\u5982\u679C\u6709\u591A\u4E2A\u8BBE\u5907\u8FDE\u63A5\uFF0C\u5219\u5728\u6240\u6709\u8BBE\u5907\u8FD0\u884C\u6240\u6709\u811A\u672C\u3002</li><li>Save \u4FDD\u5B58\u5F53\u524D\u6587\u4EF6\u5230\u624B\u673A\u7684\u811A\u672C\u9ED8\u8BA4\u76EE\u5F55\uFF08\u6587\u4EF6\u540D\u4F1A\u52A0\u4E0A\u524D\u7F00remote)\u3002\u5982\u679C\u6709\u591A\u4E2A\u8BBE\u5907\u8FDE\u63A5\uFF0C\u5219\u5728\u6240\u6709\u8BBE\u5907\u4FDD\u5B58\u3002</li><li>RunOnDevice: \u5F39\u51FA\u8BBE\u5907\u83DC\u5355\u5E76\u5728\u6307\u5B9A\u8BBE\u5907\u8FD0\u884C\u811A\u672C\u3002</li><li>SaveToDevice: \u5F39\u51FA\u8BBE\u5907\u83DC\u5355\u5E76\u5728\u6307\u5B9A\u8BBE\u5907\u4FDD\u5B58\u811A\u672C\u3002</li><li>New Project\uFF08\u65B0\u5EFA\u9879\u76EE\uFF09\uFF1A\u9009\u62E9\u4E00\u4E2A\u7A7A\u6587\u4EF6\u5939\uFF08\u6216\u8005\u5728\u6587\u4EF6\u7BA1\u7406\u5668\u4E2D\u65B0\u5EFA\u4E00\u4E2A\u7A7A\u6587\u4EF6\u5939\uFF09\uFF0C\u5C06\u4F1A\u81EA\u52A8\u521B\u5EFA\u4E00\u4E2A\u9879\u76EE</li><li>Run Project\uFF08\u8FD0\u884C\u9879\u76EE\uFF09\uFF1A\u8FD0\u884C\u4E00\u4E2A\u9879\u76EE\uFF0C\u9700\u8981Auto.js 4.0.4Alpha5\u4EE5\u4E0A\u652F\u6301</li><li>Save Project\uFF08\u4FDD\u5B58\u9879\u76EE\uFF09\uFF1A\u4FDD\u5B58\u4E00\u4E2A\u9879\u76EE\uFF0C\u9700\u8981Auto.js 4.0.4Alpha5\u4EE5\u4E0A\u652F\u6301</li></ul><h2 id="scrcpy" tabindex="-1"><a href="https://github.com/Genymobile/scrcpy" target="_blank" rel="noreferrer">scrcpy</a> <a class="header-anchor" href="#scrcpy" aria-hidden="true">#</a></h2><p>\u7279\u70B9</p><ul><li>\u8F7B\u91CF\xA0(\u539F\u751F\uFF0C\u4EC5\u663E\u793A\u8BBE\u5907\u5C4F\u5E55)</li><li>\u6027\u80FD\xA0(30~60fps)</li><li>\u8D28\u91CF\xA0(\u5206\u8FA8\u7387\u53EF\u8FBE 1920\xD71080 \u6216\u66F4\u9AD8)</li><li>\u4F4E\u5EF6\u8FDF\xA0(35~70ms)</li><li>\u5FEB\u901F\u542F\u52A8\xA0(\u6700\u5FEB 1 \u79D2\u5185\u5373\u53EF\u663E\u793A\u7B2C\u4E00\u5E27)</li><li>\u65E0\u4FB5\u5165\u6027\xA0(\u4E0D\u4F1A\u5728\u8BBE\u5907\u4E0A\u9057\u7559\u4EFB\u4F55\u7A0B\u5E8F)</li></ul><p>\u786E\u4FDD\u8BBE\u5907\u5DF2<a href="https://developer.android.com/studio/command-line/adb.html#Enabling" target="_blank" rel="noreferrer">\u5F00\u542F adb \u8C03\u8BD5</a>\u540E\uFF0C\u8FD0\u884Cscrcpy</p><p>Option</p><ul><li>--always-on-top</li><li>-b, --bit-rate value</li><li>--codec-options key[:type]=value[,...]</li><li>--crop width:height\u274Cy</li><li>--disable-screensaver</li><li>--display id</li><li>--encoder name</li><li>--force-adb-forward</li><li>--forward-all-clicks</li><li>-f, --fullscreen</li><li>--legacy-paste</li><li>--lock-video-orientation value \u9501\u5B9A\u5C4F\u5E55\u65B9\u5411</li><li>--max-fps value</li><li>-m, --max-size value</li><li>-n, --no-control</li><li>-N, --no-display</li><li>--no-key-repeat</li><li>--no-mipmaps</li><li>-p, --port port[:port]</li><li>--prefer-text</li><li>--push-target path</li><li>-r, --record file.mp4</li><li>--record-format format</li><li>--render-driver name</li><li>--render-expired-frames</li><li>--rotation value</li><li>-s, --serial serial</li><li>--shortcut-mod key[+...]][,...]</li></ul><p>Specify the modifiers to use for scrcpy shortcuts. <br> Possible keys are &quot;lctrl&quot;, &quot;rctrl&quot;, &quot;lalt&quot;, &quot;ralt&quot;, &quot;lsuper&quot; and &quot;rsuper&quot;.</p><ul><li>-S, --turn-screen-off</li><li>-t, --show-touches</li><li>-V, --verbosity value Set the log level (debug, info, warn or error).</li><li>-w, --stay-awake</li><li>--window-borderless</li><li>--window-title text</li><li>--window-x value</li><li>--window-y value</li><li>--window-width value</li><li>--window-height value</li></ul><p><strong>\u5FEB\u6377\u952E</strong> <br> MOD \u662F\u5FEB\u6377\u952E\u7684\u4FEE\u9970\u952E\uFF0C \u9ED8\u8BA4\u662F (\u5DE6) Alt \u6216 (\u5DE6) Super</p><table><thead><tr><th>\u64CD\u4F5C</th><th>\u5FEB\u6377\u952E</th></tr></thead><tbody><tr><td>\u5168\u5C4F</td><td>MOD+f</td></tr><tr><td>\u5411\u5DE6\u65CB\u8F6C\u5C4F\u5E55</td><td>MOD+\u2190 <em>(\u5DE6\u7BAD\u5934)</em></td></tr><tr><td>\u5411\u53F3\u65CB\u8F6C\u5C4F\u5E55</td><td>MOD+\u2192 <em>(\u53F3\u7BAD\u5934)</em></td></tr><tr><td>\u5C06\u7A97\u53E3\u5927\u5C0F\u91CD\u7F6E\u4E3A1:1 (\u5339\u914D\u50CF\u7D20)</td><td>MOD+g</td></tr><tr><td>\u5C06\u7A97\u53E3\u5927\u5C0F\u91CD\u7F6E\u4E3A\u6D88\u9664\u9ED1\u8FB9</td><td>MOD+w | <em>\u53CC\u51FB</em></td></tr><tr><td>\u70B9\u6309 \u4E3B\u5C4F\u5E55</td><td>MOD+h | <em>\u9F20\u6807\u4E2D\u952E</em></td></tr><tr><td>\u70B9\u6309 \u8FD4\u56DE</td><td>MOD+b | <em>\u9F20\u6807\u53F3\u952E</em></td></tr><tr><td>\u70B9\u6309 \u5207\u6362\u5E94\u7528</td><td>MOD+s</td></tr><tr><td>\u70B9\u6309 \u83DC\u5355 (\u89E3\u9501\u5C4F\u5E55)</td><td>MOD+m</td></tr><tr><td>\u70B9\u6309 \u97F3\u91CF+</td><td>MOD+\u2191 <em>(\u4E0A\u7BAD\u5934)</em></td></tr><tr><td>\u70B9\u6309 \u97F3\u91CF-</td><td>MOD+\u2193 <em>(\u4E0B\u7BAD\u5934)</em></td></tr><tr><td>\u70B9\u6309 \u7535\u6E90</td><td>MOD+p</td></tr><tr><td>\u6253\u5F00\u5C4F\u5E55</td><td><em>\u9F20\u6807\u53F3\u952E</em></td></tr><tr><td>\u5173\u95ED\u8BBE\u5907\u5C4F\u5E55 (\u4F46\u7EE7\u7EED\u5728\u7535\u8111\u4E0A\u663E\u793A)</td><td>MOD+o</td></tr><tr><td>\u6253\u5F00\u8BBE\u5907\u5C4F\u5E55</td><td>MOD+Shift+o</td></tr><tr><td>\u65CB\u8F6C\u8BBE\u5907\u5C4F\u5E55</td><td>MOD+r</td></tr><tr><td>\u5C55\u5F00\u901A\u77E5\u9762\u677F</td><td>MOD+n</td></tr><tr><td>\u6536\u8D77\u901A\u77E5\u9762\u677F</td><td>MOD+Shift+n</td></tr><tr><td>\u590D\u5236\u5230\u526A\u8D34\u677F\xB3</td><td>MOD+c</td></tr><tr><td>\u526A\u5207\u5230\u526A\u8D34\u677F\xB3</td><td>MOD+x</td></tr><tr><td>\u540C\u6B65\u526A\u8D34\u677F\u5E76\u7C98\u8D34\xB3</td><td>MOD+v</td></tr><tr><td>\u6CE8\u5165\u7535\u8111\u526A\u8D34\u677F\u6587\u672C</td><td>MOD+Shift+v</td></tr><tr><td>\u6253\u5F00/\u5173\u95EDFPS\u663E\u793A (\u5728 stdout)</td><td>MOD+i</td></tr><tr><td>\u634F\u62C9\u7F29\u653E</td><td>Ctrl+<em>\u6309\u4F4F\u5E76\u79FB\u52A8\u9F20\u6807</em></td></tr></tbody></table>`,214),o=[p];function r(i,c,d,D,y,A){return a(),n("div",null,o)}const m=s(t,[["render",r]]);export{b as __pageData,m as default};
