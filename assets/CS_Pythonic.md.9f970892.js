import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.1f7d9302.js";const A=JSON.parse('{"title":"Pythonic","description":"","frontmatter":{"title":"Pythonic","created_at":"2022-02-20T02:15:13.000Z","updated_at":"2023-02-04T10:07:17.000Z","word_count":4508},"headers":[],"relativePath":"CS/Pythonic.md","filePath":"CS/Pythonic.md"}'),p={name:"CS/Pythonic.md"},o=l(`<h2 id="pythonic" tabindex="-1">Pythonic <a class="header-anchor" href="#pythonic" aria-label="Permalink to &quot;Pythonic&quot;">​</a></h2><blockquote><p>import this</p><p>The Zen of Python by Tim Peters</p><p>Beautiful is better than ugly. 优美胜于丑陋（Python 以编写优美的代码为目标） Explicit is better than implicit. 明了胜于晦涩（命名规范，风格相似） Simple is better than complex. 简洁胜于复杂（不应有复杂的内部实现） Complex is better than complicated. 复杂胜于凌乱（如果复杂不可避免，那代码间也不能有难懂的关系，保持接口简洁） Flat is better than nested. 扁平胜于嵌套（不能有太多的嵌套） Sparse is better than dense. 间隔胜于紧凑（适当的间隔，不要奢望一行代码解决问题） Readability counts. 可读性很重要 Special cases aren&#39;t special enough to break the rules. Although practicality beats purity. 即便假借特例的实用性之名，也不可违背这些规则 Errors should never pass silently. Unless explicitly silenced. 不要包容所有错误，除非你确定需要这样做（精准地捕获异常） In the face of ambiguity, refuse the temptation to guess. 当存在多种可能，不要尝试去猜测 There should be one-- and preferably only one --obvious way to do it. 而是尽量找一种，最好是唯一一种明显的解决方案（如果不确定，就用穷举法） Although that way may not be obvious at first unless you&#39;re Dutch. 虽然这并不容易，因为你不是 Python 之父 Now is better than never. Although never is often better than <em>right</em> now. 做也许好过不做，但不假思索就动手还不如不做（动手之前要细思量） If the implementation is hard to explain, it&#39;s a bad idea. If the implementation is easy to explain, it may be a good idea. 如果你无法向人描述你的方案，那肯定不是一个好方案；反之亦然（方案测评标准） Namespaces are one honking great idea -- let&#39;s do more of those! 命名空间是一种绝妙的理念，我们应当多加利用（倡导与号召）</p></blockquote><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">a </span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> b </span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> c</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">a </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> c </span><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> c </span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> b </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> b</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>编码风格——</strong><a href="https://www.python.org/dev/peps/pep-0008/" target="_blank" rel="noreferrer"><strong>PEP 8</strong></a>**（**Python Enhancement Proposal）</p><ul><li>用4个空格缩进，不用制表符</li><li>一行应不超过79个字符</li><li>每个 import 语句只导入一个模块，每个导入应该独占一行</li><li>使用必要的空行可以增加代码的可读性，通常在顶级定义（如函数或类的定义）之间空两行，而方法定义之间空一行，另外在用于分隔某些功能的位置也可以空一行</li></ul><table><thead><tr><th><strong>Type</strong></th><th><strong>Public</strong></th><th><strong>Internal</strong></th></tr></thead><tbody><tr><td>Modules</td><td>lower_with_under</td><td>_lower_with_under</td></tr><tr><td>Packages</td><td>lower_with_under</td><td></td></tr><tr><td>Classes</td><td>CapWords</td><td>_CapWords</td></tr><tr><td>Exceptions</td><td>CapWords</td><td></td></tr><tr><td>Functions</td><td>lower_with_under()</td><td>_lower_with_under()</td></tr><tr><td>Global/Class Constants</td><td>CAPS_WITH_UNDER</td><td>_CAPS_WITH_UNDER</td></tr><tr><td>Global/Class Variables</td><td>lower_with_under</td><td>_lower_with_under</td></tr><tr><td>Instance Variables</td><td>lower_with_under</td><td>_lower_with_under (protected) or __lower_with_under (private)</td></tr><tr><td>Method Names</td><td>lower_with_under()</td><td>_lower_with_under() (protected) or __lower_with_under() (private)</td></tr><tr><td>Function/Method Parameters</td><td>lower_with_under</td><td></td></tr><tr><td>Local Variables</td><td>lower_with_under</td><td></td></tr></tbody></table><p><strong>空格</strong></p><ul><li>括号内不要有空格</li><li>不要在逗号, 分号, 冒号前面加空格, 但应该在它们后面加(行尾除外)</li><li>在二元操作符两边都加上一个空格</li><li>当’=’用于指示关键字参数或默认参数值时, 不要在其两侧使用空格</li></ul><p><strong>文档字符串</strong> <br> 函数必须要有, 除非它外部不可见、非常短小、简单明了</p><ul><li>Args：文档字符串应该包含函数做什么, 以及输入和输出的详细描述</li><li>Returns (Yields)：描述返回值的类型和语义. 如果函数返回None, 这一部分可以省略</li><li>Raises：列出与接口有关的所有异常</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">fetch_bigtable_rows</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;font-style:italic;">big_table</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">keys</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">other_silly_variable</span><span style="color:#ABB2BF;">=</span><span style="color:#D19A66;">None</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#98C379;">&quot;&quot;&quot;Fetches rows from a Bigtable.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#98C379;">    Retrieves rows pertaining to the given keys from the Table instance</span></span>
<span class="line"><span style="color:#98C379;">    represented by big_table.  Silly things may happen if</span></span>
<span class="line"><span style="color:#98C379;">    other_silly_variable is not None.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#98C379;">    Args:</span></span>
<span class="line"><span style="color:#98C379;">        big_table: An open Bigtable Table instance.</span></span>
<span class="line"><span style="color:#98C379;">        keys: A sequence of strings representing the key of each table row</span></span>
<span class="line"><span style="color:#98C379;">            to fetch.</span></span>
<span class="line"><span style="color:#98C379;">        other_silly_variable: Another optional variable, that has a much</span></span>
<span class="line"><span style="color:#98C379;">            longer name than the other args, and which does nothing.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#98C379;">    Returns:</span></span>
<span class="line"><span style="color:#98C379;">        A dict mapping keys to the corresponding table row data</span></span>
<span class="line"><span style="color:#98C379;">        fetched. Each row is represented as a tuple of strings. For</span></span>
<span class="line"><span style="color:#98C379;">        example:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#98C379;">        {&#39;Serak&#39;: (&#39;Rigel VII&#39;, &#39;Preparer&#39;),</span></span>
<span class="line"><span style="color:#98C379;">         &#39;Zim&#39;: (&#39;Irk&#39;, &#39;Invader&#39;),</span></span>
<span class="line"><span style="color:#98C379;">         &#39;Lrrr&#39;: (&#39;Omicron Persei 8&#39;, &#39;Emperor&#39;)}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#98C379;">        If a key from the keys argument is missing from the dictionary,</span></span>
<span class="line"><span style="color:#98C379;">        then that row was not found in the table.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#98C379;">    Raises:</span></span>
<span class="line"><span style="color:#98C379;">        IOError: An error occurred accessing the bigtable.Table object.</span></span>
<span class="line"><span style="color:#98C379;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">pass</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>如果一个类不继承自其它类, 就显式继承object，嵌套类也一样。</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">class</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">SampleClass</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">object</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#98C379;">&quot;&quot;&quot;Summary of class here.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#98C379;">    Longer class information....</span></span>
<span class="line"><span style="color:#98C379;">    Longer class information....</span></span>
<span class="line"></span>
<span class="line"><span style="color:#98C379;">    Attributes:</span></span>
<span class="line"><span style="color:#98C379;">        likes_spam: A boolean indicating if we like SPAM or not.</span></span>
<span class="line"><span style="color:#98C379;">        eggs: An integer count of the eggs we have laid.</span></span>
<span class="line"><span style="color:#98C379;">    &quot;&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__init__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">likes_spam</span><span style="color:#ABB2BF;">=</span><span style="color:#D19A66;">False</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#98C379;">&quot;&quot;&quot;Inits SampleClass with blah.&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.likes_spam </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> likes_spam</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.eggs </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">public_method</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#98C379;">&quot;&quot;&quot;Performs operation blah.&quot;&quot;&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>为临时代码使用<strong>TODO注释</strong></p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># </span><span style="color:#C678DD;font-style:italic;">TODO</span><span style="color:#7F848E;font-style:italic;">(kl@gmail.com): Use a &quot;*&quot; here for string repetition.</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># </span><span style="color:#C678DD;font-style:italic;">TODO</span><span style="color:#7F848E;font-style:italic;">(Zeke) Change this to use relations.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>pydoc以及单元测试要求模块必须是可导入的</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">main</span><span style="color:#ABB2BF;">():</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#D19A66;">...</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span></span>
<span class="line"><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">__name__</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">==</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;__main__&#39;</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#61AFEF;">main</span><span style="color:#ABB2BF;">()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>编程规范</p><p>与None作比较使用”is [not]“，不用等号 <br> 使用isinstance判断变量类型 <br> 若list成员个数可以预知，创建应预留正好容纳所有成员的空间 <br> 同一个函数/方法的所有分支返回语句必须统一为显示或隐式，不混合使用 <br> 使用单个下划线替代循环体中未使用的循环变量</p><p>Eval</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#56B6C2;">&gt;&gt;&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> ast </span><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> literal_eval</span></span>
<span class="line"><span style="color:#56B6C2;">&gt;&gt;&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">literal_eval</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;[1, 2, 3]&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">[</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#56B6C2;">&gt;&gt;&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">literal_eval</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;1 + 2&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">ValueError: malformed node </span><span style="color:#C678DD;">or</span><span style="color:#ABB2BF;"> string</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Stopwatch</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> time </span><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> perf_counter</span></span>
<span class="line"><span style="color:#ABB2BF;">start_time </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">perf_counter</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#D19A66;">...</span></span>
<span class="line"><span style="color:#ABB2BF;">duration_in_seconds </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">perf_counter</span><span style="color:#ABB2BF;">() </span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;"> start_time</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="format" tabindex="-1">Format <a class="header-anchor" href="#format" aria-label="Permalink to &quot;Format&quot;">​</a></h2><p>% [keyname] [flags] [width] [.prec] typecode</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#E06C75;">a</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">b</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">10</span></span>
<span class="line"><span style="color:#61AFEF;">print</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;%d * %d = %d&#39;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">%</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">a</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">b</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">a</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">*</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">b</span><span style="color:#ABB2BF;">))</span></span>
<span class="line"><span style="color:#61AFEF;">print</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;{0} * {1} = {2}&#39;</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">format</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">a</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">b</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">a</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">*</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">b</span><span style="color:#ABB2BF;">))</span></span>
<span class="line"><span style="color:#61AFEF;">print</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">f</span><span style="color:#98C379;">&#39;{a:.1f} * {b} = {a * b}&#39;</span><span style="color:#ABB2BF;">)    # </span><span style="color:#E06C75;">格式化字符串字面值</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>位置及关键字参数可以任意的结合</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#56B6C2;">&gt;&gt;&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">print</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;The story of </span><span style="color:#D19A66;">{0}</span><span style="color:#98C379;">, </span><span style="color:#D19A66;">{1}</span><span style="color:#98C379;">, and </span><span style="color:#D19A66;">{other}</span><span style="color:#98C379;">.&#39;</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">format</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;Bill&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;Manfred&#39;</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;font-style:italic;">other</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&#39;Georg&#39;</span><span style="color:#ABB2BF;">))</span></span>
<span class="line"><span style="color:#ABB2BF;">The story of Bill, Manfred, </span><span style="color:#C678DD;">and</span><span style="color:#ABB2BF;"> Georg.</span></span>
<span class="line"><span style="color:#56B6C2;">&gt;&gt;&gt;</span><span style="color:#ABB2BF;"> table </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> {</span><span style="color:#98C379;">&#39;Sjoerd&#39;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">4127</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;Jack&#39;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">4098</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;Dcab&#39;</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">8637678</span><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#56B6C2;">&gt;&gt;&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">print</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;Jack: </span><span style="color:#D19A66;">{0[Jack]</span><span style="color:#C678DD;">:d</span><span style="color:#D19A66;">}</span><span style="color:#98C379;">; Sjoerd: </span><span style="color:#D19A66;">{0[Sjoerd]</span><span style="color:#C678DD;">:d</span><span style="color:#D19A66;">}</span><span style="color:#98C379;">; &#39;</span></span>
<span class="line"><span style="color:#D19A66;">...</span><span style="color:#ABB2BF;">       </span><span style="color:#98C379;">&#39;Dcab: </span><span style="color:#D19A66;">{0[Dcab]</span><span style="color:#C678DD;">:d</span><span style="color:#D19A66;">}</span><span style="color:#98C379;">&#39;</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">format</span><span style="color:#ABB2BF;">(table))</span></span>
<span class="line"><span style="color:#56B6C2;">print</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;Jack: </span><span style="color:#D19A66;">{Jack</span><span style="color:#C678DD;">:d</span><span style="color:#D19A66;">}</span><span style="color:#98C379;">; Sjoerd: </span><span style="color:#D19A66;">{Sjoerd</span><span style="color:#C678DD;">:d</span><span style="color:#D19A66;">}</span><span style="color:#98C379;">; Dcab: </span><span style="color:#D19A66;">{Dcab</span><span style="color:#C678DD;">:d</span><span style="color:#D19A66;">}</span><span style="color:#98C379;">&#39;</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">format</span><span style="color:#ABB2BF;">(**table))  </span><span style="color:#7F848E;font-style:italic;"># 等同</span></span>
<span class="line"><span style="color:#ABB2BF;">Jack: </span><span style="color:#D19A66;">4098</span><span style="color:#ABB2BF;">; Sjoerd: </span><span style="color:#D19A66;">4127</span><span style="color:#ABB2BF;">; Dcab: </span><span style="color:#D19A66;">8637678</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>General Options</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">el</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">:</span><span style="color:#56B6C2;">&lt;</span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;">}                                     </span><span style="color:#7F848E;font-style:italic;"># &#39;&lt;el&gt;      &#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">el</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">:</span><span style="color:#56B6C2;">^</span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;">}                                     </span><span style="color:#7F848E;font-style:italic;"># &#39;   &lt;el&gt;   &#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">el</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">:</span><span style="color:#56B6C2;">&gt;</span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;">}                                     </span><span style="color:#7F848E;font-style:italic;"># &#39;      &lt;el&gt;&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">el</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">:.</span><span style="color:#56B6C2;">&lt;</span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;">}                                    </span><span style="color:#7F848E;font-style:italic;"># &#39;&lt;el&gt;......&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">el</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">}                                       </span><span style="color:#7F848E;font-style:italic;"># &#39;&lt;el&gt;&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Strings</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#98C379;">&#39;abcde&#39;</span><span style="color:#FFFFFF;">!</span><span style="color:#ABB2BF;">r:</span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;">}                                 </span><span style="color:#7F848E;font-style:italic;"># &quot;&#39;abcde&#39;   &quot;	&#39;!r&#39; calls object&#39;s repr() method</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#98C379;">&#39;abcde&#39;</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">10.3</span><span style="color:#ABB2BF;">}                                 </span><span style="color:#7F848E;font-style:italic;"># &#39;abc       &#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#98C379;">&#39;abcde&#39;</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">.3</span><span style="color:#ABB2BF;">}                                   </span><span style="color:#7F848E;font-style:italic;"># &#39;abc&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Numbers</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">{ </span><span style="color:#D19A66;">123456</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;">,}                                  </span><span style="color:#7F848E;font-style:italic;"># &#39;   123,456&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">{ </span><span style="color:#D19A66;">123456</span><span style="color:#ABB2BF;">:</span><span style="color:#FFFFFF;">10_</span><span style="color:#ABB2BF;">}                                  </span><span style="color:#7F848E;font-style:italic;"># &#39;   123_456&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">{ </span><span style="color:#D19A66;">123456</span><span style="color:#ABB2BF;">:</span><span style="color:#56B6C2;">+</span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;">}                                  </span><span style="color:#7F848E;font-style:italic;"># &#39;   +123456&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#56B6C2;">-</span><span style="color:#D19A66;">123456</span><span style="color:#ABB2BF;">:=</span><span style="color:#D19A66;">10</span><span style="color:#ABB2BF;">}                                  </span><span style="color:#7F848E;font-style:italic;"># &#39;-   123456&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">{ </span><span style="color:#D19A66;">123456</span><span style="color:#ABB2BF;">: }                                    </span><span style="color:#7F848E;font-style:italic;"># &#39; 123456&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#56B6C2;">-</span><span style="color:#D19A66;">123456</span><span style="color:#ABB2BF;">: }                                    </span><span style="color:#7F848E;font-style:italic;"># &#39;-123456&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Floats</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#D19A66;">1.23456</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">10.3</span><span style="color:#ABB2BF;">}                                 </span><span style="color:#7F848E;font-style:italic;"># &#39;      1.23&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#D19A66;">1.23456</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">10.</span><span style="color:#FFFFFF;">3f</span><span style="color:#ABB2BF;">}                                </span><span style="color:#7F848E;font-style:italic;"># &#39;     1.235&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#D19A66;">1.23456</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">10.</span><span style="color:#FFFFFF;">3e</span><span style="color:#ABB2BF;">}                                </span><span style="color:#7F848E;font-style:italic;"># &#39; 1.235e+00&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#D19A66;">1.23456</span><span style="color:#ABB2BF;">:</span><span style="color:#D19A66;">10.3</span><span style="color:#56B6C2;">%</span><span style="color:#ABB2BF;">}                                </span><span style="color:#7F848E;font-style:italic;"># &#39;  123.456%&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Ints</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#D19A66;">90</span><span style="color:#ABB2BF;">:c}                                   </span><span style="color:#7F848E;font-style:italic;"># &#39;Z&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#D19A66;">90</span><span style="color:#ABB2BF;">:b}                                   </span><span style="color:#7F848E;font-style:italic;"># &#39;1011010&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#D19A66;">90</span><span style="color:#ABB2BF;">:X}                                   </span><span style="color:#7F848E;font-style:italic;"># &#39;5A&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="duck-types" tabindex="-1">Duck Types <a class="header-anchor" href="#duck-types" aria-label="Permalink to &quot;Duck Types&quot;">​</a></h2><p>A duck type is an implicit type that prescribes a set of special methods. Any object that has those methods defined is considered a member of that duck type.</p><p><strong>Comparable</strong></p><ul><li>If eq() method is not overridden, it returns &#39;id(self) == id(other)&#39;, which is the same as &#39;self is other&#39;.</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">class</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">MyComparable</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__init__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">a</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.a </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> a</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__eq__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">other</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">isinstance</span><span style="color:#ABB2BF;">(other, </span><span style="color:#56B6C2;">type</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">)):</span></span>
<span class="line"><span style="color:#ABB2BF;">            </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.a </span><span style="color:#56B6C2;">==</span><span style="color:#ABB2BF;"> other.a</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">NotImplemented</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>Hashable</strong></p><ul><li>Hashable object needs both hash() and eq() methods and its hash value should never change.</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">class</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">MyHashable</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__init__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">a</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">._a </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> a</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span></span>
<span class="line"><span style="color:#61AFEF;">    @</span><span style="color:#56B6C2;">property</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">a</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">._a</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__eq__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">other</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">isinstance</span><span style="color:#ABB2BF;">(other, </span><span style="color:#56B6C2;">type</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">)):</span></span>
<span class="line"><span style="color:#ABB2BF;">            </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.a </span><span style="color:#56B6C2;">==</span><span style="color:#ABB2BF;"> other.a</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">NotImplemented</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__hash__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">hash</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.a)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>Sortable</strong></p><ul><li>With total_ordering decorator, you only need to provide eq() and one of lt(), gt(), le() or ge() special methods.</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> functools </span><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> total_ordering</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">@total_ordering</span></span>
<span class="line"><span style="color:#C678DD;">class</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">MySortable</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__init__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">a</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.a </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> a</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__eq__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">other</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">isinstance</span><span style="color:#ABB2BF;">(other, </span><span style="color:#56B6C2;">type</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">)):</span></span>
<span class="line"><span style="color:#ABB2BF;">            </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.a </span><span style="color:#56B6C2;">==</span><span style="color:#ABB2BF;"> other.a</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">NotImplemented</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__lt__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">other</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">isinstance</span><span style="color:#ABB2BF;">(other, </span><span style="color:#56B6C2;">type</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">)):</span></span>
<span class="line"><span style="color:#ABB2BF;">            </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.a </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;"> other.a</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">NotImplemented</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>Iterator</strong></p><ul><li>Any object that has methods next() and iter() is an iterator.</li><li>Next() should return next item or raise StopIteration.</li><li>Iter() should return &#39;self&#39;.</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">class</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">Counter</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__init__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.i </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">0</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__next__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.i </span><span style="color:#56B6C2;">+=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.i </span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">100000</span><span style="color:#ABB2BF;">: </span><span style="color:#7F848E;font-style:italic;"># 退出循环的条件</span></span>
<span class="line"><span style="color:#ABB2BF;">            </span><span style="color:#C678DD;">raise</span><span style="color:#ABB2BF;"> StopIteration()</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.i </span><span style="color:#7F848E;font-style:italic;"># 返回下一个值</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__iter__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">self</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>Callable</strong></p><ul><li>All functions and classes have a call() method, hence are callable.</li><li>When this cheatsheet uses &#39;&#39; as an argument, it actually means &#39;&#39;.</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">class</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">Counter</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__init__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.i </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">0</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__call__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.i </span><span style="color:#56B6C2;">+=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.i</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span></span>
<span class="line"><span style="color:#56B6C2;">&gt;&gt;&gt;</span><span style="color:#ABB2BF;"> counter </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">Counter</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#56B6C2;">&gt;&gt;&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">counter</span><span style="color:#ABB2BF;">(), </span><span style="color:#61AFEF;">counter</span><span style="color:#ABB2BF;">(), </span><span style="color:#61AFEF;">counter</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">3</span><span style="color:#ABB2BF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>Context Manager</strong></p><ul><li>Enter() should lock the resources and optionally return an object.</li><li>Exit() should release the resources.</li><li>Any exception that happens inside the with block is passed to the exit() method.</li><li>If it wishes to suppress the exception it must return a true value.</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">class</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">MyOpen</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__init__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">filename</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.filename </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> filename</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__enter__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.file </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">open</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.filename)</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.file</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__exit__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">exc_type</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">exception</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">traceback</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.file.</span><span style="color:#61AFEF;">close</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span></span>
<span class="line"><span style="color:#ABB2BF;">        </span></span>
<span class="line"><span style="color:#56B6C2;">&gt;&gt;&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">with</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">open</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;test.txt&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;w&#39;</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">as</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">file</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#D19A66;">...</span><span style="color:#ABB2BF;">     </span><span style="color:#E06C75;">file</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">write</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;Hello World!&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#56B6C2;">&gt;&gt;&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">with</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">MyOpen</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;test.txt&#39;</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">as</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">file</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#D19A66;">...</span><span style="color:#ABB2BF;">     </span><span style="color:#56B6C2;">print</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">file</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">read</span><span style="color:#ABB2BF;">())</span></span>
<span class="line"><span style="color:#ABB2BF;">Hello World!</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>库方法</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> contextlib </span><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> contextmanager</span></span>
<span class="line"><span style="color:#C678DD;">class</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">Query</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">object</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__init__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">name</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.name </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> name</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">query</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#56B6C2;">print</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;Query info about </span><span style="color:#D19A66;">%s</span><span style="color:#98C379;">...&#39;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">%</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">self</span><span style="color:#ABB2BF;">.name)</span></span>
<span class="line"><span style="color:#61AFEF;">@contextmanager</span></span>
<span class="line"><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">create_query</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;font-style:italic;">name</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#56B6C2;">print</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;Begin&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">    q </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">Query</span><span style="color:#ABB2BF;">(name)</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">yield</span><span style="color:#ABB2BF;"> q</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#56B6C2;">print</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;End&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span></span>
<span class="line"><span style="color:#C678DD;">with</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">create_query</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;Bob&#39;</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">as</span><span style="color:#ABB2BF;"> q:</span></span>
<span class="line"><span style="color:#ABB2BF;">    q.</span><span style="color:#61AFEF;">query</span><span style="color:#ABB2BF;">()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="collections-abc-容器的抽象基类" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#module-collections.abc" target="_blank" rel="noreferrer">collections.abc</a> --- 容器的抽象基类 <a class="header-anchor" href="#collections-abc-容器的抽象基类" aria-label="Permalink to &quot;[collections.abc](https://docs.python.org/zh-cn/3/library/collections.abc.html#module-collections.abc) --- 容器的抽象基类&quot;">​</a></h2><table><thead><tr><th>抽象基类</th><th>继承自</th><th>抽象方法</th><th>Mixin 方法</th></tr></thead><tbody><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Container" target="_blank" rel="noreferrer">Container</a></td><td></td><td><strong>contains</strong></td><td></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Hashable" target="_blank" rel="noreferrer">Hashable</a></td><td></td><td><strong>hash</strong></td><td></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Iterable" target="_blank" rel="noreferrer">Iterable</a></td><td></td><td><strong>iter</strong></td><td></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Iterator" target="_blank" rel="noreferrer">Iterator</a></td><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Iterable" target="_blank" rel="noreferrer">Iterable</a></td><td><strong>next</strong></td><td><strong>iter</strong></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Reversible" target="_blank" rel="noreferrer">Reversible</a></td><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Iterable" target="_blank" rel="noreferrer">Iterable</a></td><td><strong>reversed</strong></td><td></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Generator" target="_blank" rel="noreferrer">Generator</a></td><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Iterator" target="_blank" rel="noreferrer">Iterator</a></td><td>send, throw</td><td>close, <strong>iter</strong>, <strong>next</strong></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Sized" target="_blank" rel="noreferrer">Sized</a></td><td></td><td><strong>len</strong></td><td></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Callable" target="_blank" rel="noreferrer">Callable</a></td><td></td><td><strong>call</strong></td><td></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Collection" target="_blank" rel="noreferrer">Collection</a></td><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Sized" target="_blank" rel="noreferrer">Sized,</a> <br> Iterable, Container</td><td><strong>contains</strong>, <strong>iter</strong>, <strong>len</strong></td><td></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Sequence" target="_blank" rel="noreferrer">Sequence</a></td><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Reversible" target="_blank" rel="noreferrer">Reversible,</a> <br> Collection</td><td><strong>getitem</strong>, <strong>len</strong></td><td><strong>contains</strong>, <strong>iter</strong>, <strong>reversed</strong>, index, and count</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.MutableSequence" target="_blank" rel="noreferrer">MutableSequence</a></td><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Sequence" target="_blank" rel="noreferrer">Sequence</a></td><td><strong>getitem</strong>, <strong>setitem</strong>, <strong>delitem</strong>, <strong>len</strong>, insert</td><td>继承自 <a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Sequence" target="_blank" rel="noreferrer">Sequence</a> 的方法，以及 append, reverse, extend, pop, remove，和 <strong>iadd</strong></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.ByteString" target="_blank" rel="noreferrer">ByteString</a></td><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Sequence" target="_blank" rel="noreferrer">Sequence</a></td><td><strong>getitem</strong>, <strong>len</strong></td><td>继承自 <a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Sequence" target="_blank" rel="noreferrer">Sequence</a> 的方法</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Set" target="_blank" rel="noreferrer">Set</a></td><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Collection" target="_blank" rel="noreferrer">Collection</a></td><td><strong>contains</strong>, <strong>iter</strong>, <strong>len</strong></td><td><strong>le</strong>, <strong>lt</strong>, <strong>eq</strong>, <strong>ne</strong>, <strong>gt</strong>, <strong>ge</strong>, <strong>and</strong>, <strong>or</strong>, <strong>sub</strong>, <strong>xor</strong>, and isdisjoint</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.MutableSet" target="_blank" rel="noreferrer">MutableSet</a></td><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Set" target="_blank" rel="noreferrer">Set</a></td><td><strong>contains</strong>, <strong>iter</strong>, <strong>len</strong>, add, discard</td><td>继承自 <a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Set" target="_blank" rel="noreferrer">Set</a> 的方法以及 clear, pop, remove, <strong>ior</strong>, <strong>iand</strong>, <strong>ixor</strong>，和 <strong>isub</strong></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Mapping" target="_blank" rel="noreferrer">Mapping</a></td><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Collection" target="_blank" rel="noreferrer">Collection</a></td><td><strong>getitem</strong>, <strong>iter</strong>, <strong>len</strong></td><td><strong>contains</strong>, keys, items, values, get, <strong>eq</strong>, and <strong>ne</strong></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.MutableMapping" target="_blank" rel="noreferrer">MutableMapping</a></td><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Mapping" target="_blank" rel="noreferrer">Mapping</a></td><td><strong>getitem</strong>, <strong>setitem</strong>, <strong>delitem</strong>, <strong>iter</strong>, <strong>len</strong></td><td>继承自 <a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Mapping" target="_blank" rel="noreferrer">Mapping</a> 的方法以及 pop, popitem, clear, update，和 setdefault</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.MappingView" target="_blank" rel="noreferrer">MappingView</a></td><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Sized" target="_blank" rel="noreferrer">Sized</a></td><td></td><td><strong>len</strong></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.ItemsView" target="_blank" rel="noreferrer">ItemsView</a></td><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.MappingView" target="_blank" rel="noreferrer">MappingView,</a> <br> Set</td><td></td><td><strong>contains</strong>, <strong>iter</strong></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.KeysView" target="_blank" rel="noreferrer">KeysView</a></td><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.MappingView" target="_blank" rel="noreferrer">MappingView,</a> <br> Set</td><td></td><td><strong>contains</strong>, <strong>iter</strong></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.ValuesView" target="_blank" rel="noreferrer">ValuesView</a></td><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.MappingView" target="_blank" rel="noreferrer">MappingView,</a> <br> Collection</td><td></td><td><strong>contains</strong>, <strong>iter</strong></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Awaitable" target="_blank" rel="noreferrer">Awaitable</a></td><td></td><td><strong>await</strong></td><td></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Coroutine" target="_blank" rel="noreferrer">Coroutine</a></td><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.Awaitable" target="_blank" rel="noreferrer">Awaitable</a></td><td>send, throw</td><td>close</td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.AsyncIterable" target="_blank" rel="noreferrer">AsyncIterable</a></td><td></td><td><strong>aiter</strong></td><td></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.AsyncIterator" target="_blank" rel="noreferrer">AsyncIterator</a></td><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.AsyncIterable" target="_blank" rel="noreferrer">AsyncIterable</a></td><td><strong>anext</strong></td><td><strong>aiter</strong></td></tr><tr><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.AsyncGenerator" target="_blank" rel="noreferrer">AsyncGenerator</a></td><td><a href="https://docs.python.org/zh-cn/3/library/collections.abc.html#collections.abc.AsyncIterator" target="_blank" rel="noreferrer">AsyncIterator</a></td><td>asend, athrow</td><td>aclose, <strong>aiter</strong>, <strong>anext</strong></td></tr></tbody></table><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">class</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">D</span><span style="color:#ABB2BF;">:                                 </span><span style="color:#7F848E;font-style:italic;"># No inheritance</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__init__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">): </span><span style="color:#D19A66;">...</span><span style="color:#ABB2BF;">              </span><span style="color:#7F848E;font-style:italic;"># Extra method not required by the ABC</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__getitem__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">index</span><span style="color:#ABB2BF;">):  </span><span style="color:#D19A66;">...</span><span style="color:#ABB2BF;">   </span><span style="color:#7F848E;font-style:italic;"># Abstract method</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__len__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">):  </span><span style="color:#D19A66;">...</span><span style="color:#ABB2BF;">              </span><span style="color:#7F848E;font-style:italic;"># Abstract method</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">count</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">value</span><span style="color:#ABB2BF;">): </span><span style="color:#D19A66;">...</span><span style="color:#ABB2BF;">          </span><span style="color:#7F848E;font-style:italic;"># Mixin method</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">index</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">self</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">value</span><span style="color:#ABB2BF;">): </span><span style="color:#D19A66;">...</span><span style="color:#ABB2BF;">          </span><span style="color:#7F848E;font-style:italic;"># Mixin method</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span></span>
<span class="line"><span style="color:#ABB2BF;">    </span></span>
<span class="line"><span style="color:#ABB2BF;">Sequence.</span><span style="color:#61AFEF;">register</span><span style="color:#ABB2BF;">(D)                     </span><span style="color:#7F848E;font-style:italic;"># Register instead of inherit</span></span>
<span class="line"></span>
<span class="line"><span style="color:#56B6C2;">&gt;&gt;&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">issubclass</span><span style="color:#ABB2BF;">(D, Sequence)</span></span>
<span class="line"><span style="color:#D19A66;">True</span></span>
<span class="line"><span style="color:#56B6C2;">&gt;&gt;&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">isinstance</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">D</span><span style="color:#ABB2BF;">(), Sequence)</span></span>
<span class="line"><span style="color:#D19A66;">True</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="自省-introspection" tabindex="-1">自省（Introspection） <a class="header-anchor" href="#自省-introspection" aria-label="Permalink to &quot;自省（Introspection）&quot;">​</a></h2><p>Variables</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#56B6C2;">&lt;list&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">dir</span><span style="color:#ABB2BF;">()                             </span><span style="color:#7F848E;font-style:italic;"># Names of local variables (incl. functions).</span></span>
<span class="line"><span style="color:#56B6C2;">&lt;dict&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">vars</span><span style="color:#ABB2BF;">()                            </span><span style="color:#7F848E;font-style:italic;"># Dict of local variables. Also locals().</span></span>
<span class="line"><span style="color:#56B6C2;">&lt;dict&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">globals</span><span style="color:#ABB2BF;">()                         </span><span style="color:#7F848E;font-style:italic;"># Dict of global variables.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Attributes</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#56B6C2;">&lt;list&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">dir</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">&lt;object&gt;</span><span style="color:#ABB2BF;">)                     </span><span style="color:#7F848E;font-style:italic;"># Names of object&#39;s attributes (incl. methods).</span></span>
<span class="line"><span style="color:#56B6C2;">&lt;dict&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">vars</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">&lt;object&gt;</span><span style="color:#ABB2BF;">)                    </span><span style="color:#7F848E;font-style:italic;"># Dict of object&#39;s fields. Also &lt;obj&gt;.__dict__.</span></span>
<span class="line"><span style="color:#56B6C2;">&lt;bool&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">hasattr</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">&lt;object&gt;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;&lt;attr_name&gt;&#39;</span><span style="color:#ABB2BF;">)  </span><span style="color:#7F848E;font-style:italic;"># Checks if getattr() raises an error.</span></span>
<span class="line"><span style="color:#ABB2BF;">value  </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">getattr</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">&lt;object&gt;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;&lt;attr_name&gt;&#39;</span><span style="color:#ABB2BF;">)  </span><span style="color:#7F848E;font-style:italic;"># Raises AttributeError if attribute is missing.</span></span>
<span class="line"><span style="color:#56B6C2;">setattr</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">&lt;object&gt;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;&lt;attr_name&gt;&#39;</span><span style="color:#ABB2BF;">, value)    </span><span style="color:#7F848E;font-style:italic;"># Only works on objects with __dict__ attribute.</span></span>
<span class="line"><span style="color:#56B6C2;">delattr</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">&lt;object&gt;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;&lt;attr_name&gt;&#39;</span><span style="color:#ABB2BF;">)           </span><span style="color:#7F848E;font-style:italic;"># Equivalent to \`del &lt;object&gt;.&lt;attr_name&gt;\`.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Parameters</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> inspect </span><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> signature</span></span>
<span class="line"><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">sig</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">        </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">signature</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">function</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">no_of_params </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">len</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">sig</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">.parameters)</span></span>
<span class="line"><span style="color:#ABB2BF;">param_names  </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">list</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">sig</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">.parameters.</span><span style="color:#61AFEF;">keys</span><span style="color:#ABB2BF;">())</span></span>
<span class="line"><span style="color:#ABB2BF;">param_kinds  </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> [a.kind </span><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> a </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">sig</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">.parameters.</span><span style="color:#61AFEF;">values</span><span style="color:#ABB2BF;">()]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="元类-metaclass" tabindex="-1">元类（MetaClass） <a class="header-anchor" href="#元类-metaclass" aria-label="Permalink to &quot;元类（MetaClass）&quot;">​</a></h2><p>创建类的类。可以对类内部的定义（包括类属性和类方法）进行动态的修改 <br> 类用于创建类实例；元类用于创建类。 即：元类 -&gt; 类 -&gt; 类实例</p><p><strong>type(object, bases, dict)</strong></p><ul><li>object：类的名称</li><li>bases：存储的是该类的父类的元组</li><li>dict：类内定义的属性或者方法</li></ul><p>条件</p><ul><li>必须显式继承自 type 类；</li><li>类中需要定义并实现 <strong>new</strong>() 方法并返回该类的一个实例对象（使用元类创建类时， <strong>new</strong>() 方法会自动被执行，用来修改新建的类）</li></ul><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 定义一个元类</span></span>
<span class="line"><span style="color:#C678DD;">class</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">Meta</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">type</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;"># cls代表动态修改的类</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;"># name代表动态修改的类名</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;"># bases代表被动态修改的类的所有父类</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;"># attr代表被动态修改的类的所有属性、方法组成的字典</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__new__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">cls</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">name</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">bases</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">attrs</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#7F848E;font-style:italic;"># 动态为该类添加一个name属性</span></span>
<span class="line"><span style="color:#ABB2BF;">        attrs[</span><span style="color:#98C379;">&#39;name&#39;</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&quot;元子&quot;</span></span>
<span class="line"><span style="color:#ABB2BF;">        attrs[</span><span style="color:#98C379;">&#39;say&#39;</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">lambda</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;font-style:italic;">self</span><span style="color:#ABB2BF;">: </span><span style="color:#56B6C2;">print</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;调用 say() 实例方法&quot;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">super</span><span style="color:#ABB2BF;">().</span><span style="color:#56B6C2;">__new__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">cls</span><span style="color:#ABB2BF;">,name,bases,attrs)</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">#指定元类</span></span>
<span class="line"><span style="color:#C678DD;">class</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">Boy</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">object</span><span style="color:#ABB2BF;">, metaclass</span><span style="color:#56B6C2;">=</span><span style="color:#E5C07B;">Meta</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">pass</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">boy </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">Boy</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#56B6C2;">print</span><span style="color:#ABB2BF;">(boy.name)</span></span>
<span class="line"><span style="color:#ABB2BF;">boy.</span><span style="color:#61AFEF;">say</span><span style="color:#ABB2BF;">()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>单例模式</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">class</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">Singleton</span><span style="color:#ABB2BF;">:</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">__new__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;font-style:italic;">cls</span><span style="color:#ABB2BF;">,*</span><span style="color:#D19A66;font-style:italic;">args</span><span style="color:#ABB2BF;">,**</span><span style="color:#D19A66;font-style:italic;">kwargs</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">          </span><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">not</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">hasattr</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">cls</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;_instance&#39;</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">              _instance </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">super</span><span style="color:#ABB2BF;">().</span><span style="color:#56B6C2;">__new__</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">cls</span><span style="color:#ABB2BF;">,*args,**kwargs)</span></span>
<span class="line"><span style="color:#ABB2BF;">              </span><span style="color:#E5C07B;">cls</span><span style="color:#ABB2BF;">._instance </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> _instance</span></span>
<span class="line"><span style="color:#ABB2BF;">          </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">cls</span><span style="color:#ABB2BF;">._instance</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span></span>
<span class="line"><span style="color:#ABB2BF;">    </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">class</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">MyClass</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Singleton</span><span style="color:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#C678DD;">pass</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span></span>
<span class="line"><span style="color:#ABB2BF;">    </span></span>
<span class="line"><span style="color:#ABB2BF;">  c1 </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">MyClass</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#ABB2BF;">  c2 </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">MyClass</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#56B6C2;">print</span><span style="color:#ABB2BF;">(c1 </span><span style="color:#C678DD;">is</span><span style="color:#ABB2BF;"> c2)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="类型注解" tabindex="-1">类型注解 <a class="header-anchor" href="#类型注解" aria-label="Permalink to &quot;类型注解&quot;">​</a></h2><p>提供给编辑器进行类型检查的机会，对 Python 程序的运行不会产生任何影响。 <br> <a href="https://docs.python.org/zh-cn/3/library/typing.html#module-typing" target="_blank" rel="noreferrer">typing</a> --- 类型提示支持</p><p><strong>变量注解</strong></p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">a: </span><span style="color:#56B6C2;">int</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">3</span></span>
<span class="line"><span style="color:#ABB2BF;">b: </span><span style="color:#56B6C2;">float</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">3.14</span></span>
<span class="line"><span style="color:#ABB2BF;">c: </span><span style="color:#56B6C2;">str</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;abc&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">d: </span><span style="color:#56B6C2;">bool</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">False</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>函数注解</strong></p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">add</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;font-style:italic;">first</span><span style="color:#ABB2BF;">: </span><span style="color:#56B6C2;">int</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;font-style:italic;">second</span><span style="color:#ABB2BF;">: </span><span style="color:#56B6C2;">float</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">5.5</span><span style="color:#ABB2BF;">) -&gt; NoReturn:    </span><span style="color:#7F848E;font-style:italic;"># 无返回值，非None</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> first </span><span style="color:#56B6C2;">+</span><span style="color:#ABB2BF;"> second</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>容器类型</strong></p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> typing </span><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> List, Dict, Tuple    </span><span style="color:#7F848E;font-style:italic;"># Python 3.9+ 无需导入</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 参数1: 元素为 int 的列表</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 参数2: 键为字符串，值为 int 的字典</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 返回值: 包含两个元素的元组</span></span>
<span class="line"><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">mix</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;font-style:italic;">scores</span><span style="color:#ABB2BF;">: List[</span><span style="color:#56B6C2;">int</span><span style="color:#ABB2BF;">], </span><span style="color:#D19A66;font-style:italic;">ages</span><span style="color:#ABB2BF;">: Dict[</span><span style="color:#56B6C2;">str</span><span style="color:#ABB2BF;">, </span><span style="color:#56B6C2;">int</span><span style="color:#ABB2BF;">]) -&gt; Tuple[</span><span style="color:#56B6C2;">int</span><span style="color:#ABB2BF;">, </span><span style="color:#56B6C2;">int</span><span style="color:#ABB2BF;">]:</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> (</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>类型别名</strong></p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> typing </span><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> Tuple</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 类型别名</span></span>
<span class="line"><span style="color:#ABB2BF;">Vector2D </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> Tuple[</span><span style="color:#56B6C2;">int</span><span style="color:#ABB2BF;">, </span><span style="color:#56B6C2;">int</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">foo</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;font-style:italic;">vector</span><span style="color:#ABB2BF;">: Vector2D):</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#56B6C2;">print</span><span style="color:#ABB2BF;">(vector)</span></span>
<span class="line"><span style="color:#61AFEF;">foo</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">vector</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">))</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># Output: (1, 2)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> typing </span><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> NewType</span></span>
<span class="line"><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> typing </span><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> Tuple</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 创建新类型</span></span>
<span class="line"><span style="color:#ABB2BF;">Vector3D </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">NewType</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;Vector3D&#39;</span><span style="color:#ABB2BF;">, Tuple[</span><span style="color:#56B6C2;">int</span><span style="color:#ABB2BF;">, </span><span style="color:#56B6C2;">int</span><span style="color:#ABB2BF;">, </span><span style="color:#56B6C2;">int</span><span style="color:#ABB2BF;">])</span></span>
<span class="line"><span style="color:#C678DD;">def</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">bar</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;font-style:italic;">vector</span><span style="color:#ABB2BF;">: Vector3D):</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#56B6C2;">print</span><span style="color:#ABB2BF;">(vector)</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 传入参数必须是 Vector3D 的“实例”</span></span>
<span class="line"><span style="color:#ABB2BF;">v_3d </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">Vector3D</span><span style="color:#ABB2BF;">((</span><span style="color:#D19A66;">4</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">6</span><span style="color:#ABB2BF;">))</span></span>
<span class="line"><span style="color:#61AFEF;">bar</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">vector</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">v_3d)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>typing.<a href="https://docs.python.org/zh-cn/3/library/typing.html#typing.Any" target="_blank" rel="noreferrer"><strong>Any</strong></a> 不受限的特殊类型，所有类型都与 Any 兼容 <br> typing.<strong>NoReturn</strong> 标记没有返回值的函数的特殊类型 <br> typing.<strong>Union</strong> 参数必须是某种类型，且至少有一个</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">Union[</span><span style="color:#56B6C2;">int</span><span style="color:#ABB2BF;">, </span><span style="color:#56B6C2;">str</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">==</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">int</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">|</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">str</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>typing.<strong>Optional</strong> 可选类型。</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">Optional[X] </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> X </span><span style="color:#56B6C2;">|</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">None</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> Union[X, </span><span style="color:#D19A66;">None</span><span style="color:#ABB2BF;">]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>typing.**Callable **可调类型； Callable[[int], str] 是把（int）转为 str 的函数。 <br> typing.<strong>Literal</strong> 表示类型检查器对应变量或函数参数的值等价于给定字面量（或多个字面量之一）的类型 <br> typing.<strong>ClassVar</strong> 标记类变量的特殊类型构造器。 <br> typing.<strong>Final</strong> 不能再次赋值或在子类中重写的特殊类型构造器 <br> class typing.<strong>Generic</strong> 用于泛型类型的抽象基类。 <br> class typing.<strong>TypeVar</strong> 类型变量。</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">T </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">TypeVar</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;T&#39;</span><span style="color:#ABB2BF;">)  </span><span style="color:#7F848E;font-style:italic;"># Can be anything</span></span>
<span class="line"><span style="color:#ABB2BF;">A </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">TypeVar</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;A&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#56B6C2;">str</span><span style="color:#ABB2BF;">, </span><span style="color:#56B6C2;">bytes</span><span style="color:#ABB2BF;">)  </span><span style="color:#7F848E;font-style:italic;"># Must be str or bytes</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>typing.**AnyStr ** AnyStr = TypeVar(&#39;AnyStr&#39;, str, bytes) <br> class typing.<strong>Protocol</strong>(Generic) Protocol 类的基类。 <br> typing.<strong>cast</strong>(typ, val) 把值强制转换为类型。 <br> _@_typing. **overload **修饰支持多个不同参数类型组合的函数或方法。 <br> _@_typing. **final **被装饰的方法不能被覆盖，且被装饰的类不能作为子类的装饰器 <br> 内省辅助器 <br> typing.<strong>get_type_hints</strong>(obj, globalns=None, localns=None, include_extras=False) 返回函数、方法、模块、类对象的类型提示的字典 <br> typing.<strong>get_args</strong>(tp) <br> typing.<strong>get_origin</strong>(tp) 为泛型类型与特殊类型形式提供了基本的内省功能。</p><h2 id="cli" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/using/cmdline.html" target="_blank" rel="noreferrer">CLI</a> <a class="header-anchor" href="#cli" aria-label="Permalink to &quot;[CLI](https://docs.python.org/zh-cn/3/using/cmdline.html)&quot;">​</a></h2><p><code>python [-bBdEhiIOqsSuvVWx?] [-c &#39;command&#39; | -m module-name | script | - ] [args]</code></p><p>程序</p><ul><li>python.exe 运行时，会弹出一个黑色的控制台窗口</li><li>pythonw.exe 无窗口的Python可执行程序，即运行时，没有窗口，代码在后台执行。用于运行GUI（窗口程序），会忽略程序中向控制台输出的信息</li></ul><p><strong>文件</strong></p><ul><li>.py</li><li>.pyw 用来运行开发的纯图形界面程序的，</li><li>.pyc 由.py文件经过编译后生成的字节码文件，其加载速度相对于.py快些，还可实现源码隐藏</li><li>.pyo 优化编译后的程序（相比于.pyc文件更小），也可以提高加载速度</li></ul><p>第一次执行代码的时，Python解释器把编译的字节码放在__pycache__文件夹中，这样以后再次运行的话，如果被调用的模块未发生改变，那就跳过编译，直接去__pycache__文件夹中去运行相关的*.pyc文件，缩短时间。</p><h3 id="环境变量" tabindex="-1">环境变量 <a class="header-anchor" href="#环境变量" aria-label="Permalink to &quot;环境变量&quot;">​</a></h3><ul><li>PYTHONHOME 更改标准 Python 库的位置</li><li>PYTHONPATH 增加模块文件默认搜索路径</li><li>PYTHONWARNINGS</li></ul><h3 id="pip" tabindex="-1"><a href="https://pip.pypa.io/en/stable/" target="_blank" rel="noreferrer">pip</a> <a class="header-anchor" href="#pip" aria-label="Permalink to &quot;[pip](https://pip.pypa.io/en/stable/)&quot;">​</a></h3><p>Python 包管理工具，提供了对Python 包的查找、下载、安装、卸载的功能。</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">pip </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">command</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> [options]</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">V, </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">version</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">no</span><span style="color:#56B6C2;">-input</span><span style="color:#ABB2BF;">                  Disable prompting </span><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">input</span><span style="color:#ABB2BF;">.</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">proxy </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">proxy</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">             scheme:</span><span style="color:#56B6C2;">//</span><span style="color:#ABB2BF;">[user:passwd</span><span style="color:#56B6C2;">@</span><span style="color:#ABB2BF;">]proxy.server:port.</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">retries </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">retries</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">         default </span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;"> times</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">timeout </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">sec</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">             Set the socket </span><span style="color:#61AFEF;">timeout</span><span style="color:#ABB2BF;"> (default </span><span style="color:#D19A66;">15</span><span style="color:#ABB2BF;"> seconds).</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">trusted</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">host </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">hostname</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">   Mark this host </span><span style="color:#C678DD;">or</span><span style="color:#ABB2BF;"> host:port pair </span><span style="color:#C678DD;">as</span><span style="color:#ABB2BF;"> trusted</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">cert </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">path</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">               Path to </span><span style="color:#D19A66;">PEM</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">encoded </span><span style="color:#D19A66;">CA</span><span style="color:#ABB2BF;"> certificate bundle. </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">cache</span><span style="color:#56B6C2;">-dir</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">&lt;dir&gt;</span><span style="color:#ABB2BF;">           Store the cache data </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">&lt;dir&gt;</span><span style="color:#ABB2BF;">.</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">no</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">cache</span><span style="color:#56B6C2;">-dir</span><span style="color:#ABB2BF;">              Disable the cache.</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">disable</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">pip</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">version</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">check</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">no</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">color                  Suppress colored output.</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">use</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">feature </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">feature</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">     Enable new functionality</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">command</span></span>
<span class="line"><span style="color:#ABB2BF;">pip install [</span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">pacakage</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">|</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">r requirements.txt]</span></span>
<span class="line"><span style="color:#ABB2BF;">pip install [</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">U </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">pacakage</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">|</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">pacakage</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">upgrade]  </span><span style="color:#56B6C2;">//</span><span style="color:#ABB2BF;">升级指定的包，通过使用</span><span style="color:#56B6C2;">==</span><span style="color:#ABB2BF;">, </span><span style="color:#56B6C2;">&gt;=</span><span style="color:#ABB2BF;">, </span><span style="color:#56B6C2;">&lt;=</span><span style="color:#ABB2BF;">, </span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">, </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;"> 指定一个版本号。</span></span>
<span class="line"><span style="color:#ABB2BF;">pip uninstall [</span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">pacakage</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">|</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">r requirements.txt]</span></span>
<span class="line"><span style="color:#ABB2BF;">pip search </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">key</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">  </span><span style="color:#56B6C2;">//</span><span style="color:#ABB2BF;">搜索包</span></span>
<span class="line"><span style="color:#ABB2BF;">pip show [</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">f] </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">pacakage</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">  </span><span style="color:#56B6C2;">//</span><span style="color:#ABB2BF;">查看指定包的详细信息</span></span>
<span class="line"><span style="color:#ABB2BF;">pip </span><span style="color:#56B6C2;">list</span><span style="color:#ABB2BF;"> </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">outdated </span><span style="color:#FFFFFF;">--</span><span style="color:#56B6C2;">format</span><span style="color:#ABB2BF;"> columns  </span><span style="color:#56B6C2;">//</span><span style="color:#ABB2BF;">查看过时的包</span></span>
<span class="line"><span style="color:#ABB2BF;">pip freeze  </span><span style="color:#56B6C2;">//</span><span style="color:#ABB2BF;">按照一定格式输出安装的包及版本信息</span></span>
<span class="line"><span style="color:#ABB2BF;">pip wheel </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">pacakage</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">  </span><span style="color:#56B6C2;">//</span><span style="color:#ABB2BF;">打包</span></span>
<span class="line"><span style="color:#ABB2BF;">pip cache [</span><span style="color:#56B6C2;">dir</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">|</span><span style="color:#ABB2BF;"> info </span><span style="color:#56B6C2;">|</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">list</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">|</span><span style="color:#ABB2BF;"> remove] </span><span style="color:#56B6C2;">//</span><span style="color:#ABB2BF;"> 查看缓存信息</span></span>
<span class="line"></span>
<span class="line"><span style="color:#56B6C2;">//</span><span style="color:#ABB2BF;"> 配置</span></span>
<span class="line"><span style="color:#ABB2BF;">pip config [</span><span style="color:#56B6C2;">&lt;</span><span style="color:#E06C75;">file</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">option</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">list</span></span>
<span class="line"><span style="color:#ABB2BF;">pip config [</span><span style="color:#56B6C2;">&lt;</span><span style="color:#E06C75;">file</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">option</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">] get command.option</span></span>
<span class="line"><span style="color:#ABB2BF;">pip config [</span><span style="color:#56B6C2;">&lt;</span><span style="color:#E06C75;">file</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">option</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">] </span><span style="color:#56B6C2;">set</span><span style="color:#ABB2BF;"> command.option value</span></span>
<span class="line"><span style="color:#ABB2BF;">pip config [</span><span style="color:#56B6C2;">&lt;</span><span style="color:#E06C75;">file</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">option</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;">] unset command.option</span></span>
<span class="line"></span>
<span class="line"><span style="color:#56B6C2;">//</span><span style="color:#ABB2BF;"> 镜像源</span></span>
<span class="line"><span style="color:#ABB2BF;">pip config </span><span style="color:#56B6C2;">set</span><span style="color:#ABB2BF;"> </span><span style="color:#FFFFFF;">--</span><span style="color:#C678DD;">global</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">global</span><span style="color:#ABB2BF;">.index</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">url http:</span><span style="color:#56B6C2;">//</span><span style="color:#ABB2BF;">mirrors.aliyun.com</span><span style="color:#56B6C2;">/</span><span style="color:#ABB2BF;">pypi</span><span style="color:#56B6C2;">/</span><span style="color:#ABB2BF;">simple</span><span style="color:#56B6C2;">/</span></span>
<span class="line"><span style="color:#ABB2BF;">pip config </span><span style="color:#56B6C2;">set</span><span style="color:#ABB2BF;"> </span><span style="color:#FFFFFF;">--</span><span style="color:#C678DD;">global</span><span style="color:#ABB2BF;"> install.trusted</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">host mirrors.aliyun.com</span></span>
<span class="line"><span style="color:#ABB2BF;">pip config </span><span style="color:#56B6C2;">set</span><span style="color:#ABB2BF;"> </span><span style="color:#FFFFFF;">--</span><span style="color:#C678DD;">global</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">global</span><span style="color:#ABB2BF;">.disable</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">pip</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">version</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">check </span><span style="color:#D19A66;">True</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h3 id="venv" tabindex="-1"><a href="https://docs.python.org/zh-cn/3/library/venv.html#module-venv" target="_blank" rel="noreferrer">venv</a> <a class="header-anchor" href="#venv" aria-label="Permalink to &quot;[venv](https://docs.python.org/zh-cn/3/library/venv.html#module-venv)&quot;">​</a></h3><p>**虚拟环境（virtualenv）**是 Python 多版本管理的利器，可以使每个项目环境与其他项目独立开来，保持环境的干净，解决包冲突问题。</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">venv [</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">h] [</span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">system</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">site</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">packages] [</span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">symlinks </span><span style="color:#56B6C2;">|</span><span style="color:#ABB2BF;"> </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">copies] [</span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">clear]</span></span>
<span class="line"><span style="color:#ABB2BF;">            [</span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">upgrade] [</span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">without</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">pip] [</span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">prompt </span><span style="color:#D19A66;">PROMPT</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#ABB2BF;">            </span><span style="color:#D19A66;">ENV_DIR</span><span style="color:#ABB2BF;"> [</span><span style="color:#D19A66;">ENV_DIR</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">...</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span></span>
<span class="line"><span style="color:#ABB2BF;">Creates virtual Python environments </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> one </span><span style="color:#C678DD;">or</span><span style="color:#ABB2BF;"> more target directories.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">positional arguments:</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#D19A66;">ENV_DIR</span><span style="color:#ABB2BF;">               A directory to create the environment </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;">.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">optional arguments:</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">h, </span><span style="color:#FFFFFF;">--</span><span style="color:#56B6C2;">help</span><span style="color:#ABB2BF;">            show this </span><span style="color:#56B6C2;">help</span><span style="color:#ABB2BF;"> message </span><span style="color:#C678DD;">and</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">exit</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">system</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">site</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">packages</span></span>
<span class="line"><span style="color:#ABB2BF;">                        Give the virtual environment access to the system</span></span>
<span class="line"><span style="color:#ABB2BF;">                        site</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">packages </span><span style="color:#56B6C2;">dir</span><span style="color:#ABB2BF;">.</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">symlinks            Try to use symlinks rather than copies, when symlinks</span></span>
<span class="line"><span style="color:#ABB2BF;">                        are </span><span style="color:#C678DD;">not</span><span style="color:#ABB2BF;"> the default </span><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> the platform.</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">copies              Try to use copies rather than symlinks, even when</span></span>
<span class="line"><span style="color:#ABB2BF;">                        symlinks are the default </span><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> the platform.</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">clear               Delete the contents of the environment directory </span><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> it</span></span>
<span class="line"><span style="color:#ABB2BF;">                        already exists, before environment creation.</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">upgrade             Upgrade the environment directory to use this version</span></span>
<span class="line"><span style="color:#ABB2BF;">                        of Python, assuming Python has been upgraded </span><span style="color:#C678DD;">in</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">place.</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">without</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">pip         Skips installing </span><span style="color:#C678DD;">or</span><span style="color:#ABB2BF;"> upgrading pip </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> the virtual</span></span>
<span class="line"><span style="color:#ABB2BF;">                        </span><span style="color:#61AFEF;">environment</span><span style="color:#ABB2BF;"> (pip </span><span style="color:#C678DD;">is</span><span style="color:#ABB2BF;"> bootstrapped by default)</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">prompt </span><span style="color:#D19A66;">PROMPT</span><span style="color:#ABB2BF;">       Provides an alternative prompt prefix </span><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> this</span></span>
<span class="line"><span style="color:#ABB2BF;">                        environment.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>创建虚拟环境 <br> <strong>python -m venv venv_name</strong></p><p>激活虚拟环境</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">在Posix标准平台下</span></span>
<span class="line"><span style="color:#FFFFFF;">$</span><span style="color:#ABB2BF;"> source </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">venv</span><span style="color:#56B6C2;">&gt;/bin/</span><span style="color:#ABB2BF;">activate</span></span>
<span class="line"><span style="color:#ABB2BF;">在Windows cmd下</span></span>
<span class="line"><span style="color:#ABB2BF;">C:</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">venv</span><span style="color:#56B6C2;">&gt;/</span><span style="color:#ABB2BF;">Scripts</span><span style="color:#56B6C2;">/</span><span style="color:#ABB2BF;">activate.bat</span></span>
<span class="line"><span style="color:#ABB2BF;">在Windows PowerShell下</span></span>
<span class="line"><span style="color:#ABB2BF;">C:</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">venv</span><span style="color:#56B6C2;">&gt;/</span><span style="color:#ABB2BF;">Scripts</span><span style="color:#56B6C2;">/</span><span style="color:#ABB2BF;">Activate.ps1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="conda" tabindex="-1">conda <a class="header-anchor" href="#conda" aria-label="Permalink to &quot;conda&quot;">​</a></h3><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">clean        Remove unused packages </span><span style="color:#C678DD;">and</span><span style="color:#ABB2BF;"> caches.</span></span>
<span class="line"><span style="color:#ABB2BF;">config       Modify configuration values </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> .condarc. This </span><span style="color:#C678DD;">is</span><span style="color:#ABB2BF;"> modeled after the git config command. Writes to the</span></span>
<span class="line"><span style="color:#ABB2BF;">             user .condarc </span><span style="color:#E06C75;">file</span><span style="color:#ABB2BF;"> (C:\\</span><span style="color:#FFFFFF;">Users\\Hyle\\.condarc) by default.</span></span>
<span class="line"><span style="color:#ABB2BF;">create       Create a new conda environment </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> a </span><span style="color:#56B6C2;">list</span><span style="color:#ABB2BF;"> of specified packages.</span></span>
<span class="line"><span style="color:#56B6C2;">help</span><span style="color:#ABB2BF;">         Displays a </span><span style="color:#56B6C2;">list</span><span style="color:#ABB2BF;"> of available conda commands </span><span style="color:#C678DD;">and</span><span style="color:#ABB2BF;"> their </span><span style="color:#56B6C2;">help</span><span style="color:#ABB2BF;"> strings.</span></span>
<span class="line"><span style="color:#ABB2BF;">info         Display information about current conda install.</span></span>
<span class="line"><span style="color:#ABB2BF;">init         Initialize conda </span><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> shell interaction. [Experimental]</span></span>
<span class="line"><span style="color:#ABB2BF;">install      Installs a </span><span style="color:#56B6C2;">list</span><span style="color:#ABB2BF;"> of packages into a specified conda environment.</span></span>
<span class="line"><span style="color:#56B6C2;">list</span><span style="color:#ABB2BF;">         List linked packages </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> a conda environment.</span></span>
<span class="line"><span style="color:#ABB2BF;">package      Low</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">level conda package utility. (</span><span style="color:#D19A66;">EXPERIMENTAL</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">remove       Remove a </span><span style="color:#56B6C2;">list</span><span style="color:#ABB2BF;"> of packages </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> a specified conda environment.</span></span>
<span class="line"><span style="color:#ABB2BF;">uninstall    Alias </span><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> conda remove.</span></span>
<span class="line"><span style="color:#ABB2BF;">run          Run an executable </span><span style="color:#C678DD;">in</span><span style="color:#ABB2BF;"> a conda environment. [Experimental]</span></span>
<span class="line"><span style="color:#ABB2BF;">search       Search </span><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> packages </span><span style="color:#C678DD;">and</span><span style="color:#ABB2BF;"> display associated information. The </span><span style="color:#56B6C2;">input</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">is</span><span style="color:#ABB2BF;"> a MatchSpec, a query language</span></span>
<span class="line"><span style="color:#ABB2BF;">             </span><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> conda packages. See examples below.</span></span>
<span class="line"><span style="color:#ABB2BF;">update       Updates conda packages to the latest compatible version.</span></span>
<span class="line"><span style="color:#ABB2BF;">upgrade      Alias </span><span style="color:#C678DD;">for</span><span style="color:#ABB2BF;"> conda update.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>管理包</p><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">conda update [</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">n myenv] </span><span style="color:#FFFFFF;">--</span><span style="color:#56B6C2;">all</span><span style="color:#ABB2BF;">   </span><span style="color:#7F848E;font-style:italic;"># updates all packages</span></span>
<span class="line"><span style="color:#ABB2BF;">conda install </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">package</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">...</span></span>
<span class="line"><span style="color:#ABB2BF;">conda install </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">package</span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;">ver</span><span style="color:#56B6C2;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">conda remove </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">package</span><span style="color:#56B6C2;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">conda search </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;">package</span><span style="color:#56B6C2;">&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#7F848E;font-style:italic;"># 可以进行模糊查询</span></span>
<span class="line"><span style="color:#ABB2BF;">conda list [</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">r]  </span><span style="color:#7F848E;font-style:italic;"># 列出所有包</span></span>
<span class="line"><span style="color:#ABB2BF;">conda clean </span><span style="color:#FFFFFF;">--</span><span style="color:#ABB2BF;">packages  </span><span style="color:#56B6C2;">//</span><span style="color:#ABB2BF;">删除从不使用的包</span></span>
<span class="line"><span style="color:#ABB2BF;">conda clean </span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">a   </span><span style="color:#56B6C2;">//</span><span style="color:#ABB2BF;"> 删除索引缓存、锁定文件、未使用过的包和tar包。</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># Update Anaconda</span></span>
<span class="line"><span style="color:#ABB2BF;">conda update conda</span></span>
<span class="line"><span style="color:#ABB2BF;">conda update anaconda</span><span style="color:#56B6C2;">=</span><span style="color:#61AFEF;">VersionNumber</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">2019.10</span><span style="color:#ABB2BF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="https://conda.io/projects/conda/en/latest/glossary.html#metapackage" target="_blank" rel="noreferrer">metapackages</a></p><table><thead><tr><th>Task</th><th>Conda</th><th>Pip</th></tr></thead><tbody><tr><td>Install a package</td><td>conda install $PACKAGE_NAME</td><td>pip install $PACKAGE_NAME</td></tr><tr><td>Update a package</td><td>conda update --name $ENVIRONMENT_NAME $PACKAGE_NAME</td><td>pip install --upgrade $PACKAGE_NAME</td></tr><tr><td>Update package manager</td><td>conda update conda</td><td>Linux/macOS: pip install -U pip <br> Win: python -m pip install -U pip</td></tr><tr><td>Uninstall a package</td><td>conda remove --name $ENVIRONMENT_NAME $PACKAGE_NAME</td><td>pip uninstall $PACKAGE_NAME</td></tr><tr><td>Create an environment</td><td>conda create --name $ENVIRONMENT_NAME python</td><td>X</td></tr><tr><td>Activate an environment</td><td>conda activate $ENVIRONMENT_NAME*</td><td>X</td></tr><tr><td>Deactivate an environment</td><td>conda deactivate</td><td>X</td></tr><tr><td>Search available packages</td><td>conda search $SEARCH_TERM</td><td>pip search $SEARCH_TERM</td></tr><tr><td>Install package from specific source</td><td>conda install --channel $URL $PACKAGE_NAME</td><td>pip install --index-url $URL $PACKAGE_NAME</td></tr><tr><td>List installed packages</td><td>conda list --name $ENVIRONMENT_NAME</td><td>pip list</td></tr><tr><td>Create requirements file</td><td>conda list --export</td><td>pip freeze</td></tr><tr><td>List all environments</td><td>conda info --envs</td><td>X</td></tr><tr><td>Install other package manager</td><td>conda install pip</td><td>pip install conda</td></tr><tr><td>Install Python</td><td>conda install python=x.x</td><td>X</td></tr><tr><td>Update Python</td><td>conda update python*</td><td>X</td></tr></tbody></table>`,121),e=[o];function t(r,c,B,y,i,F){return n(),a("div",null,e)}const d=s(p,[["render",t]]);export{A as __pageData,d as default};
