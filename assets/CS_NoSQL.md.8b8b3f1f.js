import{_ as t,c as r,o as e,a as d}from"./app.36aa1ef3.js";const y=JSON.parse('{"title":"NoSQL","description":"","frontmatter":{"title":"NoSQL","created_at":"2022-02-01T05:44:46.000Z","updated_at":"2022-10-25T13:29:53.000Z","word_count":4544},"headers":[{"level":2,"title":"—— Not Only SQL ——","slug":"——-not-only-sql-——","link":"#——-not-only-sql-——","children":[]},{"level":2,"title":"—— Redis ——","slug":"——-redis-——","link":"#——-redis-——","children":[]},{"level":2,"title":"数据类型","slug":"数据类型","link":"#数据类型","children":[]},{"level":2,"title":"命令","slug":"命令","link":"#命令","children":[{"level":3,"title":"基本命令","slug":"基本命令","link":"#基本命令","children":[]},{"level":3,"title":"String","slug":"string","link":"#string","children":[]},{"level":3,"title":"Hash","slug":"hash","link":"#hash","children":[]},{"level":3,"title":"List","slug":"list","link":"#list","children":[]},{"level":3,"title":"Set","slug":"set","link":"#set","children":[]},{"level":3,"title":"Sorted set","slug":"sorted-set","link":"#sorted-set","children":[]},{"level":3,"title":"HyperLogLog","slug":"hyperloglog","link":"#hyperloglog","children":[]},{"level":3,"title":"发布订阅","slug":"发布订阅","link":"#发布订阅","children":[]},{"level":3,"title":"事务","slug":"事务","link":"#事务","children":[]},{"level":3,"title":"时限","slug":"时限","link":"#时限","children":[]},{"level":3,"title":"脚本","slug":"脚本","link":"#脚本","children":[]},{"level":3,"title":"客户端","slug":"客户端","link":"#客户端","children":[]}]},{"level":2,"title":"备份","slug":"备份","link":"#备份","children":[]},{"level":2,"title":"—— MongoDB ——","slug":"——-mongodb-——","link":"#——-mongodb-——","children":[]}],"relativePath":"CS/NoSQL.md"}'),a={name:"CS/NoSQL.md"},i=d('<h2 id="——-not-only-sql-——" tabindex="-1">—— Not Only SQL —— <a class="header-anchor" href="#——-not-only-sql-——" aria-hidden="true">#</a></h2><p>非关系型数据库：可以处理分布式、规模庞大、类型不确定、完整性没有保证的“杂乱”数据</p><p><strong>CAP 理论</strong>：针对分布式数据库而言的，指在一个分布式系统中，一致性、可用性、分区容错性三者不可兼得。</p><ul><li>一致性(Consistency)：所有节点在同一时间具有相同的数据</li><li>可用性(Availability)：保证每个请求不管成功或者失败都有响应</li><li>分隔容忍(Partition tolerance) ：系统中任意信息的丢失或失败不会影响系统的继续运作</li></ul><p><img src="https://www.runoob.com/wp-content/uploads/2013/10/cap-theoram-image.png#id=y8n8P&amp;originHeight=578&amp;originWidth=671&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p><p><strong>BASE理论</strong>（由 Eric Brewer 定义） <br> NoSQL数据库通常对可用性及一致性的弱要求原则:</p><ul><li>Basically Availble --基本可用</li><li>Soft-state --软状态/柔性事务。 &quot;Soft state&quot; 可以理解为&quot;无连接&quot;的, 而 &quot;Hard state&quot; 是&quot;面向连接&quot;的</li><li>Eventual Consistency -- 最终一致性， 也是是 ACID 的最终目的。</li></ul><table><thead><tr><th>分类</th><th>相关产品</th><th>应用场景</th><th>数据模型</th><th>优点</th><th>缺点</th></tr></thead><tbody><tr><td>键值数据库</td><td><a href="http://c.biancheng.net/redis/" target="_blank" rel="noreferrer">Redis</a>、<a href="http://c.biancheng.net/view/6574.html" target="_blank" rel="noreferrer">Memcached</a>、Riak</td><td>内容缓存，如会话、配置文件、参数等； <br> 频繁读写、拥有简单数据模型的应用</td><td>&lt;key,value&gt; 键值对，通过散列表来实现</td><td>扩展性好，灵活性好，大量操作时性能高</td><td>数据无结构化，通常只被当做字符串或者二进制数据，只能通过键来查询值</td></tr><tr><td>列族数据库</td><td>Bigtable、<a href="http://c.biancheng.net/hbase/" target="_blank" rel="noreferrer">HBase</a>、Cassandra</td><td>分布式数据存储与管理</td><td>以列族式存储，将同一列数据存在一起</td><td>可扩展性强，查找速度快，复杂性低</td><td>功能局限，不支持事务的强一致性</td></tr><tr><td>文档数据库</td><td><a href="http://c.biancheng.net/mongodb/" target="_blank" rel="noreferrer">MongoDB</a>、CouchDB</td><td>Web 应用，存储面向文档或类似半结构化的数据</td><td>&lt;key,value&gt; <br> value 是 JSON 结构的文档</td><td><a href="http://c.biancheng.net/data_structure/" target="_blank" rel="noreferrer">数据结构</a>灵活，可以根据 value 构建索引</td><td>缺乏统一查询语法</td></tr><tr><td>图形数据库</td><td><a href="http://c.biancheng.net/view/6579.html" target="_blank" rel="noreferrer">Neo4j</a>、InfoGrid</td><td>社交网络、推荐系统，专注构建关系图谱</td><td>图结构</td><td>支持复杂的图形算法</td><td>复杂性高，只能支持一定的数据规模</td></tr></tbody></table><h2 id="——-redis-——" tabindex="-1">—— <a href="https://github.com/redis/redis" target="_blank" rel="noreferrer">Redis</a> —— <a class="header-anchor" href="#——-redis-——" aria-hidden="true">#</a></h2><p>Remote Dictionary Server（远程字典服务器）</p><p>由Salvatore Sanfilippo编写的key-value存储系统。 <br> 一个开源的使用ANSI C语言编写、遵守BSD协议、支持网络、可基于内存亦可持久化的日志型、Key-Value数据库，并提供多种语言的API。</p><p><strong>Redis架构</strong></p><ul><li>redis-cli：客户端</li><li>redis-server：服务器</li><li>redis-check-dump：本地数据库检查</li><li>redis-check-aof：更新日志检查（Append-only file）</li><li>redis-benchmark：性能测试，用以模拟同时由N个客户端发送M个 SETs/GETs 查询</li></ul><p><code>redis-cli -h host -p port -a password</code></p><ul><li>设置密码：CONFIG set requirepass &quot;password&quot;</li><li>查看密码：CONFIG get requirepass</li><li>验证密码：AUTH password</li></ul><p><strong>连接</strong></p><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><a href="http://www.yiibai.com/redis/connection_auth.html" target="_blank" rel="noreferrer">AUTH password</a></td><td>使用给定的密码验证服务器</td></tr><tr><td><a href="http://www.yiibai.com/redis/connection_echo.html" target="_blank" rel="noreferrer">ECHO message</a></td><td>打印给定的字符串信息</td></tr><tr><td><a href="http://www.yiibai.com/redis/connection_ping.html" target="_blank" rel="noreferrer">PING</a></td><td>检查服务器是否正在运行</td></tr><tr><td><a href="http://www.yiibai.com/redis/connection_quit.html" target="_blank" rel="noreferrer">QUIT</a></td><td>关闭当前连接</td></tr><tr><td><a href="http://www.yiibai.com/redis/connection_select.html" target="_blank" rel="noreferrer">SELECT index</a></td><td>更改当前连接的所选数据库</td></tr></tbody></table><p>性能测试：<code>redis-benchmark [option] [option value]</code></p><table><thead><tr><th><strong>选项</strong></th><th><strong>说明</strong></th><th><strong>默认值</strong></th></tr></thead><tbody><tr><td><strong>-h</strong></td><td>指定服务器主机名</td><td>127.0.0.1</td></tr><tr><td><strong>-p</strong></td><td>指定服务器端口</td><td>6379</td></tr><tr><td><strong>-s</strong></td><td>指定服务器套接字</td><td></td></tr><tr><td><strong>-c</strong></td><td>指定并行连接的数量</td><td>50</td></tr><tr><td><strong>-n</strong></td><td>指定请求的总数</td><td>10000</td></tr><tr><td><strong>-d</strong></td><td>指定SET/GET值的数据大小(以字节为单位)</td><td>2</td></tr><tr><td><strong>-k</strong></td><td>1=keep alive, 0=reconnect</td><td>1</td></tr><tr><td><strong>-r</strong></td><td>使用SET/GET/INCR的随机键，SADD的随机值</td><td></td></tr><tr><td><strong>-p</strong></td><td>管道<code>&lt;numreq&gt;</code>请求</td><td>1</td></tr><tr><td><strong>-h</strong></td><td>指定服务器主机名</td><td></td></tr><tr><td><strong>-q</strong></td><td>强制让Redis安装。 只显示query/sec值</td><td></td></tr><tr><td><strong>--csv</strong></td><td>以CSV格式输出</td><td></td></tr><tr><td><strong>-l</strong></td><td>生成循环，永久运行测试</td><td></td></tr><tr><td><strong>-t</strong></td><td>只运行逗号分隔的测试列表</td><td></td></tr><tr><td><strong>-I</strong></td><td>空闲模式。 只打开N个空闲连接并等待</td><td></td></tr></tbody></table><p>示例：<code>redis-benchmark -h 127.0.0.1 -p 6379 -t set,lpush -n 10000 -q</code></p><h2 id="数据类型" tabindex="-1">数据类型 <a class="header-anchor" href="#数据类型" aria-hidden="true">#</a></h2><table><thead><tr><th>数据类型</th><th>数据类型存储的值</th><th>说 明</th></tr></thead><tbody><tr><td>STRING <br> （字符串）</td><td>可以是保存字符串、整数和浮点数</td><td>对字符串进行操作，如增加字符或者求子串：如果是整数或者浮点数，可以计算，如自增等</td></tr><tr><td>LIST <br> （列表）</td><td>一个链表，它的每一个节点都包含一个字符串</td><td>可以在链表的两端插入或者弹出节点，或者通过偏移对它进行裁剪；还可以读取一个或者多个节点，根据条件删除或者查找节点等</td></tr><tr><td>SET <br> （集合）</td><td>无序集合，每一个元素都是一个字符串</td><td>可以新增、读取、删除单个元素：检测一个元素是否在集合中；进行集合的运算；随机从集合中读取元素</td></tr><tr><td>HASH <br> （哈希散列表）</td><td>一个键值对应的无序列表</td><td>可以増、删、査、改单个键值对，也可以获取所有的键值对</td></tr><tr><td>ZSET <br> （有序集合）</td><td>有序的集合，可包含字符 串、整数、浮点数、分值（score），排序是依据分值的大小来决定的</td><td>可以增、删、査、改元素，根据分值的范围或者成员來获取对应的元索</td></tr><tr><td>HyperLogLog <br> （基数）</td><td>计算重复的值，以确定存储的数量</td><td>只提供基数的运算，不提供返回的功能</td></tr></tbody></table><h2 id="命令" tabindex="-1">命令 <a class="header-anchor" href="#命令" aria-hidden="true">#</a></h2><h3 id="基本命令" tabindex="-1">基本命令 <a class="header-anchor" href="#基本命令" aria-hidden="true">#</a></h3><p><code>help &lt;command&gt;</code> 查看帮助</p><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><a href="http://www.yiibai.com/redis/keys_del.html" target="_blank" rel="noreferrer">DEL key</a></td><td>此命令删除一个指定键(如果存在)。</td></tr><tr><td><a href="http://www.yiibai.com/redis/keys_dump.html" target="_blank" rel="noreferrer">DUMP key</a></td><td>此命令返回存储在指定键的值的序列化版本。</td></tr><tr><td><a href="http://www.yiibai.com/redis/keys_exists.html" target="_blank" rel="noreferrer">EXISTS key</a></td><td>此命令检查键是否存在。</td></tr><tr><td><a href="http://www.yiibai.com/redis/keys_keys.html" target="_blank" rel="noreferrer">KEYS pattern</a></td><td>查找与指定模式匹配的所有键。</td></tr><tr><td><a href="http://www.yiibai.com/redis/keys_move.html" target="_blank" rel="noreferrer">MOVE key db</a></td><td>将键移动到另一个数据库。</td></tr><tr><td><a href="http://www.yiibai.com/redis/keys_randomkey.html" target="_blank" rel="noreferrer">RANDOMKEY</a></td><td>从Redis返回一个随机的键。</td></tr><tr><td><a href="http://www.yiibai.com/redis/keys_rename.html" target="_blank" rel="noreferrer">RENAME key newkey</a></td><td>更改键的名称。</td></tr><tr><td><a href="http://www.yiibai.com/redis/keys_renamenx.html" target="_blank" rel="noreferrer">RENAMENX key newkey</a></td><td>如果新键不存在，重命名键。</td></tr><tr><td><a href="http://www.yiibai.com/redis/keys_type.html" target="_blank" rel="noreferrer">TYPE key</a></td><td>返回存储在键中的值的数据类型。</td></tr><tr><td>clear</td><td>清屏</td></tr></tbody></table><h3 id="string" tabindex="-1">String <a class="header-anchor" href="#string" aria-hidden="true">#</a></h3><table><thead><tr><th>命令</th><th>描述说明</th></tr></thead><tbody><tr><td><a href="http://www.yiibai.com/redis/strings_set.html" target="_blank" rel="noreferrer">SET key value</a></td><td>设置或更改指定键的值。</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_get.html" target="_blank" rel="noreferrer">GET key</a></td><td>获取指定键的值。</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_setnx.html" target="_blank" rel="noreferrer">SETNX key value</a></td><td>设置键的值，仅当键不存在时</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_mset.html" target="_blank" rel="noreferrer">MSET key value [key value …]</a></td><td>为多个键分别设置它们的值</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_msetnx.html" target="_blank" rel="noreferrer">MSETNX key value [key value …]</a></td><td>为多个键分别设置它们的值，仅当键不存在时</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_mget.html" target="_blank" rel="noreferrer">MGET key1 [key2..]</a></td><td>获取所有给定键的值</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_getrange.html" target="_blank" rel="noreferrer">GETRANGE key start end</a></td><td>获取存储在键上的字符串的子字符串。</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_getset.html" target="_blank" rel="noreferrer">GETSET key value</a></td><td>设置键的字符串值并返回其旧值。</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_strlen.html" target="_blank" rel="noreferrer">STRLEN key</a></td><td>获取存储在键中的值的长度</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_incr.html" target="_blank" rel="noreferrer">INCR key</a></td><td>将键的整数值增加1</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_incrby.html" target="_blank" rel="noreferrer">INCRBY key increment</a></td><td>将键的整数值按给定的数值增加</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_incrbyfloat.html" target="_blank" rel="noreferrer">INCRBYFLOAT key increment</a></td><td>将键的浮点值按给定的数值增加</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_decr.html" target="_blank" rel="noreferrer">DECR key</a></td><td>将键的整数值减1</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_decrby.html" target="_blank" rel="noreferrer">DECRBY key decrement</a></td><td>按给定数值减少键的整数值</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_append.html" target="_blank" rel="noreferrer">APPEND key value</a></td><td>将指定值附加到键</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_getbit.html" target="_blank" rel="noreferrer">GETBIT key offset</a></td><td>返回在键处存储的字符串值中偏移处的位值。</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_setbit.html" target="_blank" rel="noreferrer">SETBIT key offset value</a></td><td>存储在键上的字符串值中设置或清除偏移处的位</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_setrange.html" target="_blank" rel="noreferrer">SETRANGE key offset value</a></td><td>在指定偏移处开始的键处覆盖字符串的一部分</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_setex.html" target="_blank" rel="noreferrer">SETEX key seconds value</a></td><td>使用键和到期时间来设置值</td></tr><tr><td><a href="http://www.yiibai.com/redis/strings_psetex.html" target="_blank" rel="noreferrer">PSETEX key milliseconds value</a></td><td>设置键的值和到期时间(以毫秒为单位)</td></tr></tbody></table><h3 id="hash" tabindex="-1">Hash <a class="header-anchor" href="#hash" aria-hidden="true">#</a></h3><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><a href="http://www.yiibai.com/redis/hashes_hdel.html" target="_blank" rel="noreferrer">HDEL key field2 [field2]</a></td><td>删除一个或多个哈希字段。</td></tr><tr><td><a href="http://www.yiibai.com/redis/hashes_hexists.html" target="_blank" rel="noreferrer">HEXISTS key field</a></td><td>判断是否存在散列字段。</td></tr><tr><td><a href="http://www.yiibai.com/redis/hashes_hget.html" target="_blank" rel="noreferrer">HGET key field</a></td><td>获取存储在指定键的哈希字段的值。</td></tr><tr><td><a href="http://www.yiibai.com/redis/hashes_hgetall.html" target="_blank" rel="noreferrer">HGETALL key</a></td><td>获取存储在指定键的哈希中的所有字段和值</td></tr><tr><td><a href="http://www.yiibai.com/redis/hashes_hincrby.html" target="_blank" rel="noreferrer">HINCRBY key field increment</a></td><td>将哈希字段的整数值按给定数字增加</td></tr><tr><td><a href="http://www.yiibai.com/redis/hashes_hincrbyfloat.html" target="_blank" rel="noreferrer">HINCRBYFLOAT key field increment</a></td><td>将哈希字段的浮点值按给定数值增加</td></tr><tr><td><a href="http://www.yiibai.com/redis/hashes_hkeys.html" target="_blank" rel="noreferrer">HKEYS key</a></td><td>获取哈希中的所有字段</td></tr><tr><td><a href="http://www.yiibai.com/redis/hashes_hlen.html" target="_blank" rel="noreferrer">HLEN key</a></td><td>获取散列中的字段数量</td></tr><tr><td><a href="http://www.yiibai.com/redis/hashes_hmget.html" target="_blank" rel="noreferrer">HMGET key field1 [field2]</a></td><td>获取所有给定哈希字段的值</td></tr><tr><td><a href="http://www.yiibai.com/redis/hashes_hmset.html" target="_blank" rel="noreferrer">HMSET key field1 value1 [field2 value2 ]</a></td><td>为多个哈希字段分别设置它们的值</td></tr><tr><td><a href="http://www.yiibai.com/redis/hashes_hset.html" target="_blank" rel="noreferrer">HSET key field value</a></td><td>设置散列字段的字符串值</td></tr><tr><td><a href="http://www.yiibai.com/redis/hashes_hsetnx.html" target="_blank" rel="noreferrer">HSETNX key field value</a></td><td>仅当字段不存在时，才设置散列字段的值</td></tr><tr><td><a href="http://www.yiibai.com/redis/hashes_hvals.html" target="_blank" rel="noreferrer">HVALS key</a></td><td>获取哈希中的所有值</td></tr></tbody></table><h3 id="list" tabindex="-1">List <a class="header-anchor" href="#list" aria-hidden="true">#</a></h3><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><a href="http://www.yiibai.com/redis/lists_blpop.html" target="_blank" rel="noreferrer">BLPOP key1 [key2 ] timeout</a></td><td>删除并获取列表中的第一个元素，或阻塞，直到有一个元素可用</td></tr><tr><td><a href="http://www.yiibai.com/redis/lists_brpop.html" target="_blank" rel="noreferrer">BRPOP key1 [key2 ] timeout</a></td><td>删除并获取列表中的最后一个元素，或阻塞，直到有一个元素可用</td></tr><tr><td><a href="http://www.yiibai.com/redis/lists_brpoplpush.html" target="_blank" rel="noreferrer">BRPOPLPUSH source destination timeout</a></td><td>从列表中弹出值，将其推送到另一个列表并返回它; 或阻塞，直到一个可用</td></tr><tr><td><a href="http://www.yiibai.com/redis/lists_lindex.html" target="_blank" rel="noreferrer">LINDEX key index</a></td><td>通过其索引从列表获取元素</td></tr><tr><td><a href="http://www.yiibai.com/redis/lists_linsert.html" target="_blank" rel="noreferrer">LINSERT key BEFORE/AFTER pivot value</a></td><td>在列表中的另一个元素之前或之后插入元素</td></tr><tr><td><a href="http://www.yiibai.com/redis/lists_llen.html" target="_blank" rel="noreferrer">LLEN key</a></td><td>获取列表的长度</td></tr><tr><td><a href="http://www.yiibai.com/redis/lists_lpop.html" target="_blank" rel="noreferrer">LPOP key</a></td><td>删除并获取列表中的第一个元素</td></tr><tr><td><a href="http://www.yiibai.com/redis/lists_lpush.html" target="_blank" rel="noreferrer">LPUSH key value1 [value2]</a></td><td>将一个或多个值添加到列表</td></tr><tr><td><a href="http://www.yiibai.com/redis/lists_lpushx.html" target="_blank" rel="noreferrer">LPUSHX key value</a></td><td>仅当列表存在时，才向列表添加值</td></tr><tr><td><a href="http://www.yiibai.com/redis/lists_lrange.html" target="_blank" rel="noreferrer">LRANGE key start stop</a></td><td>从列表中获取一系列元素</td></tr><tr><td><a href="http://www.yiibai.com/redis/lists_lrem.html" target="_blank" rel="noreferrer">LREM key count value</a></td><td>从列表中删除元素</td></tr><tr><td><a href="http://www.yiibai.com/redis/lists_lset.html" target="_blank" rel="noreferrer">LSET key index value</a></td><td>通过索引在列表中设置元素的值</td></tr><tr><td><a href="http://www.yiibai.com/redis/lists_ltrim.html" target="_blank" rel="noreferrer">LTRIM key start stop</a></td><td>修剪列表的指定范围</td></tr><tr><td><a href="http://www.yiibai.com/redis/lists_rpop.html" target="_blank" rel="noreferrer">RPOP key</a></td><td>删除并获取列表中的最后一个元素</td></tr><tr><td><a href="http://www.yiibai.com/redis/lists_rpoplpush.html" target="_blank" rel="noreferrer">RPOPLPUSH source destination</a></td><td>删除列表中的最后一个元素，将其附加到另一个列表并返回</td></tr><tr><td><a href="http://www.yiibai.com/redis/lists_rpush.html" target="_blank" rel="noreferrer">RPUSH key value1 [value2]</a></td><td>将一个或多个值附加到列表</td></tr><tr><td><a href="http://www.yiibai.com/redis/lists_rpushx.html" target="_blank" rel="noreferrer">RPUSHX key value</a></td><td>仅当列表存在时才将值附加到列表</td></tr></tbody></table><h3 id="set" tabindex="-1">Set <a class="header-anchor" href="#set" aria-hidden="true">#</a></h3><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><a href="http://www.yiibai.com/redis/sets_sadd.html" target="_blank" rel="noreferrer">SADD key member1 [member2]</a></td><td>将一个或多个成员添加到集合</td></tr><tr><td><a href="http://www.yiibai.com/redis/sets_scard.html" target="_blank" rel="noreferrer">SCARD key</a></td><td>获取集合中的成员数</td></tr><tr><td><a href="http://www.yiibai.com/redis/sets_sdiff.html" target="_blank" rel="noreferrer">SDIFF key1 [key2]</a></td><td>减去多个集合</td></tr><tr><td><a href="http://www.yiibai.com/redis/sets_sdiffstore.html" target="_blank" rel="noreferrer">SDIFFSTORE destination key1 [key2]</a></td><td>减去多个集并将结果集存储在键中</td></tr><tr><td><a href="http://www.yiibai.com/redis/sets_sinter.html" target="_blank" rel="noreferrer">SINTER key1 [key2]</a></td><td>相交多个集合</td></tr><tr><td><a href="http://www.yiibai.com/redis/sets_sinterstore.html" target="_blank" rel="noreferrer">SINTERSTORE destination key1 [key2]</a></td><td>交叉多个集合并将结果集存储在键中</td></tr><tr><td><a href="http://www.yiibai.com/redis/sets_sismember.html" target="_blank" rel="noreferrer">SISMEMBER key member</a></td><td>判断确定给定值是否是集合的成员</td></tr><tr><td><a href="http://www.yiibai.com/redis/sets_smove.html" target="_blank" rel="noreferrer">SMOVE source destination member</a></td><td>将成员从一个集合移动到另一个集合</td></tr><tr><td><a href="http://www.yiibai.com/redis/sets_spop.html" target="_blank" rel="noreferrer">SPOP key</a></td><td>从集合中删除并返回随机成员</td></tr><tr><td><a href="http://www.yiibai.com/redis/sets_srandmember.html" target="_blank" rel="noreferrer">SRANDMEMBER key [count]</a></td><td>从集合中获取一个或多个随机成员</td></tr><tr><td><a href="http://www.yiibai.com/redis/sets_srem.html" target="_blank" rel="noreferrer">SREM key member1 [member2]</a></td><td>从集合中删除一个或多个成员</td></tr><tr><td><a href="http://www.yiibai.com/redis/sets_sunion.html" target="_blank" rel="noreferrer">SUNION key1 [key2]</a></td><td>添加多个集合</td></tr><tr><td><a href="http://www.yiibai.com/redis/sets_sunionstore.html" target="_blank" rel="noreferrer">SUNIONSTORE destination key1 [key2]</a></td><td>添加多个集并将结果集存储在键中</td></tr><tr><td><a href="http://www.yiibai.com/redis/sets_sscan.html" target="_blank" rel="noreferrer">SSCAN key cursor [MATCH pattern] [COUNT count]</a></td><td>递增地迭代集合中的元素</td></tr></tbody></table><h3 id="sorted-set" tabindex="-1">Sorted set <a class="header-anchor" href="#sorted-set" aria-hidden="true">#</a></h3><table><thead><tr><th>命 令</th><th>说 明</th></tr></thead><tbody><tr><td>zadd key score1 value1 [score2 value2......]</td><td>向有序集合的 key，增加一个或者多个成员</td></tr><tr><td>zcard key</td><td>获取有序集合的成员数</td></tr><tr><td>zcount key min max</td><td>根据分数返回对应的成员列表</td></tr><tr><td>zincrby key increment member</td><td>给有序集合成员值为 member 的分数增加 increment</td></tr><tr><td>zinterstore desKey numkeys key1 [key2 key3......]</td><td>求多个有序集合的交集，并且将结果保存到 desKey 中</td></tr><tr><td>zlexcount key min max</td><td>求有序集合 key 成员值在 min 和 max 的范围</td></tr><tr><td>zrange key start stop [withscores]</td><td>按照分值的大小（从小到大）返回成员，加入 start 和 stop 参数可以截取某一段返回。输入withscores，则连同分数一起返回</td></tr><tr><td>zrank key member</td><td>按从小到大求有序集合的排行</td></tr><tr><td>zrangebylex key min max [limit offset count]</td><td>根据值的大小，从小到大排序，min 为最小值，max 为最大值；limit 选项可选，当 Redis 求出范围集合后，会生产下标 0 到 n，根据 offset 和限定返回数 count，返回对应的成员</td></tr><tr><td>zrangebyscore key min max [withscores] [limit offset count]</td><td>根据分数大小，从小到大求取范围，withscores 和 limit 同上</td></tr><tr><td>zremrangebyscore key start stop</td><td>根据分数区间进行删除</td></tr><tr><td>zremrangebyrank key start stop</td><td>按照分数排行从小到大的排序删除，从 0 开始计算</td></tr><tr><td>zremrangebylex key min max</td><td>按照值的分布进行删除</td></tr><tr><td>zrevrange key start stop [withscores]</td><td>从大到小的按分数排序</td></tr><tr><td>zrevrangebyscore key max min [withscores]</td><td>从大到小的按分数排序</td></tr><tr><td>zrevrank key member</td><td>按从大到小的顺序，求元素的排行</td></tr><tr><td>zscore key member</td><td>返回成员的分数值</td></tr><tr><td>zunionstore desKey numKeys key1 [key2 key3 key4......]</td><td>求多个有序集合的并集，其中 numKeys 是有序集合的个数</td></tr></tbody></table><h3 id="hyperloglog" tabindex="-1">HyperLogLog <a class="header-anchor" href="#hyperloglog" aria-hidden="true">#</a></h3><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><a href="http://www.yiibai.com/redis/hyperloglog_pfadd.html" target="_blank" rel="noreferrer">PFADD key element [element …]</a></td><td>将指定的元素添加到指定的HyperLogLog 中。</td></tr><tr><td><a href="http://www.yiibai.com/redis/hyperloglog_pfcount.html" target="_blank" rel="noreferrer">PFCOUNT key [key …]</a></td><td>返回给定 HyperLogLog 的基数估算值。</td></tr><tr><td><a href="http://www.yiibai.com/redis/hyperloglog_pfmerge.html" target="_blank" rel="noreferrer">PFMERGE destkey sourcekey [sourcekey …]</a></td><td>将多个 HyperLogLog 合并为一个 HyperLogLog</td></tr></tbody></table><h3 id="发布订阅" tabindex="-1">发布订阅 <a class="header-anchor" href="#发布订阅" aria-hidden="true">#</a></h3><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><a href="http://www.yiibai.com/redis/pub_sub_psubscribe.html" target="_blank" rel="noreferrer">PSUBSCRIBE pattern [pattern …]</a></td><td>订阅一个或多个符合给定模式的频道。</td></tr><tr><td><a href="http://www.yiibai.com/redis/pub_sub_pubsub.html" target="_blank" rel="noreferrer">PUBSUB subcommand [argument [argument …]]</a></td><td>查看订阅与发布系统状态。</td></tr><tr><td><a href="http://www.yiibai.com/redis/pub_sub_publish.html" target="_blank" rel="noreferrer">PUBLISH channel message</a></td><td>将信息发送到指定的频道。</td></tr><tr><td><a href="http://www.yiibai.com/redis/pub_sub_punsubscribe.html" target="_blank" rel="noreferrer">PUNSUBSCRIBE [pattern [pattern …]]</a></td><td>退订所有给定模式的频道。</td></tr><tr><td><a href="http://www.yiibai.com/redis/pub_sub_subscribe.html" target="_blank" rel="noreferrer">SUBSCRIBE channel [channel …]</a></td><td>订阅给定的一个或多个频道的信息。</td></tr><tr><td><a href="http://www.yiibai.com/redis/pub_sub_unsubscribe.html" target="_blank" rel="noreferrer">UNSUBSCRIBE [channel [channel …]]</a></td><td>退订给定的频道。</td></tr></tbody></table><h3 id="事务" tabindex="-1">事务 <a class="header-anchor" href="#事务" aria-hidden="true">#</a></h3><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><a href="http://www.yiibai.com/transactions_discard.html" target="_blank" rel="noreferrer">DISCARD</a></td><td>丢弃在MULTI之后发出的所有命令</td></tr><tr><td><a href="http://www.yiibai.com/redis/transactions_exec.html" target="_blank" rel="noreferrer">EXEC</a></td><td>执行MULTI后发出的所有命令</td></tr><tr><td><a href="http://www.yiibai.com/redis/transactions_multi.html" target="_blank" rel="noreferrer">MULTI</a></td><td>标记事务块的开始</td></tr><tr><td><a href="http://www.yiibai.com/redis/transactions_unwatch.html" target="_blank" rel="noreferrer">UNWATCH</a></td><td>取消 WATCH 命令对所有 key 的监视。</td></tr><tr><td><a href="http://www.yiibai.com/redis/transactions_watch.html" target="_blank" rel="noreferrer">WATCH key [key …]</a></td><td>监视给定的键以确定MULTI / EXEC块的执行</td></tr></tbody></table><h3 id="时限" tabindex="-1">时限 <a class="header-anchor" href="#时限" aria-hidden="true">#</a></h3><table><thead><tr><th>命 令</th><th>说 明</th><th>备 注</th></tr></thead><tbody><tr><td>persist key</td><td>持久化 key，取消超时时间</td><td>移除 key 的超时时间</td></tr><tr><td>ttl key</td><td>査看 key 的超时时间</td><td>以秒计算，-1 代表没有超时时间，如果不存在 key 或者 key 已经超时则为 -2</td></tr><tr><td>expire key seconds</td><td>设置超时时间戳</td><td>以秒为单位</td></tr><tr><td>expireat key timestamp</td><td>设置超时时间点</td><td>用 uninx 时间戳确定</td></tr><tr><td>pptl key milliseconds</td><td>查看key的超时时间戳</td><td>用亳秒计算</td></tr><tr><td>pexpire key</td><td>设置键值超时的时间</td><td>以亳秒为单位</td></tr><tr><td>Pexpireat key stamptimes</td><td>设置超时时间点</td><td>以亳秒为单位的 uninx 时间戳</td></tr></tbody></table><h3 id="脚本" tabindex="-1">脚本 <a class="header-anchor" href="#脚本" aria-hidden="true">#</a></h3><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><a href="http://www.yiibai.com/redis/scripting_eval.html" target="_blank" rel="noreferrer">EVAL script numkeys key [key …] arg [arg …]</a></td><td>执行一个Lua脚本。</td></tr><tr><td><a href="http://www.yiibai.com/redis/scripting_evalsha.html" target="_blank" rel="noreferrer">EVALSHA sha1 numkeys key [key …] arg [arg …]</a></td><td>执行一个Lua脚本。</td></tr><tr><td><a href="http://www.yiibai.com/redis/scripting_script_exists.html" target="_blank" rel="noreferrer">SCRIPT EXISTS script [script …]</a></td><td>检查脚本缓存中是否存在脚本。</td></tr><tr><td><a href="http://www.yiibai.com/redis/scripting_script_flush.html" target="_blank" rel="noreferrer">SCRIPT FLUSH</a></td><td>从脚本缓存中删除所有脚本。</td></tr><tr><td><a href="http://www.yiibai.com/redis/scripting_script_kill.html" target="_blank" rel="noreferrer">SCRIPT KILL</a></td><td>杀死当前正在执行的脚本。</td></tr><tr><td><a href="http://www.yiibai.com/redis/scripting_script_load.html" target="_blank" rel="noreferrer">SCRIPT LOAD script</a></td><td>将指定的Lua脚本加载到脚本缓存中。</td></tr></tbody></table><p><strong>服务器</strong></p><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><a href="http://www.yiibai.com/redis/server_bgrewriteaof.html" target="_blank" rel="noreferrer">BGREWRITEAOF</a></td><td>异步重写仅追加的文件</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_bgsave.html" target="_blank" rel="noreferrer">BGSAVE</a></td><td>将数据集异步保存到磁盘</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_cluster_slots.html" target="_blank" rel="noreferrer">CLUSTER SLOTS</a></td><td>获取群集插槽到节点映射的数组</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_command.html" target="_blank" rel="noreferrer">COMMAND</a></td><td>获取Redis命令详细信息的数组</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_command_count.html" target="_blank" rel="noreferrer">COMMAND COUNT</a></td><td>获取Redis命令的总数</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_command_getkeys.html" target="_blank" rel="noreferrer">COMMAND GETKEYS</a></td><td>提取键给出一个完整的Redis的命令</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_command_info.html" target="_blank" rel="noreferrer">COMMAND INFO command-name [command-name …]</a></td><td>获取特定Redis命令详细信息的数组</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_config_get.html" target="_blank" rel="noreferrer">CONFIG GET parameter</a></td><td>获取配置参数的值</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_config_rewrite.html" target="_blank" rel="noreferrer">CONFIG REWRITE</a></td><td>使用内存中配置来重写配置文件</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_config_set.html" target="_blank" rel="noreferrer">CONFIG SET parameter value</a></td><td>将配置参数设置为给定值</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_config_resetstat.html" target="_blank" rel="noreferrer">CONFIG RESETSTAT</a></td><td>重置由INFO返回的统计信息</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_dbsize.html" target="_blank" rel="noreferrer">DBSIZE</a></td><td>返回所选数据库中的键数量</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_debug_object.html" target="_blank" rel="noreferrer">DEBUG OBJECT key</a></td><td>获取有关键的调试信息</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_debug_segfault.html" target="_blank" rel="noreferrer">DEBUG SEGFAULT</a></td><td>使服务器崩溃</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_flushall.html" target="_blank" rel="noreferrer">FLUSHALL</a></td><td>从所有数据库中删除所有键</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_flushdb.html" target="_blank" rel="noreferrer">FLUSHDB</a></td><td>删除当前数据库中的所有键</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_info.html" target="_blank" rel="noreferrer">INFO [section]</a></td><td>获取有关服务器的信息和统计信息</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_lastsave.html" target="_blank" rel="noreferrer">LASTSAVE</a></td><td>获取上次成功保存到磁盘的UNIX时间戳</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_monitor.html" target="_blank" rel="noreferrer">MONITOR</a></td><td>监听服务器实时接收的所有请求</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_role.html" target="_blank" rel="noreferrer">ROLE</a></td><td>返回实例在复制上下文中的角色</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_save.html" target="_blank" rel="noreferrer">SAVE</a></td><td>将数据集同步保存到磁盘，在 redis 安装目录中创建dump.rdb文件</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_shutdown.html" target="_blank" rel="noreferrer">SHUTDOWN [NOSAVE] [SAVE]</a></td><td>将数据集同步保存到磁盘，然后关闭服务器</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_slaveof.html" target="_blank" rel="noreferrer">SLAVEOF host port</a></td><td>使服务器成为另一个实例的从属，或将其提升作为主服务器</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_showlog.html" target="_blank" rel="noreferrer">SLOWLOG subcommand [argument]</a></td><td>管理Redis慢查询日志</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_sync.html" target="_blank" rel="noreferrer">SYNC</a></td><td>用于复制的命令</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_time.html" target="_blank" rel="noreferrer">TIME</a></td><td>返回当前服务器的时间</td></tr></tbody></table><p>info [section]：查询 Redis 相关信息</p><ul><li>server: Redis server 的常规信息</li><li>clients: Client 的连接选项</li><li>memory: 存储占用相关信息</li><li>persistence: RDB and AOF 相关信息</li><li>stats: 常规统计</li><li>replication: Master/Slave 请求信息</li><li>cpu: CPU 占用信息统计</li><li>cluster: Redis 集群信息</li><li>keyspace: 数据库信息统计</li><li>all: 返回所有信息</li><li>default: 返回常规设置信息</li></ul><h3 id="客户端" tabindex="-1">客户端 <a class="header-anchor" href="#客户端" aria-hidden="true">#</a></h3><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td><a href="http://www.yiibai.com/redis/server_client_kill.html" target="_blank" rel="noreferrer">CLIENT KILL [ip:port] [ID client-id]</a></td><td>杀死或断开指定的客户端的连接</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_client_list.html" target="_blank" rel="noreferrer">CLIENT LIST</a></td><td>获取到服务器的客户端连接列表</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_client_getname.html" target="_blank" rel="noreferrer">CLIENT GETNAME</a></td><td>获取当前连接的名称</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_client_pause.html" target="_blank" rel="noreferrer">CLIENT PAUSE timeout</a></td><td>在指定时间内停止处理来自客户端的命令</td></tr><tr><td><a href="http://www.yiibai.com/redis/server_client_setname.html" target="_blank" rel="noreferrer">CLIENT SETNAME connection-name</a></td><td>设置当前连接名称</td></tr></tbody></table><h2 id="备份" tabindex="-1">备份 <a class="header-anchor" href="#备份" aria-hidden="true">#</a></h2><p>快照恢复（RDB） <br> 通过快照（snapshotting）实现的，它是备份当前瞬间 Redis 在内存中的数据记录。将默认文件 dump.rdb <br> 只追加文件（Append-Only File，AOF） <br> 当 Redis 执行写命令后，在一定的条件下将执行过的写命令依次保存在 Redis 的文件中，将来就可以依次执行那些保存的命令恢复 Redis 的数据了。</p><h2 id="——-mongodb-——" tabindex="-1">—— MongoDB —— <a class="header-anchor" href="#——-mongodb-——" aria-hidden="true">#</a></h2><p><a href="https://www.mongodb.com/" target="_blank" rel="noreferrer">mongodb</a>由C++语言编写的，是一个基于分布式文件存储的开源数据库系统。 <br> 旨在为 WEB 应用提供可扩展的高性能数据存储解决方案。</p><p>面向集合存储，易于存储对象类型的数据，模式自由，支持动态查询，支持完全索引，支持复制和故障恢复，使用高效的二进制数据存储，文件存储格式为 BSON （ 一种 JSON 的扩展）等。</p><table><thead><tr><th>SQL术语/概念</th><th>MongoDB术语/概念</th><th>解释/说明</th></tr></thead><tbody><tr><td>database</td><td>database</td><td>数据库</td></tr><tr><td>table</td><td>collection</td><td>数据库表/集合</td></tr><tr><td>row</td><td>document</td><td>数据记录行/文档</td></tr><tr><td>column</td><td>field</td><td>数据字段/域</td></tr><tr><td>index</td><td>index</td><td>索引</td></tr><tr><td>table joins</td><td>不支持</td><td>表连接</td></tr><tr><td>primary key</td><td>primary key</td><td>主键</td></tr></tbody></table>',58),l=[i];function h(s,n,o,b,m,w){return e(),r("div",null,l)}const f=t(a,[["render",h]]);export{y as __pageData,f as default};
