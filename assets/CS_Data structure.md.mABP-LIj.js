import{_ as s,o as n,c as a,R as l}from"./chunks/framework.RQC-XgH8.js";const p="/Notes/assets/1644386284328-6e94cda5-aac7-4e5e-a389-5b588cb52be9.1du0ZCM3.png",o="/Notes/assets/1649142889477-cd6cf366-5de7-4a32-a16c-7fe03edff4b6.pbG8kNjj.jpeg",e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAB9CAYAAABAgpqjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOlElEQVR4nO2dCcxdRRXHDxUL0laxhkWKolLaIk1EwlKqooBSwERBq4KoNLIZMZoosVUEq6itoEFtsAqKFXAXVETRVstWqxhXXMCVVgWXqoigbQWp8/tmrt/7Xt+8O3edufPmn5y85c67c+a8uXNnzpzzvyIJCQkJCd3HVCUnK/mMkjuU3G+E9582x6Z60y6hc9hByauV3K3kGiWnKJmtZIoR3r/cHLvLlN3Bi6YJnQEjEB3mJiVPdShPmVuUXC1p9Eqw4GFK1ij5kJKHF/gdZT+s5OvmHAkJE/BuJVdJudsav/mkkmW1apTQeeyr5HYlu1Q4xy7mHE+qRaOEKMBIdYrl2Cwlq5X8y8hq890gMKm/onbtEjqJRyj5q9hHqx8qWapkVyMXKPmBpSwT+L+YcyaMOBYo+dqQ45uV7NTzeWcl/x5SnhHtOTXoldBxnKHk0iHHP6fkfCWPEj1iLTXf2XCpOWfCiGOJDF/NzVCyQck2I7zfa0j5ZeacCSOOvBEL39bbZeIca82Q8mnEShjDMaKdmzZske3nWFuGlE9zrIQx5K0KWQEulfERi9Hre5ayrAo3ie58CQlD/Vj7K1kreiWIfFP0RvQgJD9WwgTgef+5VPO8TzXnSJ73hP/jGaJvYbgRyu4V/lS0MzXdBhNkkpLFomOvjhU98WZVVyS6YbKSy0SvFK9U8iMlc+pVM6FL2E30apD502PNd9zOPq9kvbjHY1GWkW6K+W6Rkj+Lfc6WEDGepWSj6BVefwwVt7WzlPxBybVKXiF6BMoiSOeY7zhGBOmZsv3t8wAlP1FyuVSbtyV0BNz6zhPdaY7MKUsnOknJp0SHw2Qx77eb706S8VFqEOhQHxPdwZ5cSeuEoLGnkm+Inkft2WK93BK5NS5qsc6ElnC06FGK0WqSh/q5ff5YycclxcZHAeZPzKN+p+QIz7rghiA2nlvpXM+6JFQAUQk3KLle9AowFDA349Z4pm9FEoqDjWV8U/ioQsz520/0HuQnlDzSsy4JQzBTyUVKdlSyXMmdSp7mVaN8EDGxQskvlRwoug3v86pRpGB5fpzoW8Ri83qc5PuBuM1xayEIj/nLdUoe05yatWOhkj+J3lKiDW9x+E1ZW40U8F5/QcnfRXvCmeAuN6+rzffXyGBPOIZkj+4B0X8Kr/s1r3LtoP3/Fd0GMoFeailXxVYjA/bjPijaDQD/gc3ZyPL8bFNuhYzv47Hiwy9FsgN/yH/Ma9fCgneX8Q6VhT/fp+SwnjJVbTUyYKRhxca+3DTH31AOjoS15vcfUfKg6BgpPOLvV/K42jVtB/jWTlBym+hO9ZDoNjHvqsNWI4EsHf0SKb5io/xK0ZNzrmxGqzdLXCur+aIjJbLR64tSzVZlaQM6B/w4VQg0+B2bv+zXTa5LqQBBlCrJr4w6VWxFxOvCupQKFXSEYfwGx4umECJZ4W+iCc5mDCiXcS3EPIfot9W2HhkERiWITe4RPYlfZr4bBVvJS0R3Fhu4Ok8UnbTAPOFc0fFOg/BZJS+qVbuwYLOVrWMR6vNt0TmPe5n3p5tjsdtqbG51coHyZNBsthwjauCqyhqFC5utbB2LC/Cons+8X2fex24r+YXYmVr6wZIa18F1luOzzPlihc1Wto51r0xcxEAJcI95H7ut5J/itmTO5hJ41Gdaykwz54sVNlvZOhYO1t6QIN4/aN7HbivnjgW4+oifutlyPHZjFe1Yw0as2G1V6FYImGPZ0tlZjt9RWaNwUfRWOGyOFbutxsJEbPtggCxiMo+JUiB8+L2ivc6DEPuE1GYrW8d6lejOla0KeZ+tCmO3lbxYNCG/DSyJCeFlM5n51SrRe2mDQMpVzI6/flttGyC9wGd1oejbH7Jcxj3usdtqzOlHGvq+Fc8z05wnZqdfslVB4PhjL6zKNgWO1KivQINkqwJgeGb+sFLKbaxC8H9l3UoFimSrgiCUgyuJoLQioSAEubGpOkqsxMlWBcE9/2eid/AJTrMZbZo5zmSeJfgo5uVhqw+IThBxsRWhzsTSz29Fu8DwMtGZKgeLXrWwI898gjDbZeZ1jfme4yQcECrzTh/KBgJCjl1txbyKsO2YQ4u2Ay4Err4De75jyIdzncSAJeZ1gUyMgOR3f5QRj+kWN1sBOtnb2lXNL2jwBSV/S6AgBGfRL59rwB6ib4tP8a1IGyDeiiF6p7yCQwCF0Hn1qBM9mHJAxrujb0WaxHTRGSSH5RXMAVsW3BIPqKzRaOAronMDosUq0ft/deA0JbdKevikC/YWfUuMksKSTN1fSX1+FRyAJGW8vqbzxQ4m+GxMR3Uh4l+BSuiZNZ93H9F+sC5mP7cNLkQSfF/nW5E6wdbCJQ2dG4fgjTIiuXMV8UTRjuaqG9tBAK7PDeK+HVEUdCiiTM9u6PyxgRGLrZ5OX4gkRDCvOqbhergVciU+vuF6YgCx8ESWnuVbkSq4WDRzcBs4R/RkvtNXYktgdciFuLdvRYqAzGWC+g8XPWF/dEv1strB/bBI9FW5T0v1dhXwan1V9IX4dM+6OIFwWsJm6VQntFw3DlMeEcfV+I+W6+4a8MTDQf8b0f9X0GR1bNNAw4Oi5LR9R3QaUhtgxIIukvw6aICgN4pi9dMQXiPjsfPYKmg3BBvE5K9lFENM3NsK22BIJ7htq4wTsV3YUt1dBE88603M+K1fdYYDIoqMnQ7qwrZjgehc+MvuN3oQnxSVp7lmMLfK7jC8HuxXncFgskxyKcMq3Oo+A8yItqRz0cGf61GPLgB2ae4yTCHaWsGPgWA8nu7AaERw3lbzyuelMh7rAzcTPZ+d9BBipaC2Rp9bzWfXdowi5sn4LZG93EZtRXo3Afw8fu0douOnea7fZPM633y/0ZRDqV9LWHE/ZLegF4w1ru2wkZDEjkNE24qE4cZsRSQCYRZvkPyAvJ1NORj4ji9aUcOgHWQFF2kH7T62Yb1CBLaCax5HcyO2gkwCH9ShBRUjeG+jTCSm8IlY2tEGGrcVXvPfS/l7KEkOG2T8Ubi+EEs72kArtuJRs6eVrCADAWWXVTxHVcTSjjbQuK3YmCTJweb3yWPtzcDvYen1FXyX1w7A1cmGNS4JqL1fOaCM73a0gX5buf7H4KaeckNtdb645aC5VMpS1VcWTV47WO0yL3iB6Dw8Qm0ut5T12Y42YLNV3n98qpJv9ZWz2op46MMdlHHpWPNNxT6Q1w7YiAeNUIPgsx1twGarYf8x0SpcmLP7ylltRTqVy0O4XToW6Vl3OZRrAnntYIlMKhQOPzzzcKDbQnt8tqMN2Gw17D8mzPycAeWstsK76rIN49KxJpvz+UBeO4i64AFP042sEvtDDXy2ow3YbGX7j3EvMCpNGlDOaqtRGbFgF+4doehc91nKphFrIrh1zrGUs9qqzjkWG5vrcks1g7x23CLbdywbVbXPdrSBonOsQTyoWVmrrUZlVcjE/aOiOxeySvSEfhDSqnA4nFaFzPIhQnPxYw3zdbAJDZmqL/9PXjsAxmRfjMk7zDeDJu++29EG+m3l+h9nyI7n2oor+XTbQUeE4LGOpR1toBVbsW+Ej6IssdlBoveNXBYBTSKWdrSB1mx1lKloXsEK5pnfHVlUs4YQSzvaQBbd0LitoB1kKfpGyWeH4fhiU35BQcWaRtF24DjdJOG1o2mQK8CDzompa/w/55GxRAnSkyGUJfAeX8Vk88rnd8l4NKHtcby+cbSS74tbO24UHUJShW2wi4D3gk1l0uVa+8/nKnmraJ8HDrCt5nWd+X5ulZO3gKtFRzu6tiMrPypgE76fCqrr/3njwGl3pxQbgYh+IJN6eiMahYWMvG6ULqTKwGhklRR5BnWGFUreU686QQJncaLbLAgeUfddKcc+s5vo28MT6lQoMCSC4BIgr5FUtCrUlG8S+1ZPDPiS6C2dhAJ4rWjDVQFLalY/h1RXJzikhzCUAOw2DPH713CuRaJdEDGB2zz2Oci3Il0Dj6xdWdO5CGgjM/h5NZ0vBIz6g65KIfPJ7FHjOeFPZec+JOqAsoAIj2yaUXMAl8YU83qFaAde3cDXQ5w3Tyvt2ioquyAIDcKj7hLMmWBAXNCXRSdITMkpWxRM4rm1PmTqObfm8zcNmPtYIUPhebFnXToFthdg78soItnLqpM5mfzD3sC322o8dxvgSavYBfuwJ5hYpR3BCELH4k9/QOp7CFQvCLnNWAKhwNy9gTqaABddpnc24iYufEcwgmT0lE0y0pF/CFshf9SpDdZTJ6DN5GJjtCIkpg4XzEiAkYMRBIpKduKbXLkROsK+Gn/S9Q3WUxfQl1Q39IWifLZfdcKBC10hI0fG+NsG7Td1bDJ1HuqgXxNwpXFcaPRE31kN6dIpFKGo5GrEeG0+uuMIU+fdDvrVST1ZhroTSVz3UpyiEscllNttUTuWodCsg3qyTL1MEc6oWG8UCJ3a0Zd+odslaIRO7ehLv9DtEjxCp3b0pV/odgkaLtSOGXrpCfvRFLVjEQrNTO6tQb+iNI5QoWMfXC/4rKBmmlGi3mjgSkYyiJ6wH02QeLjql+GFop9CNghF9CtK2LFWyYlKdhX9mGR2JNaXqDcauNAn2egJ+9EEtaMrvVMGnKgzLMeK6FeGxrEXbJ5vLlFvNHAhfLPRE/ajCaI0V0I6QECgjSgXFNGvDI1jBiI8loh+1EvReqNBHrXjMHrCfjRB7ehKoQkYrYbtxxXRryiNY+9xhNzIzDkbO+XlQOSNCMPoCfvhc8TCiXltTpm2Riyeyc2c6uYS9UaDvDnMMHrCfjRB7eg6x1pv6h+GIvrVMcfaUqLeaFB01RXiqvDZ4jY5bnJVSFg2t2EiPBjpiEu7oUS90cCF2rEXbVNUuuiH/+j5Oecpql9RGkcyv8koIv6K+dUq0WFFo0B5aUXo1I6+9AvdLsEjdGpHX/qFbpdOIHRqR1/6hW6XTiB0ikpf+oVul04gdIpKX/qFbpfOIHS6Ql/6hW6XhISEhI7hf1NiGW5eTxY8AAAAAElFTkSuQmCC",r="/Notes/assets/1643807394369-238162b4-da14-4e4c-950a-8ba50a914119.ZFvaJQxY.jpeg",t="/Notes/assets/1644412353211-f78c41ce-1367-41d9-b04b-c05ec69ac012.B5WGy3kg.png",c="/Notes/assets/1644412592128-dc427009-1c99-49f1-85bb-051ce19cbb84.igIx6Ylt.png",B="/Notes/assets/1644413152304-bcb1c88d-8604-45ae-8f2c-bd89e264f92d.7Fji_hYB.svg",y="/Notes/assets/1644413467136-0ae48fa9-406b-4547-bcad-f58bbac3ca0c.hAjt-RQW.svg",i="/Notes/assets/1644413509142-925cd89f-aff8-4d12-ad70-f024a754c0e5.ypBZOKZk.svg",h=JSON.parse('{"title":"Data structure","description":"","frontmatter":{"title":"Data structure","created_at":"2022-02-10T13:59:46.000Z","updated_at":"2023-01-08T11:21:33.000Z","word_count":12641},"headers":[],"relativePath":"CS/Data structure.md","filePath":"CS/Data structure.md"}'),F={name:"CS/Data structure.md"},A=l('<h2 id="tree" tabindex="-1">Tree <a class="header-anchor" href="#tree" aria-label="Permalink to &quot;Tree&quot;">​</a></h2><p>树：由n（n&gt;0）个有限节点组成一个具有层次关系的<a href="https://wiwiki.kfd.me/wiki/%E9%9B%86%E5%90%88_(%E6%95%B0%E5%AD%A6)" target="_blank" rel="noreferrer">集合</a>。 <br> <img src="'+p+`" alt=""></p><p><strong>基本术语</strong></p><ul><li>结点的度（Degree）：结点的子树个数</li><li>树的度：树的所有结点中最大的度数</li><li>叶结点（Leaf）：度为 0 的结点</li><li>父结点（Parent）：有子树的结点是其子树的根结点的父结点</li><li>子结点（Child）：若 A 结点是 B 结点的父结点，则称 B 结点是 A 结点的子结点，也称孩子结点</li><li>兄弟结点（Sibling）：具有同一父结点的各个结点彼此是兄弟结点</li><li>路径</li><li>路径长度：路径所包含边的个数</li><li>祖先结点（Ancestor）：沿树根到某一结点路径上的所有结点都是这个结点的祖先结点</li><li>子孙结点（Descendant）：某一结点的子树中的所有结点是这个结点的子孙</li><li>结点的层次（Level）：规定根结点在 1 层，其他任一结点的层数是其父结点的层数加一</li><li>树的深度（Depth）：树中所有结点中的最大层次是这棵树的深度</li></ul><p>特点</p><ul><li>每个节点都只有有限个子节点或无子节点；</li><li>没有父节点的节点称为根节点；</li><li>每一个非根节点有且只有一个父节点；</li><li>除了根节点外，每个子节点可以分为多个不相交的子树；</li><li>树里面没有环路(cycle)</li></ul><p><strong>树与森林</strong> <br> <strong>树 --&gt; 二叉树</strong></p><ul><li>加线：在兄弟之间加一连线</li><li>抹线：对每个结点，除了其左孩子外，去除其与其余孩子之间的关系</li><li>旋转：以树的根结点为轴心，将整树顺时针转45°</li></ul><p>二叉树的先序对应树的先序遍历；二叉树的中序对应树的后序遍历 <br> <strong>森林 --&gt; 二叉树</strong></p><ul><li>将各棵树分别转换成二叉树</li><li>将每棵树的根结点用线相连</li><li>以第一棵树根结点为二叉树的根</li></ul><h3 id="binary-tree" tabindex="-1">Binary Tree <a class="header-anchor" href="#binary-tree" aria-label="Permalink to &quot;Binary Tree&quot;">​</a></h3><p><strong>二叉树</strong>是每个节点最多只有两个分支的树结构。 <br> 通常分支被称作“左子树”或“右子树”。二叉树的分支具有左右次序，不能随意颠倒。</p><p><strong>特点</strong></p><ul><li><p>二叉树第i层上的结点数目最多为2i-1(i&gt;=1)</p></li><li><p>深度为k的二叉树至多有2k-1个结点（k&gt;=1）</p></li><li><p>包含n个结点的二叉树的高度至少为(log2n)+1</p></li><li><p>在任意一棵二叉树中，若终端结点的个数为n0，度为2的结点数为n2，则n0=n2+1</p></li><li><p><a href="https://wiwiki.kfd.me/wiki/%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91" target="_blank" rel="noreferrer">完全二叉树</a>：对于一棵二叉树，假设其深度为d（d&gt;1）。除了第d层外，其它各层的节点数目均已达最大值，且第d层所有节点从左向右连续地紧密排列</p><ul><li><a href="https://wiwiki.kfd.me/wiki/%E6%BB%A1%E4%BA%8C%E5%8F%89%E6%A0%91" target="_blank" rel="noreferrer">满二叉树</a>：所有叶节点都在最底层的完全二叉树；</li></ul></li></ul><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> struct</span><span style="color:#ABB2BF;"> TNode </span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;">Position;</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#ABB2BF;"> Position BinTree;</span><span style="color:#7F848E;font-style:italic;"> /* 二叉树类型 */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> TNode{</span><span style="color:#7F848E;font-style:italic;"> /* 树结点定义 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    ElementType Data;</span><span style="color:#7F848E;font-style:italic;"> /* 结点数据 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    BinTree Left;</span><span style="color:#7F848E;font-style:italic;">     /* 指向左子树 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    BinTree Right;</span><span style="color:#7F848E;font-style:italic;">    /* 指向右子树 */</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="traversal" tabindex="-1">Traversal <a class="header-anchor" href="#traversal" aria-label="Permalink to &quot;Traversal&quot;">​</a></h4><p><img src="`+o+`" alt=""></p><p>先序遍历</p><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 递归实现</span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> PreorderTraversal</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> BinTree </span><span style="color:#E06C75;font-style:italic;">BT</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;">( BT ) {</span></span>
<span class="line"><span style="color:#61AFEF;">        printf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;</span><span style="color:#D19A66;">%d</span><span style="color:#98C379;"> &quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">BT</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;"> );</span></span>
<span class="line"><span style="color:#61AFEF;">        PreorderTraversal</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">BT</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;"> );</span></span>
<span class="line"><span style="color:#61AFEF;">        PreorderTraversal</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">BT</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;"> );</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 迭代实现</span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> PreOrderTraversal</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">BinTree </span><span style="color:#E06C75;font-style:italic;">BT</span><span style="color:#ABB2BF;">){</span></span>
<span class="line"><span style="color:#ABB2BF;">	BinTree T </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> BT;</span></span>
<span class="line"><span style="color:#ABB2BF;">	Stack S </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> CreateStack</span><span style="color:#ABB2BF;">();</span><span style="color:#7F848E;font-style:italic;">  // 创建并初始化堆栈 S</span></span>
<span class="line"><span style="color:#C678DD;">	while</span><span style="color:#ABB2BF;">(T </span><span style="color:#56B6C2;">||</span><span style="color:#56B6C2;"> !</span><span style="color:#61AFEF;">IsEmpty</span><span style="color:#ABB2BF;">(S)){</span><span style="color:#7F848E;font-style:italic;">  // 当树不为空或堆栈不空 </span></span>
<span class="line"><span style="color:#C678DD;">		while</span><span style="color:#ABB2BF;">(T){     </span></span>
<span class="line"><span style="color:#61AFEF;">			Push</span><span style="color:#ABB2BF;">(S,T);</span><span style="color:#7F848E;font-style:italic;">    // 压栈，第一次遇到该结点 </span></span>
<span class="line"><span style="color:#61AFEF;">			printf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;</span><span style="color:#D19A66;">%d</span><span style="color:#98C379;">&quot;</span><span style="color:#ABB2BF;">,</span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">);</span><span style="color:#7F848E;font-style:italic;">  // 访问结点</span></span>
<span class="line"><span style="color:#ABB2BF;">			T </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;">   // 遍历左子树 </span></span>
<span class="line"><span style="color:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#C678DD;">		if</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">!</span><span style="color:#61AFEF;">IsEmpty</span><span style="color:#ABB2BF;">(S)){</span><span style="color:#7F848E;font-style:italic;">  // 当堆栈不空 </span></span>
<span class="line"><span style="color:#ABB2BF;">			T </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> Pop</span><span style="color:#ABB2BF;">(S);</span><span style="color:#7F848E;font-style:italic;">    // 出栈，第二次遇到该结点 </span></span>
<span class="line"><span style="color:#ABB2BF;">			T </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;">  // 访问右结点 </span></span>
<span class="line"><span style="color:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#ABB2BF;">	} </span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>中序遍历</p><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 递归实现</span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> InorderTraversal</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> BinTree </span><span style="color:#E06C75;font-style:italic;">BT</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;">( BT ) {</span></span>
<span class="line"><span style="color:#61AFEF;">        InorderTraversal</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">BT</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;"> );</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        /* 此处假设对BT结点的访问就是打印数据 */</span></span>
<span class="line"><span style="color:#61AFEF;">        printf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;</span><span style="color:#D19A66;">%d</span><span style="color:#98C379;"> &quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">BT</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">);</span><span style="color:#7F848E;font-style:italic;"> /* 假设数据为整型 */</span></span>
<span class="line"><span style="color:#61AFEF;">        InorderTraversal</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">BT</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;"> );</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 迭代实现</span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> InOrderTraversal</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">BinTree </span><span style="color:#E06C75;font-style:italic;">BT</span><span style="color:#ABB2BF;">){</span></span>
<span class="line"><span style="color:#ABB2BF;">	BinTree T </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> BT;</span></span>
<span class="line"><span style="color:#ABB2BF;">	Stack S </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> CreateStack</span><span style="color:#ABB2BF;">();</span><span style="color:#7F848E;font-style:italic;">  // 创建并初始化堆栈 S</span></span>
<span class="line"><span style="color:#C678DD;">	while</span><span style="color:#ABB2BF;">(T </span><span style="color:#56B6C2;">||</span><span style="color:#56B6C2;"> !</span><span style="color:#61AFEF;">IsEmpty</span><span style="color:#ABB2BF;">(S)){</span><span style="color:#7F848E;font-style:italic;">  // 当树不为空或堆栈不空 </span></span>
<span class="line"><span style="color:#C678DD;">		while</span><span style="color:#ABB2BF;">(T){     </span></span>
<span class="line"><span style="color:#61AFEF;">			Push</span><span style="color:#ABB2BF;">(S,T);</span><span style="color:#7F848E;font-style:italic;">    // 压栈</span></span>
<span class="line"><span style="color:#ABB2BF;">			T </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;">   // 遍历左子树 </span></span>
<span class="line"><span style="color:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#C678DD;">		if</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">!</span><span style="color:#61AFEF;">IsEmpty</span><span style="color:#ABB2BF;">(S)){</span><span style="color:#7F848E;font-style:italic;">  // 当堆栈不空 </span></span>
<span class="line"><span style="color:#ABB2BF;">			T </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> Pop</span><span style="color:#ABB2BF;">(S);</span><span style="color:#7F848E;font-style:italic;">    // 出栈</span></span>
<span class="line"><span style="color:#61AFEF;">			printf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;</span><span style="color:#D19A66;">%d</span><span style="color:#98C379;">&quot;</span><span style="color:#ABB2BF;">,</span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">);</span><span style="color:#7F848E;font-style:italic;">  // 访问结点</span></span>
<span class="line"><span style="color:#ABB2BF;">			T </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;">  // 访问右结点 </span></span>
<span class="line"><span style="color:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#ABB2BF;">	} </span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>后序遍历</p><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 递归实现</span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> PostorderTraversal</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> BinTree </span><span style="color:#E06C75;font-style:italic;">BT</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;">( BT ) {</span></span>
<span class="line"><span style="color:#61AFEF;">        PostorderTraversal</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">BT</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;"> );</span></span>
<span class="line"><span style="color:#61AFEF;">        PostorderTraversal</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">BT</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;"> );</span></span>
<span class="line"><span style="color:#61AFEF;">        printf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;</span><span style="color:#D19A66;">%d</span><span style="color:#98C379;"> &quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">BT</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 迭代实现</span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> PostOrderTraversal</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">BinTree </span><span style="color:#E06C75;font-style:italic;">BT</span><span style="color:#ABB2BF;">){</span></span>
<span class="line"><span style="color:#ABB2BF;">	BinTree T </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> BT;</span></span>
<span class="line"><span style="color:#ABB2BF;">	Stack S </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> CreateStack</span><span style="color:#ABB2BF;">();</span><span style="color:#7F848E;font-style:italic;">  // 创建并初始化堆栈 S</span></span>
<span class="line"><span style="color:#ABB2BF;">	vector</span><span style="color:#C678DD;">&lt;</span><span style="color:#ABB2BF;">BinTree</span><span style="color:#C678DD;">&gt;</span><span style="color:#ABB2BF;"> v;</span><span style="color:#7F848E;font-style:italic;">   // 创建存储树结点的动态数组</span></span>
<span class="line"><span style="color:#61AFEF;">	Push</span><span style="color:#ABB2BF;">(S,T);</span></span>
<span class="line"><span style="color:#C678DD;">	while</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">!</span><span style="color:#61AFEF;">IsEmpty</span><span style="color:#ABB2BF;">(S)){</span><span style="color:#7F848E;font-style:italic;">  // 当树不为空或堆栈不空 </span></span>
<span class="line"><span style="color:#ABB2BF;">		T </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> Pop</span><span style="color:#ABB2BF;">(S);</span></span>
<span class="line"><span style="color:#E5C07B;">		v</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push_back</span><span style="color:#ABB2BF;">(T);</span><span style="color:#7F848E;font-style:italic;">  // 出栈元素进数组</span></span>
<span class="line"><span style="color:#C678DD;">		if</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#61AFEF;">			Push</span><span style="color:#ABB2BF;">(S,</span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">		if</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#61AFEF;">			Push</span><span style="color:#ABB2BF;">(S,</span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#61AFEF;">	reverse</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">v</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">begin</span><span style="color:#ABB2BF;">(),</span><span style="color:#E5C07B;">v</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">end</span><span style="color:#ABB2BF;">());</span><span style="color:#7F848E;font-style:italic;">  // 逆转 </span></span>
<span class="line"><span style="color:#C678DD;">	for</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> i</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">;i</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">v</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">size</span><span style="color:#ABB2BF;">();i</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">)</span><span style="color:#7F848E;font-style:italic;">  // 输出数组元素</span></span>
<span class="line"><span style="color:#61AFEF;">		printf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;</span><span style="color:#D19A66;">%d</span><span style="color:#98C379;">&quot;</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;">v</span><span style="color:#ABB2BF;">[i]-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>层序遍历</p><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> LevelOrderTraversal</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">BinTree </span><span style="color:#E06C75;font-style:italic;">BT</span><span style="color:#ABB2BF;">){</span></span>
<span class="line"><span style="color:#ABB2BF;">	queue</span><span style="color:#C678DD;">&lt;</span><span style="color:#ABB2BF;">BinTree</span><span style="color:#C678DD;">&gt;</span><span style="color:#ABB2BF;"> q;</span><span style="color:#7F848E;font-style:italic;">   // 创建队列</span></span>
<span class="line"><span style="color:#ABB2BF;">	BinTree T;</span></span>
<span class="line"><span style="color:#C678DD;">	if</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">!</span><span style="color:#ABB2BF;">BT)</span></span>
<span class="line"><span style="color:#C678DD;">		return</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">	q</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">(BT);</span><span style="color:#7F848E;font-style:italic;">  // BT 入队 </span></span>
<span class="line"><span style="color:#C678DD;">	while</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">!</span><span style="color:#E5C07B;">q</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">empty</span><span style="color:#ABB2BF;">()){</span></span>
<span class="line"><span style="color:#ABB2BF;">		T </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> q</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">front</span><span style="color:#ABB2BF;">();</span><span style="color:#7F848E;font-style:italic;">  // 访问队首元素 </span></span>
<span class="line"><span style="color:#E5C07B;">		q</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">pop</span><span style="color:#ABB2BF;">();</span><span style="color:#7F848E;font-style:italic;">  // 出队</span></span>
<span class="line"><span style="color:#61AFEF;">		printf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;</span><span style="color:#D19A66;">%d</span><span style="color:#98C379;">&quot;</span><span style="color:#ABB2BF;">,</span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">		if</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">)</span><span style="color:#7F848E;font-style:italic;">  // 如果存在左儿子结点</span></span>
<span class="line"><span style="color:#E5C07B;">			q</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">);</span><span style="color:#7F848E;font-style:italic;">  // 入队</span></span>
<span class="line"><span style="color:#C678DD;">	 	if</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E5C07B;">	 		q</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="binary-search-tree" tabindex="-1">Binary Search Tree <a class="header-anchor" href="#binary-search-tree" aria-label="Permalink to &quot;Binary Search Tree&quot;">​</a></h3><p>二叉搜索树，亦称有序二叉树 <br> 性质</p><ul><li>非空<strong>左子树</strong>的所有键值<strong>小于</strong>其根结点的键值</li><li>非空<strong>右子树</strong>的所有键值<strong>大于</strong>其根结点的键值</li><li>左、右子树都是二叉搜索树</li></ul><p><img src="`+e+`" alt=""></p><table><thead><tr><th>算法</th><th><strong>平均</strong></th><th><strong>最差</strong></th></tr></thead><tbody><tr><td>空间</td><td>O(<em>n</em>)</td><td>O(<em>n</em>)</td></tr><tr><td>搜索</td><td>O(log <em>n</em>)</td><td>O(<em>n</em>)</td></tr><tr><td>插入</td><td>O(log <em>n</em>)</td><td>O(<em>n</em>)</td></tr><tr><td>删除</td><td>O(log <em>n</em>)</td><td>O(<em>n</em>)</td></tr></tbody></table><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">#include</span><span style="color:#98C379;">&lt;iostream&gt;</span></span>
<span class="line"><span style="color:#C678DD;">#include</span><span style="color:#98C379;">&lt;malloc.h&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">using namespace std;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> int</span><span style="color:#ABB2BF;"> ElementType;</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> struct</span><span style="color:#ABB2BF;"> TreeNode </span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;">BinTree;</span></span>
<span class="line"><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> TreeNode{</span></span>
<span class="line"><span style="color:#ABB2BF;">	ElementType Data;</span></span>
<span class="line"><span style="color:#ABB2BF;">	BinTree Left;</span></span>
<span class="line"><span style="color:#ABB2BF;">	BinTree Right;</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 查找递归实现 </span></span>
<span class="line"><span style="color:#ABB2BF;">BinTree </span><span style="color:#61AFEF;">Find</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">ElementType </span><span style="color:#E06C75;font-style:italic;">X</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;">BinTree </span><span style="color:#E06C75;font-style:italic;">BST</span><span style="color:#ABB2BF;">){</span></span>
<span class="line"><span style="color:#C678DD;">	if</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">!</span><span style="color:#ABB2BF;">BST)</span><span style="color:#7F848E;font-style:italic;">  // 如果根结点为空，返回 NULL </span></span>
<span class="line"><span style="color:#C678DD;">		return</span><span style="color:#D19A66;"> NULL</span><span style="color:#ABB2BF;">; </span></span>
<span class="line"><span style="color:#C678DD;">	if</span><span style="color:#ABB2BF;">(X </span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;"> BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">)</span><span style="color:#7F848E;font-style:italic;"> // 比根结点小，去左子树查找 </span></span>
<span class="line"><span style="color:#C678DD;">		return</span><span style="color:#61AFEF;"> Find</span><span style="color:#ABB2BF;">(X,</span><span style="color:#E5C07B;">BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">); </span></span>
<span class="line"><span style="color:#C678DD;">	else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#C678DD;"> &lt;</span><span style="color:#ABB2BF;"> X)</span><span style="color:#7F848E;font-style:italic;">  // 比根结点大，去右子树查找 </span></span>
<span class="line"><span style="color:#C678DD;">		return</span><span style="color:#61AFEF;"> Find</span><span style="color:#ABB2BF;">(X,</span><span style="color:#E5C07B;">BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">	else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> X)</span><span style="color:#7F848E;font-style:italic;"> // 找到了 </span></span>
<span class="line"><span style="color:#C678DD;">		return</span><span style="color:#ABB2BF;"> BST;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 查找迭代实现</span></span>
<span class="line"><span style="color:#ABB2BF;">BinTree </span><span style="color:#61AFEF;">IterFind</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">ElementType </span><span style="color:#E06C75;font-style:italic;">X</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;">BinTree </span><span style="color:#E06C75;font-style:italic;">BST</span><span style="color:#ABB2BF;">){</span></span>
<span class="line"><span style="color:#C678DD;">	while</span><span style="color:#ABB2BF;">(BST){</span></span>
<span class="line"><span style="color:#C678DD;">		if</span><span style="color:#ABB2BF;">(X </span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;"> BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">			BST </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">		else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#C678DD;"> &lt;</span><span style="color:#ABB2BF;"> X)</span><span style="color:#7F848E;font-style:italic;">  // 比根结点大，去右子树查找 </span></span>
<span class="line"><span style="color:#ABB2BF;">			BST </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">		else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> X)</span><span style="color:#7F848E;font-style:italic;"> // 找到了 </span></span>
<span class="line"><span style="color:#C678DD;">			return</span><span style="color:#ABB2BF;"> BST;</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#C678DD;">	return</span><span style="color:#D19A66;"> NULL</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">} </span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 查找最小值的递归实现</span></span>
<span class="line"><span style="color:#ABB2BF;">BinTree </span><span style="color:#61AFEF;">FindMin</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">BinTree </span><span style="color:#E06C75;font-style:italic;">BST</span><span style="color:#ABB2BF;">){</span></span>
<span class="line"><span style="color:#C678DD;">	if</span><span style="color:#ABB2BF;">(</span><span style="color:#56B6C2;">!</span><span style="color:#ABB2BF;">BST)</span><span style="color:#7F848E;font-style:italic;">    // 如果为空了，返回 NULL </span></span>
<span class="line"><span style="color:#C678DD;">		return</span><span style="color:#D19A66;"> NULL</span><span style="color:#ABB2BF;">;  </span></span>
<span class="line"><span style="color:#C678DD;">	else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">)</span><span style="color:#7F848E;font-style:italic;">   // 还存在左子树，沿左分支继续查找 </span></span>
<span class="line"><span style="color:#C678DD;">		return</span><span style="color:#61AFEF;"> FindMin</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">	else</span><span style="color:#7F848E;font-style:italic;">  // 找到了 </span></span>
<span class="line"><span style="color:#C678DD;">		return</span><span style="color:#ABB2BF;"> BST;</span></span>
<span class="line"><span style="color:#ABB2BF;">} </span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 查找最大值的非递归实现</span></span>
<span class="line"><span style="color:#ABB2BF;">BinTree </span><span style="color:#61AFEF;">FindMax</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">BinTree </span><span style="color:#E06C75;font-style:italic;">BST</span><span style="color:#ABB2BF;">){</span></span>
<span class="line"><span style="color:#C678DD;">	if</span><span style="color:#ABB2BF;">(BST)</span><span style="color:#7F848E;font-style:italic;">  // 如果不空 </span></span>
<span class="line"><span style="color:#C678DD;">		while</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">)</span><span style="color:#7F848E;font-style:italic;">   // 只要右子树还存在 </span></span>
<span class="line"><span style="color:#ABB2BF;">			BST </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">	return</span><span style="color:#ABB2BF;"> BST;</span></span>
<span class="line"><span style="color:#ABB2BF;">} </span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">BinTree </span><span style="color:#61AFEF;">Insert</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> BinTree </span><span style="color:#E06C75;font-style:italic;">BST</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> ElementType </span><span style="color:#E06C75;font-style:italic;">X</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;">( </span><span style="color:#56B6C2;">!</span><span style="color:#ABB2BF;">BST ){</span><span style="color:#7F848E;font-style:italic;"> /* 若原树为空，生成并返回一个结点的二叉搜索树 */</span></span>
<span class="line"><span style="color:#ABB2BF;">        BST </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> (BinTree)</span><span style="color:#61AFEF;">malloc</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">sizeof</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> TNode));</span></span>
<span class="line"><span style="color:#E5C07B;">        BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> X;</span></span>
<span class="line"><span style="color:#E5C07B;">        BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#C678DD;"> =</span><span style="color:#D19A66;"> NULL</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#C678DD;">    else</span><span style="color:#ABB2BF;"> {</span><span style="color:#7F848E;font-style:italic;"> /* 开始找要插入元素的位置 */</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;">( X </span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;"> BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#E5C07B;">            BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#C678DD;"> =</span><span style="color:#61AFEF;"> Insert</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">, X );</span><span style="color:#7F848E;font-style:italic;">   /*递归插入左子树*/</span></span>
<span class="line"><span style="color:#C678DD;">        else</span><span style="color:#C678DD;">  if</span><span style="color:#ABB2BF;">( X </span><span style="color:#C678DD;">&gt;</span><span style="color:#E5C07B;"> BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#E5C07B;">            BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#C678DD;"> =</span><span style="color:#61AFEF;"> Insert</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">, X );</span><span style="color:#7F848E;font-style:italic;"> /*递归插入右子树*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        /* else X已经存在，什么都不做 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#ABB2BF;"> BST;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">BinTree </span><span style="color:#61AFEF;">Delete</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> BinTree </span><span style="color:#E06C75;font-style:italic;">BST</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> ElementType </span><span style="color:#E06C75;font-style:italic;">X</span><span style="color:#ABB2BF;"> ) </span></span>
<span class="line"><span style="color:#ABB2BF;">{ </span></span>
<span class="line"><span style="color:#ABB2BF;">    Position Tmp; </span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;">( </span><span style="color:#56B6C2;">!</span><span style="color:#ABB2BF;">BST ) </span></span>
<span class="line"><span style="color:#61AFEF;">        printf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;要删除的元素未找到&quot;</span><span style="color:#ABB2BF;">); </span></span>
<span class="line"><span style="color:#C678DD;">    else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;">( X </span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;"> BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;"> ) </span></span>
<span class="line"><span style="color:#E5C07B;">            BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#C678DD;"> =</span><span style="color:#61AFEF;"> Delete</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">, X );</span><span style="color:#7F848E;font-style:italic;">   /* 从左子树递归删除 */</span></span>
<span class="line"><span style="color:#C678DD;">        else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;">( X </span><span style="color:#C678DD;">&gt;</span><span style="color:#E5C07B;"> BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;"> ) </span></span>
<span class="line"><span style="color:#E5C07B;">            BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#C678DD;"> =</span><span style="color:#61AFEF;"> Delete</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">, X );</span><span style="color:#7F848E;font-style:italic;"> /* 从右子树递归删除 */</span></span>
<span class="line"><span style="color:#C678DD;">        else</span><span style="color:#ABB2BF;"> {</span><span style="color:#7F848E;font-style:italic;"> /* BST就是要删除的结点 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            /* 如果被删除结点有左右两个子结点 */</span><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#56B6C2;"> &amp;&amp;</span><span style="color:#E5C07B;"> BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;"> ) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">                /* 从右子树中找最小的元素填充删除结点 */</span></span>
<span class="line"><span style="color:#ABB2BF;">                Tmp </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> FindMin</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;"> );</span></span>
<span class="line"><span style="color:#E5C07B;">                BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> Tmp</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">                /* 从右子树中删除最小元素 */</span></span>
<span class="line"><span style="color:#E5C07B;">                BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#C678DD;"> =</span><span style="color:#61AFEF;"> Delete</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;"> );</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#C678DD;">            else</span><span style="color:#ABB2BF;"> {</span><span style="color:#7F848E;font-style:italic;"> /* 被删除结点有一个或无子结点 */</span></span>
<span class="line"><span style="color:#ABB2BF;">                Tmp </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> BST; </span></span>
<span class="line"><span style="color:#C678DD;">                if</span><span style="color:#ABB2BF;">( </span><span style="color:#56B6C2;">!</span><span style="color:#E5C07B;">BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;"> )</span><span style="color:#7F848E;font-style:italic;">       /* 只有右孩子或无子结点 */</span></span>
<span class="line"><span style="color:#ABB2BF;">                    BST </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">; </span></span>
<span class="line"><span style="color:#C678DD;">                else</span><span style="color:#7F848E;font-style:italic;">                   /* 只有左孩子 */</span></span>
<span class="line"><span style="color:#ABB2BF;">                    BST </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> BST</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#61AFEF;">                free</span><span style="color:#ABB2BF;">( Tmp );</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#ABB2BF;"> BST;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br></div></div><h3 id="avl-tree" tabindex="-1">AVL Tree <a class="header-anchor" href="#avl-tree" aria-label="Permalink to &quot;AVL Tree&quot;">​</a></h3><p>一种结构平衡的二叉搜索树，每个节点的左右两子树高度差都不超过一的二叉树 <br> 平衡二叉树由G.M. <strong>A</strong>delson-Velsky和E.M. Landis发明</p><p><strong>LL单旋</strong> <br> <img src="`+r+`" alt=""></p><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> struct</span><span style="color:#ABB2BF;"> AVLNode </span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;">Position;</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#ABB2BF;"> Position AVLTree;</span><span style="color:#7F848E;font-style:italic;"> /* AVL树类型 */</span></span>
<span class="line"><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> AVLNode{</span></span>
<span class="line"><span style="color:#ABB2BF;">    ElementType Data;</span><span style="color:#7F848E;font-style:italic;"> /* 结点数据 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    AVLTree Left;</span><span style="color:#7F848E;font-style:italic;">     /* 指向左子树 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    AVLTree Right;</span><span style="color:#7F848E;font-style:italic;">    /* 指向右子树 */</span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#ABB2BF;"> Height;</span><span style="color:#7F848E;font-style:italic;">       /* 树高 */</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">int</span><span style="color:#61AFEF;"> Max</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;font-style:italic;"> a</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;font-style:italic;"> b</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#ABB2BF;"> a </span><span style="color:#C678DD;">&gt;</span><span style="color:#ABB2BF;"> b </span><span style="color:#C678DD;">?</span><span style="color:#ABB2BF;"> a </span><span style="color:#C678DD;">:</span><span style="color:#ABB2BF;"> b;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">AVLTree </span><span style="color:#61AFEF;">SingleLeftRotation</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;"> AVLTree </span><span style="color:#E06C75;font-style:italic;">A</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 注意：A必须有一个左子结点B */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">  /* 将A与B做左单旋，更新A与B的高度，返回新的根结点B */</span><span style="color:#ABB2BF;">     </span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">    AVLTree B </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> A</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">    A</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> B</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">    B</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> A;</span></span>
<span class="line"><span style="color:#E5C07B;">    A</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Height</span><span style="color:#C678DD;"> =</span><span style="color:#61AFEF;"> Max</span><span style="color:#ABB2BF;">( </span><span style="color:#61AFEF;">GetHeight</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">A</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">), </span><span style="color:#61AFEF;">GetHeight</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">A</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">) ) </span><span style="color:#C678DD;">+</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">    B</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Height</span><span style="color:#C678DD;"> =</span><span style="color:#61AFEF;"> Max</span><span style="color:#ABB2BF;">( </span><span style="color:#61AFEF;">GetHeight</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">B</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">), </span><span style="color:#E5C07B;">A</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Height</span><span style="color:#ABB2BF;"> ) </span><span style="color:#C678DD;">+</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">AVLTree </span><span style="color:#61AFEF;">DoubleLeftRightRotation</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;"> AVLTree </span><span style="color:#E06C75;font-style:italic;">A</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 注意：A必须有一个左子结点B，且B必须有一个右子结点C */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">  /* 将A、B与C做两次单旋，返回新的根结点C */</span></span>
<span class="line"><span style="color:#ABB2BF;">     </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 将B与C做右单旋，C被返回 */</span></span>
<span class="line"><span style="color:#E5C07B;">    A</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#C678DD;"> =</span><span style="color:#61AFEF;"> SingleRightRotation</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">A</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 将A与C做左单旋，C被返回 */</span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#61AFEF;"> SingleLeftRotation</span><span style="color:#ABB2BF;">(A);</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/*************************************/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/* 对称的右单旋与右-左双旋  略 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/*************************************/</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">AVLTree </span><span style="color:#61AFEF;">Insert</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> AVLTree </span><span style="color:#E06C75;font-style:italic;">T</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> ElementType </span><span style="color:#E06C75;font-style:italic;">X</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 将X插入AVL树T中，并且返回调整后的AVL树 */</span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#56B6C2;">!</span><span style="color:#ABB2BF;">T ) {</span><span style="color:#7F848E;font-style:italic;"> /* 若插入空树，则新建包含一个结点的树 */</span></span>
<span class="line"><span style="color:#ABB2BF;">        T </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> (AVLTree)</span><span style="color:#61AFEF;">malloc</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">sizeof</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> AVLNode));</span></span>
<span class="line"><span style="color:#E5C07B;">        T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> X;</span></span>
<span class="line"><span style="color:#E5C07B;">        T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Height</span><span style="color:#C678DD;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">        T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#C678DD;"> =</span><span style="color:#D19A66;"> NULL</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span><span style="color:#7F848E;font-style:italic;"> /* if (插入空树) 结束 */</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;"> ( X </span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;"> T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;"> ) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        /* 插入T的左子树 */</span></span>
<span class="line"><span style="color:#E5C07B;">        T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#C678DD;"> =</span><span style="color:#61AFEF;"> Insert</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">, X);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        /* 如果需要左旋 */</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#61AFEF;">GetHeight</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">)</span><span style="color:#C678DD;">-</span><span style="color:#61AFEF;">GetHeight</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">==</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> ( X </span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;"> T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E5C07B;">Left</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;"> ) </span></span>
<span class="line"><span style="color:#ABB2BF;">               T </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> SingleLeftRotation</span><span style="color:#ABB2BF;">(T);</span><span style="color:#7F848E;font-style:italic;">      /* 左单旋 */</span></span>
<span class="line"><span style="color:#C678DD;">            else</span><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">               T </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> DoubleLeftRightRotation</span><span style="color:#ABB2BF;">(T);</span><span style="color:#7F848E;font-style:italic;"> /* 左-右双旋 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span><span style="color:#7F848E;font-style:italic;"> /* else if (插入左子树) 结束 */</span></span>
<span class="line"><span style="color:#ABB2BF;">     </span></span>
<span class="line"><span style="color:#C678DD;">    else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;"> ( X </span><span style="color:#C678DD;">&gt;</span><span style="color:#E5C07B;"> T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;"> ) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        /* 插入T的右子树 */</span></span>
<span class="line"><span style="color:#E5C07B;">        T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#C678DD;"> =</span><span style="color:#61AFEF;"> Insert</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">, X );</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        /* 如果需要右旋 */</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#61AFEF;">GetHeight</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">)</span><span style="color:#C678DD;">-</span><span style="color:#61AFEF;">GetHeight</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">==</span><span style="color:#C678DD;"> -</span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> ( X </span><span style="color:#C678DD;">&gt;</span><span style="color:#E5C07B;"> T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E5C07B;">Right</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;"> ) </span></span>
<span class="line"><span style="color:#ABB2BF;">               T </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> SingleRightRotation</span><span style="color:#ABB2BF;">(T);</span><span style="color:#7F848E;font-style:italic;">     /* 右单旋 */</span></span>
<span class="line"><span style="color:#C678DD;">            else</span><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">               T </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> DoubleRightLeftRotation</span><span style="color:#ABB2BF;">(T);</span><span style="color:#7F848E;font-style:italic;"> /* 右-左双旋 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span><span style="color:#7F848E;font-style:italic;"> /* else if (插入右子树) 结束 */</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* else X == T-&gt;Data，无须插入 */</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 更新树高 */</span></span>
<span class="line"><span style="color:#E5C07B;">    T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Height</span><span style="color:#C678DD;"> =</span><span style="color:#61AFEF;"> Max</span><span style="color:#ABB2BF;">( </span><span style="color:#61AFEF;">GetHeight</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Left</span><span style="color:#ABB2BF;">), </span><span style="color:#61AFEF;">GetHeight</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">T</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Right</span><span style="color:#ABB2BF;">) ) </span><span style="color:#C678DD;">+</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">     </span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#ABB2BF;"> T;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br></div></div><h3 id="huffman-tree" tabindex="-1">Huffman Tree <a class="header-anchor" href="#huffman-tree" aria-label="Permalink to &quot;Huffman Tree&quot;">​</a></h3><p>最优二叉树：带权路径长度（WPL）最短的树，权值较大的结点离根较近</p><p><strong>哈夫曼编码(Huffman Coding)</strong>：无前缀编码，用于无损数据压缩的熵编码（权编码）算法 <br> 原理：使用<a href="https://wiwiki.kfd.me/w/index.php?title=%E8%AE%8A%E9%95%B7%E7%B7%A8%E7%A2%BC%E8%A1%A8&amp;action=edit&amp;redlink=1" target="_blank" rel="noreferrer">变长编码表</a>对源符号（如文件中的一个字母）进行编码，其中<a href="https://wiwiki.kfd.me/w/index.php?title=%E8%AE%8A%E9%95%B7%E7%B7%A8%E7%A2%BC%E8%A1%A8&amp;action=edit&amp;redlink=1" target="_blank" rel="noreferrer">变长编码表</a>是通过一种评估来源符号出现概率的方法得到的，出现概率高的字母使用较短的编码，反之出现概率低的则使用较长的编码，这便使编码之后的字符串的平均长度、<a href="https://wiwiki.kfd.me/wiki/%E6%9C%9F%E6%9C%9B%E5%80%BC" target="_blank" rel="noreferrer">期望值</a>降低，从而达到<a href="https://wiwiki.kfd.me/wiki/%E6%97%A0%E6%8D%9F%E5%8E%8B%E7%BC%A9" target="_blank" rel="noreferrer">无损压缩</a>数据的目的。</p><p><img src="`+t+`" alt=""> <br> <strong>特点</strong></p><ul><li>没有度为 1 的结点</li><li>n 个叶结点的哈夫曼树共有 2n-1 个结点</li><li>哈夫曼树的任意非叶结点的左右子树交换后仍是哈夫曼树</li><li>对同一组权值，可能存在不同构的多棵哈夫曼树</li></ul><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">#include</span><span style="color:#98C379;"> &lt;iostream&gt;</span></span>
<span class="line"><span style="color:#C678DD;">#include</span><span style="color:#98C379;"> &lt;queue&gt;</span><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">using namespace std; </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// A Huffman tree node </span></span>
<span class="line"><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> MinHeapNode { </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // One of the input characters </span></span>
<span class="line"><span style="color:#C678DD;">    char</span><span style="color:#ABB2BF;"> data; </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // Frequency of the character </span></span>
<span class="line"><span style="color:#C678DD;">    unsigned</span><span style="color:#ABB2BF;"> freq; </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // Left and right child </span></span>
<span class="line"><span style="color:#ABB2BF;">    MinHeapNode </span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;">left, </span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;">right; </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#61AFEF;">    MinHeapNode</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">char</span><span style="color:#ABB2BF;"> data, </span><span style="color:#C678DD;">unsigned</span><span style="color:#ABB2BF;"> freq) </span></span>
<span class="line"><span style="color:#ABB2BF;">    { </span></span>
<span class="line"><span style="color:#ABB2BF;">        left </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> right </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> NULL</span><span style="color:#ABB2BF;">; </span></span>
<span class="line"><span style="color:#E5C07B;">        this</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">data</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> data; </span></span>
<span class="line"><span style="color:#E5C07B;">        this</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">freq</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> freq; </span></span>
<span class="line"><span style="color:#ABB2BF;">    } </span></span>
<span class="line"><span style="color:#ABB2BF;">}; </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// For comparison of </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// two heap nodes (needed in min heap) </span></span>
<span class="line"><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> compare { </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#C678DD;">    bool</span><span style="color:#61AFEF;"> operator</span><span style="color:#ABB2BF;">()(MinHeapNode</span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;"> l, MinHeapNode</span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;"> r) </span></span>
<span class="line"><span style="color:#ABB2BF;">    { </span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">l</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">freq</span><span style="color:#C678DD;"> &gt;</span><span style="color:#E5C07B;"> r</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">freq</span><span style="color:#ABB2BF;">); </span></span>
<span class="line"><span style="color:#ABB2BF;">    } </span></span>
<span class="line"><span style="color:#ABB2BF;">}; </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// Prints huffman codes from </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// the root of Huffman Tree. </span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> printCodes</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">struct</span><span style="color:#E06C75;"> MinHeapNode</span><span style="color:#C678DD;">*</span><span style="color:#E06C75;font-style:italic;"> root</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> string </span><span style="color:#E06C75;font-style:italic;">str</span><span style="color:#ABB2BF;">) </span></span>
<span class="line"><span style="color:#ABB2BF;">{ </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;"> (</span><span style="color:#56B6C2;">!</span><span style="color:#ABB2BF;">root) </span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#ABB2BF;">; </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">root</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">data</span><span style="color:#C678DD;"> !=</span><span style="color:#98C379;"> &#39;$&#39;</span><span style="color:#ABB2BF;">) </span></span>
<span class="line"><span style="color:#ABB2BF;">        cout </span><span style="color:#C678DD;">&lt;&lt;</span><span style="color:#E5C07B;"> root</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">data</span><span style="color:#C678DD;"> &lt;&lt;</span><span style="color:#98C379;"> &quot;: &quot;</span><span style="color:#C678DD;"> &lt;&lt;</span><span style="color:#ABB2BF;"> str </span><span style="color:#C678DD;">&lt;&lt;</span><span style="color:#98C379;"> &quot;</span><span style="color:#56B6C2;">\\n</span><span style="color:#98C379;">&quot;</span><span style="color:#ABB2BF;">; </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#61AFEF;">    printCodes</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">root</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">, str </span><span style="color:#C678DD;">+</span><span style="color:#98C379;"> &quot;0&quot;</span><span style="color:#ABB2BF;">); </span></span>
<span class="line"><span style="color:#61AFEF;">    printCodes</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">root</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">, str </span><span style="color:#C678DD;">+</span><span style="color:#98C379;"> &quot;1&quot;</span><span style="color:#ABB2BF;">); </span></span>
<span class="line"><span style="color:#ABB2BF;">} </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// The main function that builds a Huffman Tree and </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// print codes by traversing the built Huffman Tree </span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> HuffmanCodes</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">char</span><span style="color:#E06C75;font-style:italic;"> data</span><span style="color:#C678DD;">[]</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;font-style:italic;"> freq</span><span style="color:#C678DD;">[]</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;font-style:italic;"> size</span><span style="color:#ABB2BF;">) </span></span>
<span class="line"><span style="color:#ABB2BF;">{ </span></span>
<span class="line"><span style="color:#C678DD;">    struct</span><span style="color:#ABB2BF;"> MinHeapNode </span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;">left, </span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;">right, </span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;">top; </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // Create a min heap &amp; inserts all characters of data[] </span></span>
<span class="line"><span style="color:#ABB2BF;">    priority_queue</span><span style="color:#C678DD;">&lt;</span><span style="color:#ABB2BF;">MinHeapNode</span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;">, vector</span><span style="color:#C678DD;">&lt;</span><span style="color:#ABB2BF;">MinHeapNode</span><span style="color:#C678DD;">*&gt;</span><span style="color:#ABB2BF;">, compare</span><span style="color:#C678DD;">&gt;</span><span style="color:#ABB2BF;"> minHeap; </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#C678DD;">    for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> i </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; i </span><span style="color:#C678DD;">&lt;</span><span style="color:#ABB2BF;"> size; </span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">i) </span></span>
<span class="line"><span style="color:#E5C07B;">        minHeap</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">(new </span><span style="color:#61AFEF;">MinHeapNode</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">data</span><span style="color:#ABB2BF;">[i], </span><span style="color:#E06C75;">freq</span><span style="color:#ABB2BF;">[i])); </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // Iterate while size of heap doesn&#39;t become 1 </span></span>
<span class="line"><span style="color:#C678DD;">    while</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">minHeap</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">size</span><span style="color:#ABB2BF;">() </span><span style="color:#C678DD;">!=</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">) { </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // Extract the two minimum </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // freq items from min heap </span></span>
<span class="line"><span style="color:#ABB2BF;">        left </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> minHeap</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">top</span><span style="color:#ABB2BF;">(); </span></span>
<span class="line"><span style="color:#E5C07B;">        minHeap</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">pop</span><span style="color:#ABB2BF;">(); </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#ABB2BF;">        right </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> minHeap</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">top</span><span style="color:#ABB2BF;">(); </span></span>
<span class="line"><span style="color:#E5C07B;">        minHeap</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">pop</span><span style="color:#ABB2BF;">(); </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // Create a new internal node with </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // frequency equal to the sum of the </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // two nodes frequencies. Make the </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // two extracted node as left and right children </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // of this new node. Add this node </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // to the min heap &#39;$&#39; is a special value </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // for internal nodes, not used </span></span>
<span class="line"><span style="color:#ABB2BF;">        top </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> new </span><span style="color:#61AFEF;">MinHeapNode</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;$&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">left</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">freq</span><span style="color:#C678DD;"> +</span><span style="color:#E5C07B;"> right</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">freq</span><span style="color:#ABB2BF;">); </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#E5C07B;">        top</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">left</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> left; </span></span>
<span class="line"><span style="color:#E5C07B;">        top</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">right</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> right; </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#E5C07B;">        minHeap</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">(top); </span></span>
<span class="line"><span style="color:#ABB2BF;">    } </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // Print Huffman codes using </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // the Huffman tree built above </span></span>
<span class="line"><span style="color:#61AFEF;">    printCodes</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">minHeap</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">top</span><span style="color:#ABB2BF;">(), </span><span style="color:#98C379;">&quot;&quot;</span><span style="color:#ABB2BF;">); </span></span>
<span class="line"><span style="color:#ABB2BF;">} </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// Driver program to test above functions </span></span>
<span class="line"><span style="color:#C678DD;">int</span><span style="color:#61AFEF;"> main</span><span style="color:#ABB2BF;">() </span></span>
<span class="line"><span style="color:#ABB2BF;">{ </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#C678DD;">    char</span><span style="color:#ABB2BF;"> arr</span><span style="color:#C678DD;">[]</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> { </span><span style="color:#98C379;">&#39;a&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;b&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;c&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;d&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;e&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;f&#39;</span><span style="color:#ABB2BF;"> }; </span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#ABB2BF;"> freq</span><span style="color:#C678DD;">[]</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> { </span><span style="color:#D19A66;">5</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">9</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">12</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">13</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">16</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">45</span><span style="color:#ABB2BF;"> }; </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#ABB2BF;"> size </span><span style="color:#C678DD;">=</span><span style="color:#C678DD;"> sizeof</span><span style="color:#ABB2BF;">(arr) </span><span style="color:#C678DD;">/</span><span style="color:#C678DD;"> sizeof</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">arr</span><span style="color:#ABB2BF;">[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">]); </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#61AFEF;">    HuffmanCodes</span><span style="color:#ABB2BF;">(arr, freq, size); </span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br></div></div><h3 id="b树" tabindex="-1"><a href="https://wiwiki.kfd.me/wiki/B%E6%A0%91" target="_blank" rel="noreferrer">B树</a> <a class="header-anchor" href="#b树" aria-label="Permalink to &quot;[B树](https://wiwiki.kfd.me/wiki/B%E6%A0%91)&quot;">​</a></h3><p>一种对读写操作进行优化的自平衡的二叉查找树，能够保持数据有序，拥有多个子树。</p><h3 id="red-black-tree" tabindex="-1">Red-Black Tree <a class="header-anchor" href="#red-black-tree" aria-label="Permalink to &quot;Red-Black Tree&quot;">​</a></h3><p>红黑树 <br> <img src="`+c+`" alt=""> <br> <strong>特性:</strong></p><ul><li>每个节点或者是黑色，或者是红色。</li><li>根节点是黑色。</li><li>每个叶子节点（NIL）是黑色。 [空(NIL或NULL)的叶子节点！]</li><li>如果一个节点是红色的，则它的子节点必须是黑色的。</li><li>从一个节点到该节点的子孙节点的所有路径上包含相同数目的黑节点。</li></ul><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#ABB2BF;">public class RedBlackBST {</span></span>
<span class="line"><span style="color:#ABB2BF;">    private final </span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> R </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    private final </span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> B </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    private class Node {</span></span>
<span class="line"><span style="color:#C678DD;">        int</span><span style="color:#ABB2BF;"> key </span><span style="color:#C678DD;">=</span><span style="color:#C678DD;"> -</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">, color </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#ABB2BF;">        Node left </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> nil, right </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> nil, p </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> nil;</span></span>
<span class="line"><span style="color:#61AFEF;">        Node</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">int</span><span style="color:#ABB2BF;"> key) {</span></span>
<span class="line"><span style="color:#E5C07B;">            this</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">key</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> key;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">    private final Node nil </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> new </span><span style="color:#61AFEF;">Node</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">-</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">    private Node root </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> nil;</span></span>
<span class="line"><span style="color:#ABB2BF;">    public </span><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> printTree</span><span style="color:#ABB2BF;">(Node node) {</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (node </span><span style="color:#C678DD;">==</span><span style="color:#ABB2BF;"> nil) {</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#61AFEF;">        printTree</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">        System</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">out</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">print</span><span style="color:#ABB2BF;">(((</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> R) </span><span style="color:#C678DD;">?</span><span style="color:#98C379;"> &quot; R &quot;</span><span style="color:#C678DD;"> :</span><span style="color:#98C379;"> &quot; B &quot;</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">+</span><span style="color:#98C379;"> &quot;Key: &quot;</span><span style="color:#C678DD;"> +</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">key</span><span style="color:#C678DD;"> +</span><span style="color:#98C379;"> &quot; Parent: &quot;</span><span style="color:#C678DD;"> +</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">key</span><span style="color:#C678DD;"> +</span><span style="color:#98C379;"> &quot;</span><span style="color:#56B6C2;">\\n</span><span style="color:#98C379;">&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;">        printTree</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">    public </span><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> printTreepre</span><span style="color:#ABB2BF;">(Node node) {</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (node </span><span style="color:#C678DD;">==</span><span style="color:#ABB2BF;"> nil) {</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#E5C07B;">        System</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">out</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">print</span><span style="color:#ABB2BF;">(((</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> R) </span><span style="color:#C678DD;">?</span><span style="color:#98C379;"> &quot; R &quot;</span><span style="color:#C678DD;"> :</span><span style="color:#98C379;"> &quot; B &quot;</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">+</span><span style="color:#98C379;"> &quot;Key: &quot;</span><span style="color:#C678DD;"> +</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">key</span><span style="color:#C678DD;"> +</span><span style="color:#98C379;"> &quot; Parent: &quot;</span><span style="color:#C678DD;"> +</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">key</span><span style="color:#C678DD;"> +</span><span style="color:#98C379;"> &quot;</span><span style="color:#56B6C2;">\\n</span><span style="color:#98C379;">&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;">        printTree</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;">        printTree</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">    private Node </span><span style="color:#61AFEF;">findNode</span><span style="color:#ABB2BF;">(Node findNode, Node node) {</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (root </span><span style="color:#C678DD;">==</span><span style="color:#ABB2BF;"> nil) {</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#ABB2BF;"> null;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">findNode</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">key</span><span style="color:#C678DD;"> &lt;</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">key</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#C678DD;"> !=</span><span style="color:#ABB2BF;"> nil) {</span></span>
<span class="line"><span style="color:#C678DD;">                return</span><span style="color:#61AFEF;"> findNode</span><span style="color:#ABB2BF;">(findNode, </span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#ABB2BF;">        } </span><span style="color:#C678DD;">else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">findNode</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">key</span><span style="color:#C678DD;"> &gt;</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">key</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#C678DD;"> !=</span><span style="color:#ABB2BF;"> nil) {</span></span>
<span class="line"><span style="color:#C678DD;">                return</span><span style="color:#61AFEF;"> findNode</span><span style="color:#ABB2BF;">(findNode, </span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#ABB2BF;">        } </span><span style="color:#C678DD;">else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">findNode</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">key</span><span style="color:#C678DD;"> ==</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">key</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#ABB2BF;"> node;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#ABB2BF;"> null;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">    private </span><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> insert</span><span style="color:#ABB2BF;">(Node node) {</span></span>
<span class="line"><span style="color:#ABB2BF;">        Node temp </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> root;</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (root </span><span style="color:#C678DD;">==</span><span style="color:#ABB2BF;"> nil) {</span></span>
<span class="line"><span style="color:#ABB2BF;">            root </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> node;</span></span>
<span class="line"><span style="color:#E5C07B;">            node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#E5C07B;">            node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> nil;</span></span>
<span class="line"><span style="color:#ABB2BF;">        } </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">            node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> R;</span></span>
<span class="line"><span style="color:#C678DD;">            while</span><span style="color:#ABB2BF;"> (</span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">                if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">key</span><span style="color:#C678DD;"> &lt;</span><span style="color:#E5C07B;"> temp</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">key</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">                    if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">temp</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> nil) {</span></span>
<span class="line"><span style="color:#E5C07B;">                        temp</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> node;</span></span>
<span class="line"><span style="color:#E5C07B;">                        node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> temp;</span></span>
<span class="line"><span style="color:#C678DD;">                        break</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    } </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">                        temp </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> temp</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    }</span></span>
<span class="line"><span style="color:#ABB2BF;">                } </span><span style="color:#C678DD;">else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">key</span><span style="color:#C678DD;"> &gt;=</span><span style="color:#E5C07B;"> temp</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">key</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">                    if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">temp</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> nil) {</span></span>
<span class="line"><span style="color:#E5C07B;">                        temp</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> node;</span></span>
<span class="line"><span style="color:#E5C07B;">                        node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> temp;</span></span>
<span class="line"><span style="color:#C678DD;">                        break</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    } </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">                        temp </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> temp</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    }</span></span>
<span class="line"><span style="color:#ABB2BF;">                }</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#61AFEF;">            fixTree</span><span style="color:#ABB2BF;">(node);</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">    private </span><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> fixTree</span><span style="color:#ABB2BF;">(Node node) {</span></span>
<span class="line"><span style="color:#C678DD;">        while</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> R) {</span></span>
<span class="line"><span style="color:#ABB2BF;">            Node y </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> nil;</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> ==</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">                y </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">                if</span><span style="color:#ABB2BF;"> (y </span><span style="color:#C678DD;">!=</span><span style="color:#ABB2BF;"> nil </span><span style="color:#56B6C2;">&amp;&amp;</span><span style="color:#E5C07B;"> y</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> R) {</span></span>
<span class="line"><span style="color:#E5C07B;">                    node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#E5C07B;">                    y</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#E5C07B;">                    node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> R;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    node </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">                    continue</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">                }</span></span>
<span class="line"><span style="color:#C678DD;">                if</span><span style="color:#ABB2BF;"> (node </span><span style="color:#C678DD;">==</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">                    node </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#61AFEF;">                    rotateLeft</span><span style="color:#ABB2BF;">(node);</span></span>
<span class="line"><span style="color:#ABB2BF;">                }</span></span>
<span class="line"><span style="color:#E5C07B;">                node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#E5C07B;">                node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> R;</span></span>
<span class="line"><span style="color:#61AFEF;">                rotateRight</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">            } </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">                y </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">                if</span><span style="color:#ABB2BF;"> (y </span><span style="color:#C678DD;">!=</span><span style="color:#ABB2BF;"> nil </span><span style="color:#56B6C2;">&amp;&amp;</span><span style="color:#E5C07B;"> y</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> R) {</span></span>
<span class="line"><span style="color:#E5C07B;">                    node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#E5C07B;">                    y</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#E5C07B;">                    node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> R;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    node </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">                    continue</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">                }</span></span>
<span class="line"><span style="color:#C678DD;">                if</span><span style="color:#ABB2BF;"> (node </span><span style="color:#C678DD;">==</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">                    node </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#61AFEF;">                    rotateRight</span><span style="color:#ABB2BF;">(node);</span></span>
<span class="line"><span style="color:#ABB2BF;">                }</span></span>
<span class="line"><span style="color:#E5C07B;">                node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#E5C07B;">                node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> R;</span></span>
<span class="line"><span style="color:#61AFEF;">                rotateLeft</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#E5C07B;">        root</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#C678DD;">    void</span><span style="color:#61AFEF;"> rotateLeft</span><span style="color:#ABB2BF;">(Node node) {</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> !=</span><span style="color:#ABB2BF;"> nil) {</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> (node </span><span style="color:#C678DD;">==</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">                node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">            } </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">                node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#E5C07B;">            node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">right</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">            node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">right</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#C678DD;"> !=</span><span style="color:#ABB2BF;"> nil) {</span></span>
<span class="line"><span style="color:#E5C07B;">                node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">right</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> node;</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#E5C07B;">            node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">right</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">            node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> node;</span></span>
<span class="line"><span style="color:#ABB2BF;">        } </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">            Node right </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> root</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">            root</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> right</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">            right</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">left</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> root;</span></span>
<span class="line"><span style="color:#E5C07B;">            root</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> right;</span></span>
<span class="line"><span style="color:#E5C07B;">            right</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> root;</span></span>
<span class="line"><span style="color:#E5C07B;">            right</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> nil;</span></span>
<span class="line"><span style="color:#ABB2BF;">            root </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> right;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#C678DD;">    void</span><span style="color:#61AFEF;"> rotateRight</span><span style="color:#ABB2BF;">(Node node) {</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> !=</span><span style="color:#ABB2BF;"> nil) {</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> (node </span><span style="color:#C678DD;">==</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">                node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">            } </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">                node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#E5C07B;">            node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">left</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">            node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">left</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#C678DD;"> !=</span><span style="color:#ABB2BF;"> nil) {</span></span>
<span class="line"><span style="color:#E5C07B;">                node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">left</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> node;</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#E5C07B;">            node</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">left</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">            node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> node;</span></span>
<span class="line"><span style="color:#ABB2BF;">        } </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">            Node left </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> root</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">            root</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> root</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">left</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">            left</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">right</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> root;</span></span>
<span class="line"><span style="color:#E5C07B;">            root</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> left;</span></span>
<span class="line"><span style="color:#E5C07B;">            left</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> root;</span></span>
<span class="line"><span style="color:#E5C07B;">            left</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> nil;</span></span>
<span class="line"><span style="color:#ABB2BF;">            root </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> left;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#C678DD;">    void</span><span style="color:#61AFEF;"> transplant</span><span style="color:#ABB2BF;">(Node target, Node with) {</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">target</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> nil) {</span></span>
<span class="line"><span style="color:#ABB2BF;">            root </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> with;</span></span>
<span class="line"><span style="color:#ABB2BF;">        } </span><span style="color:#C678DD;">else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;"> (target </span><span style="color:#C678DD;">==</span><span style="color:#E5C07B;"> target</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">            target</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> with;</span></span>
<span class="line"><span style="color:#ABB2BF;">        } </span><span style="color:#C678DD;">else</span></span>
<span class="line"><span style="color:#E5C07B;">            target</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> with;</span></span>
<span class="line"><span style="color:#E5C07B;">        with</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> target</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">    Node </span><span style="color:#61AFEF;">treeMinimum</span><span style="color:#ABB2BF;">(Node subTreeRoot) {</span></span>
<span class="line"><span style="color:#C678DD;">        while</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">subTreeRoot</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#C678DD;"> !=</span><span style="color:#ABB2BF;"> nil) {</span></span>
<span class="line"><span style="color:#ABB2BF;">            subTreeRoot </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> subTreeRoot</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#ABB2BF;"> subTreeRoot;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">    boolean </span><span style="color:#61AFEF;">delete</span><span style="color:#ABB2BF;">(Node z) {</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> ((z </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> findNode</span><span style="color:#ABB2BF;">(z, root)) </span><span style="color:#C678DD;">==</span><span style="color:#ABB2BF;"> null)</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#D19A66;"> false</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        Node x;</span></span>
<span class="line"><span style="color:#ABB2BF;">        Node y </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> z;</span></span>
<span class="line"><span style="color:#C678DD;">        int</span><span style="color:#ABB2BF;"> yorigcolor </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> y</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">z</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> nil) {</span></span>
<span class="line"><span style="color:#ABB2BF;">            x </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> z</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#61AFEF;">            transplant</span><span style="color:#ABB2BF;">(z, </span><span style="color:#E5C07B;">z</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">        } </span><span style="color:#C678DD;">else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">z</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> nil) {</span></span>
<span class="line"><span style="color:#ABB2BF;">            x </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> z</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#61AFEF;">            transplant</span><span style="color:#ABB2BF;">(z, </span><span style="color:#E5C07B;">z</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">        } </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">            y </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> treeMinimum</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">z</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">            yorigcolor </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> y</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">            x </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> y</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">y</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> z)</span></span>
<span class="line"><span style="color:#E5C07B;">                x</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> y;</span></span>
<span class="line"><span style="color:#C678DD;">            else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#61AFEF;">                transplant</span><span style="color:#ABB2BF;">(y, </span><span style="color:#E5C07B;">y</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">                y</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> z</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">                y</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">right</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> y;</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#61AFEF;">            transplant</span><span style="color:#ABB2BF;">(z, y);</span></span>
<span class="line"><span style="color:#E5C07B;">            y</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> z</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">            y</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">left</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> y;</span></span>
<span class="line"><span style="color:#E5C07B;">            y</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> z</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (yorigcolor </span><span style="color:#C678DD;">==</span><span style="color:#ABB2BF;"> B)</span></span>
<span class="line"><span style="color:#61AFEF;">            deleteFixup</span><span style="color:#ABB2BF;">(x);</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#D19A66;"> true</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#C678DD;">    void</span><span style="color:#61AFEF;"> deleteFixup</span><span style="color:#ABB2BF;">(Node x) {</span></span>
<span class="line"><span style="color:#C678DD;">        while</span><span style="color:#ABB2BF;"> (x </span><span style="color:#C678DD;">!=</span><span style="color:#ABB2BF;"> root </span><span style="color:#56B6C2;">&amp;&amp;</span><span style="color:#E5C07B;"> x</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> B) {</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> (x </span><span style="color:#C678DD;">==</span><span style="color:#E5C07B;"> x</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">                Node w </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> x</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">                if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">w</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> R) {</span></span>
<span class="line"><span style="color:#E5C07B;">                    w</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#E5C07B;">                    x</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> R;</span></span>
<span class="line"><span style="color:#61AFEF;">                    rotateLeft</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">x</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">                    w </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> x</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">                }</span></span>
<span class="line"><span style="color:#C678DD;">                if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">w</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">left</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> B </span><span style="color:#56B6C2;">&amp;&amp;</span><span style="color:#E5C07B;"> w</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">right</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> B) {</span></span>
<span class="line"><span style="color:#E5C07B;">                    w</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> R;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    x </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> x</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">                    continue</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">                } </span><span style="color:#C678DD;">else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">w</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">right</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> B) {</span></span>
<span class="line"><span style="color:#E5C07B;">                    w</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">left</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#E5C07B;">                    w</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> R;</span></span>
<span class="line"><span style="color:#61AFEF;">                    rotateRight</span><span style="color:#ABB2BF;">(w);</span></span>
<span class="line"><span style="color:#ABB2BF;">                    w </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> x</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">right</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">                }</span></span>
<span class="line"><span style="color:#C678DD;">                if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">w</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">right</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> R) {</span></span>
<span class="line"><span style="color:#E5C07B;">                    w</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> x</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">                    x</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#E5C07B;">                    w</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">right</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#61AFEF;">                    rotateLeft</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">x</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">                    x </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> root;</span></span>
<span class="line"><span style="color:#ABB2BF;">                }</span></span>
<span class="line"><span style="color:#ABB2BF;">            } </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">                Node w </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> x</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">                if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">w</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> R) {</span></span>
<span class="line"><span style="color:#E5C07B;">                    w</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#E5C07B;">                    x</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> R;</span></span>
<span class="line"><span style="color:#61AFEF;">                    rotateRight</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">x</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">                    w </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> x</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">                }</span></span>
<span class="line"><span style="color:#C678DD;">                if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">w</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">right</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> B </span><span style="color:#56B6C2;">&amp;&amp;</span><span style="color:#E5C07B;"> w</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">left</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> B) {</span></span>
<span class="line"><span style="color:#E5C07B;">                    w</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> R;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    x </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> x</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">                    continue</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">                } </span><span style="color:#C678DD;">else</span><span style="color:#C678DD;"> if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">w</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">left</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> B) {</span></span>
<span class="line"><span style="color:#E5C07B;">                    w</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">right</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#E5C07B;">                    w</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> R;</span></span>
<span class="line"><span style="color:#61AFEF;">                    rotateLeft</span><span style="color:#ABB2BF;">(w);</span></span>
<span class="line"><span style="color:#ABB2BF;">                    w </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> x</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">left</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">                }</span></span>
<span class="line"><span style="color:#C678DD;">                if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">w</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">left</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> ==</span><span style="color:#ABB2BF;"> R) {</span></span>
<span class="line"><span style="color:#E5C07B;">                    w</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> x</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">                    x</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#E5C07B;">                    w</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">left</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#61AFEF;">                    rotateRight</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">x</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">p</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">                    x </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> root;</span></span>
<span class="line"><span style="color:#ABB2BF;">                }</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#E5C07B;">        x</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">color</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> B;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">    public </span><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> insertDemo</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#ABB2BF;">        Scanner scan </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> new </span><span style="color:#61AFEF;">Scanner</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">System</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">in</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">        while</span><span style="color:#ABB2BF;"> (</span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">            System</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">out</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">println</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;Add items&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">            int</span><span style="color:#ABB2BF;"> item;</span></span>
<span class="line"><span style="color:#ABB2BF;">            Node node;</span></span>
<span class="line"><span style="color:#ABB2BF;">            item </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> scan</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">nextInt</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#C678DD;">            while</span><span style="color:#ABB2BF;"> (item </span><span style="color:#C678DD;">!=</span><span style="color:#C678DD;"> -</span><span style="color:#D19A66;">999</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">                node </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> new </span><span style="color:#61AFEF;">Node</span><span style="color:#ABB2BF;">(item);</span></span>
<span class="line"><span style="color:#61AFEF;">                insert</span><span style="color:#ABB2BF;">(node);</span></span>
<span class="line"><span style="color:#ABB2BF;">                item </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> scan</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">nextInt</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#61AFEF;">            printTree</span><span style="color:#ABB2BF;">(root);</span></span>
<span class="line"><span style="color:#E5C07B;">            System</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">out</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">println</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;Pre order&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;">            printTreepre</span><span style="color:#ABB2BF;">(root);</span></span>
<span class="line"><span style="color:#C678DD;">            break</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#E5C07B;">        scan</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">close</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">    public </span><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> deleteDemo</span><span style="color:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#ABB2BF;">        Scanner scan </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> new </span><span style="color:#61AFEF;">Scanner</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">System</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">in</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">        System</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">out</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">println</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;Delete items&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">        int</span><span style="color:#ABB2BF;"> item;</span></span>
<span class="line"><span style="color:#ABB2BF;">        Node node;</span></span>
<span class="line"><span style="color:#ABB2BF;">        item </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> scan</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">nextInt</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">        node </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> new </span><span style="color:#61AFEF;">Node</span><span style="color:#ABB2BF;">(item);</span></span>
<span class="line"><span style="color:#E5C07B;">        System</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">out</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">print</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;Deleting item &quot;</span><span style="color:#C678DD;"> +</span><span style="color:#ABB2BF;"> item);</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (</span><span style="color:#61AFEF;">delete</span><span style="color:#ABB2BF;">(node)) {</span></span>
<span class="line"><span style="color:#E5C07B;">            System</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">out</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">print</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;: deleted!&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">        } </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">            System</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">out</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">print</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;: does not exist!&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#E5C07B;">        System</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">out</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">println</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#61AFEF;">        printTree</span><span style="color:#ABB2BF;">(root);</span></span>
<span class="line"><span style="color:#E5C07B;">        System</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">out</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">println</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;Pre order&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;">        printTreepre</span><span style="color:#ABB2BF;">(root);</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br><span class="line-number">291</span><br><span class="line-number">292</span><br><span class="line-number">293</span><br><span class="line-number">294</span><br><span class="line-number">295</span><br><span class="line-number">296</span><br><span class="line-number">297</span><br><span class="line-number">298</span><br><span class="line-number">299</span><br><span class="line-number">300</span><br><span class="line-number">301</span><br><span class="line-number">302</span><br><span class="line-number">303</span><br></div></div><h3 id="字典树-trie" tabindex="-1">字典树 Trie <a class="header-anchor" href="#字典树-trie" aria-label="Permalink to &quot;字典树 Trie&quot;">​</a></h3><p>单词查找树，前缀树，常用于存储动态集或键为字符串的关联数组 <br> Trie 树用「树枝」存储字符串（键），用「节点」存储字符串（键）对应的数据（值） <br> <img src="https://camo.githubusercontent.com/7e1222be8035e86fb36c04c6d8eca901d7940e99fe0f03607f4269e2a95bc2f8/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f622f62652f547269655f6578616d706c652e737667#from=url&amp;id=dSabN&amp;originHeight=375&amp;originWidth=400&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=" alt=""></p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">class</span><span style="color:#E5C07B;"> TrieMap</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">V</span><span style="color:#ABB2BF;">&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // ASCII 码个数</span></span>
<span class="line"><span style="color:#C678DD;">    private</span><span style="color:#C678DD;"> static</span><span style="color:#C678DD;"> final</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;"> R </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;"> 256</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 当前存在 Map 中的键值对个数</span></span>
<span class="line"><span style="color:#C678DD;">    private</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;"> size </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // Trie 树的根节点</span></span>
<span class="line"><span style="color:#C678DD;">    private</span><span style="color:#E5C07B;"> TrieNode</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">V</span><span style="color:#ABB2BF;">&gt;</span><span style="color:#E06C75;"> root </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#C678DD;">    private</span><span style="color:#C678DD;"> static</span><span style="color:#C678DD;"> class</span><span style="color:#E5C07B;"> TrieNode</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">V</span><span style="color:#ABB2BF;">&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">        V</span><span style="color:#E06C75;"> val </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">        TrieNode</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">V</span><span style="color:#ABB2BF;">&gt;</span><span style="color:#E06C75;">[] children </span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;"> new</span><span style="color:#E5C07B;"> TrieNode</span><span style="color:#E06C75;">[R]</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /***** 增/改 *****/</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 在 map 中添加或修改键值对</span></span>
<span class="line"><span style="color:#C678DD;">    public</span><span style="color:#C678DD;"> void</span><span style="color:#61AFEF;"> put</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">String</span><span style="color:#E06C75;font-style:italic;"> key</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">V</span><span style="color:#E06C75;font-style:italic;"> val</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (</span><span style="color:#56B6C2;">!</span><span style="color:#61AFEF;">containsKey</span><span style="color:#ABB2BF;">(key)) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 新增键值对</span></span>
<span class="line"><span style="color:#ABB2BF;">            size++;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 需要一个额外的辅助函数，并接收其返回值</span></span>
<span class="line"><span style="color:#ABB2BF;">        root </span><span style="color:#56B6C2;">=</span><span style="color:#61AFEF;"> put</span><span style="color:#ABB2BF;">(root, key, val, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 定义：向以 node 为根的 Trie 树中插入 key[i..]，返回插入完成后的根节点</span></span>
<span class="line"><span style="color:#C678DD;">    private</span><span style="color:#E5C07B;"> TrieNode</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">V</span><span style="color:#ABB2BF;">&gt;</span><span style="color:#61AFEF;"> put</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">TrieNode</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">V</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#E06C75;font-style:italic;">node</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">String</span><span style="color:#E06C75;font-style:italic;"> key</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">V</span><span style="color:#E06C75;font-style:italic;"> val</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">int</span><span style="color:#E06C75;font-style:italic;"> i</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (node </span><span style="color:#56B6C2;">==</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 如果树枝不存在，新建</span></span>
<span class="line"><span style="color:#ABB2BF;">            node </span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;"> new</span><span style="color:#E5C07B;"> TrieNode</span><span style="color:#ABB2BF;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (i </span><span style="color:#56B6C2;">==</span><span style="color:#E5C07B;"> key</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">length</span><span style="color:#ABB2BF;">()) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // key 的路径已插入完成，将值 val 存入节点</span></span>
<span class="line"><span style="color:#E5C07B;">            node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">val</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> val;</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#ABB2BF;"> node;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#C678DD;">        char</span><span style="color:#E06C75;"> c</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> key</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">charAt</span><span style="color:#ABB2BF;">(i);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 递归插入子节点，并接收返回值</span></span>
<span class="line"><span style="color:#E5C07B;">        node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">children</span><span style="color:#ABB2BF;">[c] </span><span style="color:#56B6C2;">=</span><span style="color:#61AFEF;"> put</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">children</span><span style="color:#ABB2BF;">[c], key, val, i </span><span style="color:#56B6C2;">+</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#ABB2BF;"> node;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /***** 删 *****/</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 在 Map 中删除 key</span></span>
<span class="line"><span style="color:#C678DD;">    public</span><span style="color:#C678DD;"> void</span><span style="color:#61AFEF;"> remove</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">String</span><span style="color:#E06C75;font-style:italic;"> key</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (</span><span style="color:#56B6C2;">!</span><span style="color:#61AFEF;">containsKey</span><span style="color:#ABB2BF;">(key)) {</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 递归修改数据结构要接收函数的返回值</span></span>
<span class="line"><span style="color:#ABB2BF;">        root </span><span style="color:#56B6C2;">=</span><span style="color:#61AFEF;"> remove</span><span style="color:#ABB2BF;">(root, key, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">        size--;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 定义：在以 node 为根的 Trie 树中删除 key[i..]，返回删除后的根节点</span></span>
<span class="line"><span style="color:#C678DD;">    private</span><span style="color:#E5C07B;"> TrieNode</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">V</span><span style="color:#ABB2BF;">&gt;</span><span style="color:#61AFEF;"> remove</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">TrieNode</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">V</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#E06C75;font-style:italic;">node</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">String</span><span style="color:#E06C75;font-style:italic;"> key</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">int</span><span style="color:#E06C75;font-style:italic;"> i</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (node </span><span style="color:#56B6C2;">==</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (i </span><span style="color:#56B6C2;">==</span><span style="color:#E5C07B;"> key</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">length</span><span style="color:#ABB2BF;">()) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 找到了 key 对应的 TrieNode，删除 val</span></span>
<span class="line"><span style="color:#E5C07B;">            node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">val</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        } </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">            char</span><span style="color:#E06C75;"> c</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> key</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">charAt</span><span style="color:#ABB2BF;">(i);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 递归去子树进行删除</span></span>
<span class="line"><span style="color:#E5C07B;">            node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">children</span><span style="color:#ABB2BF;">[c] </span><span style="color:#56B6C2;">=</span><span style="color:#61AFEF;"> remove</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">children</span><span style="color:#ABB2BF;">[c], key, i </span><span style="color:#56B6C2;">+</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 后序位置，递归路径上的节点可能需要被清理</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">val</span><span style="color:#56B6C2;"> !=</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 如果该 TireNode 存储着 val，不需要被清理</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#ABB2BF;"> node;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 检查该 TrieNode 是否还有后缀</span></span>
<span class="line"><span style="color:#C678DD;">        for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">int</span><span style="color:#E06C75;"> c</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; c </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;"> R; c++) {</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">children</span><span style="color:#ABB2BF;">[c] </span><span style="color:#56B6C2;">!=</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">                // 只要存在一个子节点（后缀树枝），就不需要被清理</span></span>
<span class="line"><span style="color:#C678DD;">                return</span><span style="color:#ABB2BF;"> node;</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 既没有存储 val，也没有后缀树枝，则该节点需要被清理</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /***** 查 *****/</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 搜索 key 对应的值，不存在则返回 null</span></span>
<span class="line"><span style="color:#C678DD;">    public</span><span style="color:#E5C07B;"> V</span><span style="color:#61AFEF;"> get</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">String</span><span style="color:#E06C75;font-style:italic;"> key</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 从 root 开始搜索 key</span></span>
<span class="line"><span style="color:#E5C07B;">        TrieNode</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">V</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> =</span><span style="color:#61AFEF;"> getNode</span><span style="color:#ABB2BF;">(root, key);</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (x </span><span style="color:#56B6C2;">==</span><span style="color:#D19A66;"> null</span><span style="color:#56B6C2;"> ||</span><span style="color:#E5C07B;"> x</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">val</span><span style="color:#56B6C2;"> ==</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // x 为空或 x 的 val 字段为空都说明 key 没有对应的值</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#E5C07B;"> x</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">val</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 判断 key 是否存在在 Map 中</span></span>
<span class="line"><span style="color:#C678DD;">    public</span><span style="color:#C678DD;"> boolean</span><span style="color:#61AFEF;"> containsKey</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">String</span><span style="color:#E06C75;font-style:italic;"> key</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#61AFEF;"> get</span><span style="color:#ABB2BF;">(key) </span><span style="color:#56B6C2;">!=</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 判断是和否存在前缀为 prefix 的键</span></span>
<span class="line"><span style="color:#C678DD;">    public</span><span style="color:#C678DD;"> boolean</span><span style="color:#61AFEF;"> hasKeyWithPrefix</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">String</span><span style="color:#E06C75;font-style:italic;"> prefix</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 只要能找到一个节点，就是存在前缀</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#61AFEF;"> getNode</span><span style="color:#ABB2BF;">(root, prefix) </span><span style="color:#56B6C2;">!=</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 在所有键中寻找 query 的最短前缀</span></span>
<span class="line"><span style="color:#C678DD;">    public</span><span style="color:#E5C07B;"> String</span><span style="color:#61AFEF;"> shortestPrefixOf</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">String</span><span style="color:#E06C75;font-style:italic;"> query</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">        TrieNode</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">V</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#E06C75;">p</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> root;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 从节点 node 开始搜索 key</span></span>
<span class="line"><span style="color:#C678DD;">        for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">int</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; i </span><span style="color:#56B6C2;">&lt;</span><span style="color:#E5C07B;"> query</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">length</span><span style="color:#ABB2BF;">(); i++) {</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> (p </span><span style="color:#56B6C2;">==</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">                // 无法向下搜索</span></span>
<span class="line"><span style="color:#C678DD;">                return</span><span style="color:#98C379;"> &quot;&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">val</span><span style="color:#56B6C2;"> !=</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">                // 找到一个键是 query 的前缀</span></span>
<span class="line"><span style="color:#C678DD;">                return</span><span style="color:#E5C07B;"> query</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">substring</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, i);</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 向下搜索</span></span>
<span class="line"><span style="color:#C678DD;">            char</span><span style="color:#E06C75;"> c</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> query</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">charAt</span><span style="color:#ABB2BF;">(i);</span></span>
<span class="line"><span style="color:#ABB2BF;">            p </span><span style="color:#56B6C2;">=</span><span style="color:#E5C07B;"> p</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">children</span><span style="color:#ABB2BF;">[c];</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (p </span><span style="color:#56B6C2;">!=</span><span style="color:#D19A66;"> null</span><span style="color:#56B6C2;"> &amp;&amp;</span><span style="color:#E5C07B;"> p</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">val</span><span style="color:#56B6C2;"> !=</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 如果 query 本身就是一个键</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#ABB2BF;"> query;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#98C379;"> &quot;&quot;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 在所有键中寻找 query 的最长前缀</span></span>
<span class="line"><span style="color:#C678DD;">    public</span><span style="color:#E5C07B;"> String</span><span style="color:#61AFEF;"> longestPrefixOf</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">String</span><span style="color:#E06C75;font-style:italic;"> query</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">        TrieNode</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">V</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#E06C75;">p</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> root;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 记录前缀的最大长度</span></span>
<span class="line"><span style="color:#C678DD;">        int</span><span style="color:#E06C75;"> max_len</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 从节点 node 开始搜索 key</span></span>
<span class="line"><span style="color:#C678DD;">        for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">int</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; i </span><span style="color:#56B6C2;">&lt;</span><span style="color:#E5C07B;"> query</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">length</span><span style="color:#ABB2BF;">(); i++) {</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> (p </span><span style="color:#56B6C2;">==</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">                // 无法向下搜索</span></span>
<span class="line"><span style="color:#C678DD;">                break</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">p</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">val</span><span style="color:#56B6C2;"> !=</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">                // 找到一个键是 query 的前缀，更新前缀的最大长度</span></span>
<span class="line"><span style="color:#ABB2BF;">                max_len </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> i;</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 向下搜索</span></span>
<span class="line"><span style="color:#C678DD;">            char</span><span style="color:#E06C75;"> c</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> query</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">charAt</span><span style="color:#ABB2BF;">(i);</span></span>
<span class="line"><span style="color:#ABB2BF;">            p </span><span style="color:#56B6C2;">=</span><span style="color:#E5C07B;"> p</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">children</span><span style="color:#ABB2BF;">[c];</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (p </span><span style="color:#56B6C2;">!=</span><span style="color:#D19A66;"> null</span><span style="color:#56B6C2;"> &amp;&amp;</span><span style="color:#E5C07B;"> p</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">val</span><span style="color:#56B6C2;"> !=</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 如果 query 本身就是一个键</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#ABB2BF;"> query;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#E5C07B;"> query</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">substring</span><span style="color:#ABB2BF;">(</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, max_len);</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 搜索前缀为 prefix 的所有键</span></span>
<span class="line"><span style="color:#C678DD;">    public</span><span style="color:#E5C07B;"> List</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">String</span><span style="color:#ABB2BF;">&gt;</span><span style="color:#61AFEF;"> keysWithPrefix</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">String</span><span style="color:#E06C75;font-style:italic;"> prefix</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">        List</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">String</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#E06C75;">res</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> new</span><span style="color:#E5C07B;"> LinkedList</span><span style="color:#ABB2BF;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 找到匹配 prefix 在 Trie 树中的那个节点</span></span>
<span class="line"><span style="color:#E5C07B;">        TrieNode</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">V</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#E06C75;">x</span><span style="color:#56B6C2;"> =</span><span style="color:#61AFEF;"> getNode</span><span style="color:#ABB2BF;">(root, prefix);</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (x </span><span style="color:#56B6C2;">==</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#ABB2BF;"> res;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // DFS 遍历以 x 为根的这棵 Trie 树</span></span>
<span class="line"><span style="color:#61AFEF;">        traverse</span><span style="color:#ABB2BF;">(x, </span><span style="color:#C678DD;">new</span><span style="color:#61AFEF;"> StringBuilder</span><span style="color:#ABB2BF;">(prefix), res);</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#ABB2BF;"> res;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 遍历以 node 节点为根的 Trie 树，找到所有键</span></span>
<span class="line"><span style="color:#C678DD;">    private</span><span style="color:#C678DD;"> void</span><span style="color:#61AFEF;"> traverse</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">TrieNode</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">V</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#E06C75;font-style:italic;">node</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">StringBuilder</span><span style="color:#E06C75;font-style:italic;"> path</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">List</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">String</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#E06C75;font-style:italic;">res</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (node </span><span style="color:#56B6C2;">==</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 到达 Trie 树底部叶子结点</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">val</span><span style="color:#56B6C2;"> !=</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 找到一个 key，添加到结果列表中</span></span>
<span class="line"><span style="color:#E5C07B;">            res</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">add</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">path</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">toString</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 回溯算法遍历框架</span></span>
<span class="line"><span style="color:#C678DD;">        for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">char</span><span style="color:#E06C75;"> c</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; c </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;"> R; c++) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 做选择</span></span>
<span class="line"><span style="color:#E5C07B;">            path</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">append</span><span style="color:#ABB2BF;">(c);</span></span>
<span class="line"><span style="color:#61AFEF;">            traverse</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">children</span><span style="color:#ABB2BF;">[c], path, res);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 撤销选择</span></span>
<span class="line"><span style="color:#E5C07B;">            path</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">deleteCharAt</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">path</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">length</span><span style="color:#ABB2BF;">() </span><span style="color:#56B6C2;">-</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 通配符 . 匹配任意字符</span></span>
<span class="line"><span style="color:#C678DD;">    public</span><span style="color:#E5C07B;"> List</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">String</span><span style="color:#ABB2BF;">&gt;</span><span style="color:#61AFEF;"> keysWithPattern</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">String</span><span style="color:#E06C75;font-style:italic;"> pattern</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">        List</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">String</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#E06C75;">res</span><span style="color:#56B6C2;"> =</span><span style="color:#C678DD;"> new</span><span style="color:#E5C07B;"> LinkedList</span><span style="color:#ABB2BF;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#61AFEF;">        traverse</span><span style="color:#ABB2BF;">(root, </span><span style="color:#C678DD;">new</span><span style="color:#61AFEF;"> StringBuilder</span><span style="color:#ABB2BF;">(), pattern, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, res);</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#ABB2BF;"> res;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 遍历函数，尝试在「以 node 为根的 Trie 树中」匹配 pattern[i..]</span></span>
<span class="line"><span style="color:#C678DD;">    private</span><span style="color:#C678DD;"> void</span><span style="color:#61AFEF;"> traverse</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">TrieNode</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">V</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#E06C75;font-style:italic;">node</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">StringBuilder</span><span style="color:#E06C75;font-style:italic;"> path</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">String</span><span style="color:#E06C75;font-style:italic;"> pattern</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">int</span><span style="color:#E06C75;font-style:italic;"> i</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">List</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">String</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#E06C75;font-style:italic;">res</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (node </span><span style="color:#56B6C2;">==</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 树枝不存在，即匹配失败</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (i </span><span style="color:#56B6C2;">==</span><span style="color:#E5C07B;"> pattern</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">length</span><span style="color:#ABB2BF;">()) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // pattern 匹配完成</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">val</span><span style="color:#56B6C2;"> !=</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">                // 如果这个节点存储着 val，则找到一个匹配的键</span></span>
<span class="line"><span style="color:#E5C07B;">                res</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">add</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">path</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">toString</span><span style="color:#ABB2BF;">());</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#C678DD;">        char</span><span style="color:#E06C75;"> c</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> pattern</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">charAt</span><span style="color:#ABB2BF;">(i);</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (c </span><span style="color:#56B6C2;">==</span><span style="color:#98C379;"> &#39;.&#39;</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // pattern[i] 是通配符，可以变化成任意字符</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 多叉树（回溯算法）遍历框架</span></span>
<span class="line"><span style="color:#C678DD;">            for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">char</span><span style="color:#E06C75;"> j</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; j </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;"> R; j++) {</span></span>
<span class="line"><span style="color:#E5C07B;">                path</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">append</span><span style="color:#ABB2BF;">(j);</span></span>
<span class="line"><span style="color:#61AFEF;">                traverse</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">children</span><span style="color:#ABB2BF;">[j], path, pattern, i </span><span style="color:#56B6C2;">+</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">, res);</span></span>
<span class="line"><span style="color:#E5C07B;">                path</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">deleteCharAt</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">path</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">length</span><span style="color:#ABB2BF;">() </span><span style="color:#56B6C2;">-</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#ABB2BF;">        } </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // pattern[i] 是普通字符 c</span></span>
<span class="line"><span style="color:#E5C07B;">            path</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">append</span><span style="color:#ABB2BF;">(c);</span></span>
<span class="line"><span style="color:#61AFEF;">            traverse</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">children</span><span style="color:#ABB2BF;">[c], path, pattern, i </span><span style="color:#56B6C2;">+</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">, res);</span></span>
<span class="line"><span style="color:#E5C07B;">            path</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">deleteCharAt</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">path</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">length</span><span style="color:#ABB2BF;">() </span><span style="color:#56B6C2;">-</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 判断是和否存在前缀为 prefix 的键</span></span>
<span class="line"><span style="color:#C678DD;">    public</span><span style="color:#C678DD;"> boolean</span><span style="color:#61AFEF;"> hasKeyWithPattern</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">String</span><span style="color:#E06C75;font-style:italic;"> pattern</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 从 root 节点开始匹配 pattern[0..]</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#61AFEF;"> hasKeyWithPattern</span><span style="color:#ABB2BF;">(root, pattern, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 函数定义：从 node 节点开始匹配 pattern[i..]，返回是否成功匹配</span></span>
<span class="line"><span style="color:#C678DD;">    private</span><span style="color:#C678DD;"> boolean</span><span style="color:#61AFEF;"> hasKeyWithPattern</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">TrieNode</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">V</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#E06C75;font-style:italic;">node</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">String</span><span style="color:#E06C75;font-style:italic;"> pattern</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">int</span><span style="color:#E06C75;font-style:italic;"> i</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (node </span><span style="color:#56B6C2;">==</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 树枝不存在，即匹配失败</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#D19A66;"> false</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (i </span><span style="color:#56B6C2;">==</span><span style="color:#E5C07B;"> pattern</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">length</span><span style="color:#ABB2BF;">()) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 模式串走到头了，看看匹配到的是否是一个键</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#E5C07B;"> node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">val</span><span style="color:#56B6C2;"> !=</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#C678DD;">        char</span><span style="color:#E06C75;"> c</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> pattern</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">charAt</span><span style="color:#ABB2BF;">(i);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 没有遇到通配符</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (c </span><span style="color:#56B6C2;">!=</span><span style="color:#98C379;"> &#39;.&#39;</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 从 node.children[c] 节点开始匹配 pattern[i+1..]</span></span>
<span class="line"><span style="color:#C678DD;">            return</span><span style="color:#61AFEF;"> hasKeyWithPattern</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">children</span><span style="color:#ABB2BF;">[c], pattern, i </span><span style="color:#56B6C2;">+</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 遇到通配符</span></span>
<span class="line"><span style="color:#C678DD;">        for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">int</span><span style="color:#E06C75;"> j</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; j </span><span style="color:#56B6C2;">&lt;</span><span style="color:#ABB2BF;"> R; j++) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // pattern[i] 可以变化成任意字符，尝试所有可能，只要遇到一个匹配成功就返回</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> (</span><span style="color:#61AFEF;">hasKeyWithPattern</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">node</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">children</span><span style="color:#ABB2BF;">[j], pattern, i </span><span style="color:#56B6C2;">+</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">)) {</span></span>
<span class="line"><span style="color:#C678DD;">                return</span><span style="color:#D19A66;"> true</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 都没有匹配</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#D19A66;"> false</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 从节点 node 开始搜索 key，如果存在返回对应节点，否则返回 null</span></span>
<span class="line"><span style="color:#C678DD;">    private</span><span style="color:#E5C07B;"> TrieNode</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">V</span><span style="color:#ABB2BF;">&gt;</span><span style="color:#61AFEF;"> getNode</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">TrieNode</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">V</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#E06C75;font-style:italic;">node</span><span style="color:#ABB2BF;">, </span><span style="color:#E5C07B;">String</span><span style="color:#E06C75;font-style:italic;"> key</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">        TrieNode</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">V</span><span style="color:#ABB2BF;">&gt; </span><span style="color:#E06C75;">p</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> node;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 从节点 node 开始搜索 key</span></span>
<span class="line"><span style="color:#C678DD;">        for</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">int</span><span style="color:#E06C75;"> i</span><span style="color:#56B6C2;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; i </span><span style="color:#56B6C2;">&lt;</span><span style="color:#E5C07B;"> key</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">length</span><span style="color:#ABB2BF;">(); i++) {</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> (p </span><span style="color:#56B6C2;">==</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">                // 无法向下搜索</span></span>
<span class="line"><span style="color:#C678DD;">                return</span><span style="color:#D19A66;"> null</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 向下搜索</span></span>
<span class="line"><span style="color:#C678DD;">            char</span><span style="color:#E06C75;"> c</span><span style="color:#56B6C2;"> =</span><span style="color:#E5C07B;"> key</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">charAt</span><span style="color:#ABB2BF;">(i);</span></span>
<span class="line"><span style="color:#ABB2BF;">            p </span><span style="color:#56B6C2;">=</span><span style="color:#E5C07B;"> p</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">children</span><span style="color:#ABB2BF;">[c];</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#ABB2BF;"> p;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E06C75;">    </span></span>
<span class="line"><span style="color:#C678DD;">    public</span><span style="color:#C678DD;"> int</span><span style="color:#61AFEF;"> size</span><span style="color:#ABB2BF;">()</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#ABB2BF;"> size;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br></div></div><h3 id="伸展树-splay-tree" tabindex="-1">伸展树 Splay Tree <a class="header-anchor" href="#伸展树-splay-tree" aria-label="Permalink to &quot;伸展树 Splay Tree&quot;">​</a></h3><p>由Daniel Sleator和Robert Tarjan创造，一种二叉排序树，它能在O(log n)内完成插入、查找和删除操作</p><h2 id="heap" tabindex="-1">Heap <a class="header-anchor" href="#heap" aria-label="Permalink to &quot;Heap&quot;">​</a></h2><p><strong>堆</strong>是一种特别的<a href="https://wiwiki.kfd.me/wiki/%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91" target="_blank" rel="noreferrer">完全二叉树</a> <br> 优先队列（priority Queue）：取出元素的顺序是依照元素的优先级大小，以<strong>完全二叉树</strong>存储 <br> 根节点最大的堆叫做<strong>最大堆</strong>或<strong>大根堆</strong>，根节点最小的堆叫做<strong>最小堆</strong>或<strong>小根堆</strong></p><p><strong>二叉堆</strong>（binary heap）是一种特殊的<a href="https://wiwiki.kfd.me/wiki/%E5%A0%86_(%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84)" target="_blank" rel="noreferrer">堆</a>，二叉堆是<a href="https://wiwiki.kfd.me/wiki/%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91" target="_blank" rel="noreferrer">完全二叉树</a>或者是近似完全二叉树。 <br> <img src="`+B+`" alt=""></p><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> struct</span><span style="color:#ABB2BF;"> HNode </span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;">Heap;</span><span style="color:#7F848E;font-style:italic;"> /* 堆的类型定义 */</span></span>
<span class="line"><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> HNode {</span></span>
<span class="line"><span style="color:#ABB2BF;">    ElementType </span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;">Data;</span><span style="color:#7F848E;font-style:italic;"> /* 存储元素的数组 */</span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#ABB2BF;"> Size;</span><span style="color:#7F848E;font-style:italic;">          /* 堆中当前元素个数 */</span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#ABB2BF;"> Capacity;</span><span style="color:#7F848E;font-style:italic;">      /* 堆的最大容量 */</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#ABB2BF;"> Heap MaxHeap;</span><span style="color:#7F848E;font-style:italic;"> /* 最大堆 */</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#ABB2BF;"> Heap MinHeap;</span><span style="color:#7F848E;font-style:italic;"> /* 最小堆 */</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">#define</span><span style="color:#61AFEF;"> MAXDATA</span><span style="color:#D19A66;"> 1000</span><span style="color:#7F848E;font-style:italic;">  /* 该值应根据具体情况定义为大于堆中所有可能元素的值 */</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">MaxHeap </span><span style="color:#61AFEF;">CreateHeap</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;font-style:italic;"> MaxSize</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 创建容量为MaxSize的空的最大堆 */</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">    MaxHeap H </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> (MaxHeap)</span><span style="color:#61AFEF;">malloc</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">sizeof</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> HNode));</span></span>
<span class="line"><span style="color:#E5C07B;">    H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> (ElementType </span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;">)</span><span style="color:#61AFEF;">malloc</span><span style="color:#ABB2BF;">((MaxSize</span><span style="color:#C678DD;">+</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">)</span><span style="color:#C678DD;">*sizeof</span><span style="color:#ABB2BF;">(ElementType));</span></span>
<span class="line"><span style="color:#E5C07B;">    H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Size</span><span style="color:#C678DD;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">    H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Capacity</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> MaxSize;</span></span>
<span class="line"><span style="color:#E5C07B;">    H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">] </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> MAXDATA;</span><span style="color:#7F848E;font-style:italic;"> /* 定义&quot;哨兵&quot;为大于堆中所有可能元素的值*/</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#ABB2BF;"> H;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">bool</span><span style="color:#61AFEF;"> IsFull</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> MaxHeap </span><span style="color:#E06C75;font-style:italic;">H</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Size</span><span style="color:#C678DD;"> ==</span><span style="color:#E5C07B;"> H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Capacity</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">bool</span><span style="color:#61AFEF;"> Insert</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> MaxHeap </span><span style="color:#E06C75;font-style:italic;">H</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> ElementType </span><span style="color:#E06C75;font-style:italic;">X</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 将元素X插入最大堆H，其中H-&gt;Data[0]已经定义为哨兵 */</span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#ABB2BF;"> i;</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#61AFEF;">IsFull</span><span style="color:#ABB2BF;">(H) ) { </span></span>
<span class="line"><span style="color:#61AFEF;">        printf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;最大堆已满&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#D19A66;"> false</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">    i </span><span style="color:#C678DD;">=</span><span style="color:#C678DD;"> ++</span><span style="color:#E5C07B;">H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Size</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* i指向插入后堆中的最后一个元素的位置 */</span></span>
<span class="line"><span style="color:#C678DD;">    for</span><span style="color:#ABB2BF;"> ( ; </span><span style="color:#E5C07B;">H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[i</span><span style="color:#C678DD;">/</span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">] </span><span style="color:#C678DD;">&lt;</span><span style="color:#ABB2BF;"> X; i</span><span style="color:#C678DD;">/=</span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#E5C07B;">        H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[i] </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[i</span><span style="color:#C678DD;">/</span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">];</span><span style="color:#7F848E;font-style:italic;"> /* 上滤X */</span></span>
<span class="line"><span style="color:#E5C07B;">    H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[i] </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> X;</span><span style="color:#7F848E;font-style:italic;"> /* 将X插入 */</span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#D19A66;"> true</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">#define</span><span style="color:#61AFEF;"> ERROR</span><span style="color:#C678DD;"> -</span><span style="color:#D19A66;">1</span><span style="color:#7F848E;font-style:italic;"> /* 错误标识应根据具体情况定义为堆中不可能出现的元素值 */</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">bool</span><span style="color:#61AFEF;"> IsEmpty</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> MaxHeap </span><span style="color:#E06C75;font-style:italic;">H</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Size</span><span style="color:#C678DD;"> ==</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">ElementType </span><span style="color:#61AFEF;">DeleteMax</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> MaxHeap </span><span style="color:#E06C75;font-style:italic;">H</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 从最大堆H中取出键值为最大的元素，并删除一个结点 */</span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#ABB2BF;"> Parent, Child;</span></span>
<span class="line"><span style="color:#ABB2BF;">    ElementType MaxItem, X;</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#61AFEF;">IsEmpty</span><span style="color:#ABB2BF;">(H) ) {</span></span>
<span class="line"><span style="color:#61AFEF;">        printf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;最大堆已为空&quot;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#ABB2BF;"> ERROR;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">    MaxItem </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">];</span><span style="color:#7F848E;font-style:italic;"> /* 取出根结点存放的最大值 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 用最大堆中最后一个元素从根结点开始向上过滤下层结点 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    X </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[</span><span style="color:#E5C07B;">H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Size</span><span style="color:#C678DD;">--</span><span style="color:#ABB2BF;">];</span><span style="color:#7F848E;font-style:italic;"> /* 注意当前堆的规模要减小 */</span></span>
<span class="line"><span style="color:#C678DD;">    for</span><span style="color:#ABB2BF;">( Parent</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">; Parent</span><span style="color:#C678DD;">*</span><span style="color:#D19A66;">2</span><span style="color:#C678DD;">&lt;=</span><span style="color:#E5C07B;">H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Size</span><span style="color:#ABB2BF;">; Parent</span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;">Child ) {</span></span>
<span class="line"><span style="color:#ABB2BF;">        Child </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> Parent </span><span style="color:#C678DD;">*</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;">( (Child</span><span style="color:#C678DD;">!=</span><span style="color:#E5C07B;">H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Size</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">&amp;&amp;</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[Child]</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[Child</span><span style="color:#C678DD;">+</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">]) )</span></span>
<span class="line"><span style="color:#ABB2BF;">            Child</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;">  /* Child指向左右子结点的较大者 */</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;">( X </span><span style="color:#C678DD;">&gt;=</span><span style="color:#E5C07B;"> H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[Child] ) </span><span style="color:#C678DD;">break</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 找到了合适位置 */</span></span>
<span class="line"><span style="color:#C678DD;">        else</span><span style="color:#7F848E;font-style:italic;">  /* 下滤X */</span></span>
<span class="line"><span style="color:#E5C07B;">            H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[Parent] </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[Child];</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E5C07B;">    H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[Parent] </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> X;</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#ABB2BF;"> MaxItem;</span></span>
<span class="line"><span style="color:#ABB2BF;">} </span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/*----------- 建造最大堆 -----------*/</span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> PercDown</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> MaxHeap </span><span style="color:#E06C75;font-style:italic;">H</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;font-style:italic;"> p</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 下滤：将H中以H-&gt;Data[p]为根的子堆调整为最大堆 */</span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#ABB2BF;"> Parent, Child;</span></span>
<span class="line"><span style="color:#ABB2BF;">    ElementType X;</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">    X </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[p];</span><span style="color:#7F848E;font-style:italic;"> /* 取出根结点存放的值 */</span></span>
<span class="line"><span style="color:#C678DD;">    for</span><span style="color:#ABB2BF;">( Parent</span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;">p; Parent</span><span style="color:#C678DD;">*</span><span style="color:#D19A66;">2</span><span style="color:#C678DD;">&lt;=</span><span style="color:#E5C07B;">H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Size</span><span style="color:#ABB2BF;">; Parent</span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;">Child ) {</span></span>
<span class="line"><span style="color:#ABB2BF;">        Child </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> Parent </span><span style="color:#C678DD;">*</span><span style="color:#D19A66;"> 2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;">( (Child</span><span style="color:#C678DD;">!=</span><span style="color:#E5C07B;">H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Size</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">&amp;&amp;</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[Child]</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[Child</span><span style="color:#C678DD;">+</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">]) )</span></span>
<span class="line"><span style="color:#ABB2BF;">            Child</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;">  /* Child指向左右子结点的较大者 */</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;">( X </span><span style="color:#C678DD;">&gt;=</span><span style="color:#E5C07B;"> H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[Child] ) </span><span style="color:#C678DD;">break</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 找到了合适位置 */</span></span>
<span class="line"><span style="color:#C678DD;">        else</span><span style="color:#7F848E;font-style:italic;">  /* 下滤X */</span></span>
<span class="line"><span style="color:#E5C07B;">            H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[Parent] </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[Child];</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E5C07B;">    H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[Parent] </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> X;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> BuildHeap</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> MaxHeap </span><span style="color:#E06C75;font-style:italic;">H</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 调整H-&gt;Data[]中的元素，使满足最大堆的有序性  */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">  /* 这里假设所有H-&gt;Size个元素已经存在H-&gt;Data[]中 */</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#ABB2BF;"> i;</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 从最后一个结点的父节点开始，到根结点1 */</span></span>
<span class="line"><span style="color:#C678DD;">    for</span><span style="color:#ABB2BF;">( i </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> H</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Size</span><span style="color:#C678DD;">/</span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">; i</span><span style="color:#C678DD;">&gt;</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; i</span><span style="color:#C678DD;">--</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#61AFEF;">        PercDown</span><span style="color:#ABB2BF;">( H, i );</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br></div></div><h2 id="union-find-set" tabindex="-1">Union-Find Set <a class="header-anchor" href="#union-find-set" aria-label="Permalink to &quot;Union-Find Set&quot;">​</a></h2><p>**并查集，**用于处理一些不交集的合并及查询问题</p><ul><li>查找（Find）：确定某个元素处于哪个子集；</li><li>合并（Union）：将两个子集合并成一个集合。</li></ul><p><img src="`+y+'" alt=""></p><p>路径压缩：把在路径上的每个节点都直接连接到根上 <br> <img src="'+i+`" alt=""></p><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">#define</span><span style="color:#61AFEF;"> MAXN</span><span style="color:#D19A66;"> 1000</span><span style="color:#7F848E;font-style:italic;">                  /* 集合最大元素个数 */</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> int</span><span style="color:#ABB2BF;"> ElementType;</span><span style="color:#7F848E;font-style:italic;">           /* 默认元素可以用非负整数表示 */</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> int</span><span style="color:#ABB2BF;"> SetName;</span><span style="color:#7F848E;font-style:italic;">               /* 默认用根结点的下标作为集合名称 */</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#ABB2BF;"> ElementType </span><span style="color:#E06C75;">SetType</span><span style="color:#ABB2BF;">[MAXN];</span><span style="color:#7F848E;font-style:italic;"> /* 假设集合元素下标从0开始 */</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> Union</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> SetType </span><span style="color:#E06C75;font-style:italic;">S</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> SetName </span><span style="color:#E06C75;font-style:italic;">Root1</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> SetName </span><span style="color:#E06C75;font-style:italic;">Root2</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 这里默认Root1和Root2是不同集合的根结点*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"> // if(Root2 == Root1)  return; </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 小集合并入大集合 */</span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#E06C75;">S</span><span style="color:#ABB2BF;">[Root2] </span><span style="color:#C678DD;">&lt;</span><span style="color:#E06C75;"> S</span><span style="color:#ABB2BF;">[Root1] ) {</span><span style="color:#7F848E;font-style:italic;"> /* 如果集合2比较大 */</span></span>
<span class="line"><span style="color:#E06C75;">        S</span><span style="color:#ABB2BF;">[Root2] </span><span style="color:#C678DD;">+=</span><span style="color:#E06C75;"> S</span><span style="color:#ABB2BF;">[Root1];</span><span style="color:#7F848E;font-style:italic;">     /* 集合1并入集合2  */</span></span>
<span class="line"><span style="color:#E06C75;">        S</span><span style="color:#ABB2BF;">[Root1] </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> Root2;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#C678DD;">    else</span><span style="color:#ABB2BF;"> {</span><span style="color:#7F848E;font-style:italic;">                         /* 如果集合1比较大 */</span></span>
<span class="line"><span style="color:#E06C75;">        S</span><span style="color:#ABB2BF;">[Root1] </span><span style="color:#C678DD;">+=</span><span style="color:#E06C75;"> S</span><span style="color:#ABB2BF;">[Root2];</span><span style="color:#7F848E;font-style:italic;">     /* 集合2并入集合1  */</span></span>
<span class="line"><span style="color:#E06C75;">        S</span><span style="color:#ABB2BF;">[Root2] </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> Root1;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">SetName </span><span style="color:#61AFEF;">Find</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> SetType </span><span style="color:#E06C75;font-style:italic;">S</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> ElementType </span><span style="color:#E06C75;font-style:italic;">X</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 默认集合元素全部初始化为-1 */</span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#E06C75;">S</span><span style="color:#ABB2BF;">[X] </span><span style="color:#C678DD;">&lt;</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;"> )</span><span style="color:#7F848E;font-style:italic;"> /* 找到集合的根 */</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#ABB2BF;"> X;</span></span>
<span class="line"><span style="color:#C678DD;">    else</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#E06C75;"> S</span><span style="color:#ABB2BF;">[X] </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> Find</span><span style="color:#ABB2BF;">( S, </span><span style="color:#E06C75;">S</span><span style="color:#ABB2BF;">[X] );</span><span style="color:#7F848E;font-style:italic;"> /* 路径压缩 */</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="graph" tabindex="-1">Graph <a class="header-anchor" href="#graph" aria-label="Permalink to &quot;Graph&quot;">​</a></h2><p>一个二元组_G_ = (<em>V</em>, <em>E</em>)，其中集合_V_中的元素称为<strong>节点</strong>（Vertex），集合_E_中的元素是两个节点组成的无序对，称为<strong>边</strong>（Edge）。</p><ul><li>表示”多对多”的关系</li><li>包含 <ul><li>一组顶点：通常用 V表示顶点集合</li><li>一组边：通常用 E表示边的集合 <ul><li>边是顶点对：（v,w）∈ E，其中 v,w ∈ V v—w</li><li>有向边 &lt;v,w&gt; 表示从 v 指向 w 的边（单行线） v→w</li><li>不考虑重边和自回路</li></ul></li></ul></li></ul><p><strong>无向图 (Undirected graph)</strong> <br> **有向图 (Directed graph)：**由顶点（或结点）集<code>V</code>和边（或弧）集<code>E</code>组成。边集E是V中元素的有序对的集合。</p><p>常见术语</p><ul><li>权值：给图中每条边赋予的值，可能有各种各样的现实意义</li><li>网络：带权值的图</li><li>邻接点：有边直接相连的顶点</li><li>出度：从某顶点发出的边数</li><li>入度：指向某顶点的边数</li><li>稀疏图：顶点很多而边很少的图</li><li>稠密图：顶点多边也多的图</li><li>完全图：对于给定的一组顶点，顶点间都存在边</li></ul><h3 id="表示法" tabindex="-1">表示法 <a class="header-anchor" href="#表示法" aria-label="Permalink to &quot;表示法&quot;">​</a></h3><h4 id="邻接矩阵" tabindex="-1">邻接矩阵 <a class="header-anchor" href="#邻接矩阵" aria-label="Permalink to &quot;邻接矩阵&quot;">​</a></h4><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">#define</span><span style="color:#61AFEF;"> MaxVertexNum</span><span style="color:#D19A66;"> 100</span><span style="color:#7F848E;font-style:italic;">    /* 最大顶点数设为100 */</span></span>
<span class="line"><span style="color:#C678DD;">#define</span><span style="color:#61AFEF;"> INFINITY</span><span style="color:#D19A66;"> 65535</span><span style="color:#7F848E;font-style:italic;">        /* ∞设为双字节无符号整数的最大值65535*/</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> int</span><span style="color:#ABB2BF;"> Vertex;</span><span style="color:#7F848E;font-style:italic;">         /* 用顶点下标表示顶点,为整型 */</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> int</span><span style="color:#ABB2BF;"> WeightType;</span><span style="color:#7F848E;font-style:italic;">        /* 边的权值设为整型 */</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> char</span><span style="color:#ABB2BF;"> DataType;</span><span style="color:#7F848E;font-style:italic;">        /* 顶点存储的数据类型设为字符型 */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/* 边的定义 */</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> struct</span><span style="color:#ABB2BF;"> ENode</span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;"> PtrToENode;</span></span>
<span class="line"><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> ENode {</span></span>
<span class="line"><span style="color:#ABB2BF;">	Vertex V1, V2;</span><span style="color:#7F848E;font-style:italic;">      /* 有向边&lt;V1, V2&gt; */</span></span>
<span class="line"><span style="color:#ABB2BF;">	WeightType Weight;</span><span style="color:#7F848E;font-style:italic;">  /* 权重 */</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#ABB2BF;"> PtrToENode Edge;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/* 图结点的定义 */</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> struct</span><span style="color:#ABB2BF;"> GNode</span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;"> PtrToGNode;</span></span>
<span class="line"><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> GNode {</span></span>
<span class="line"><span style="color:#C678DD;">	int</span><span style="color:#ABB2BF;"> Nv;</span><span style="color:#7F848E;font-style:italic;">  /* 顶点数 */</span></span>
<span class="line"><span style="color:#C678DD;">	int</span><span style="color:#ABB2BF;"> Ne;</span><span style="color:#7F848E;font-style:italic;">  /* 边数   */</span></span>
<span class="line"><span style="color:#ABB2BF;">	WeightType </span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[MaxVertexNum][MaxVertexNum];</span><span style="color:#7F848E;font-style:italic;"> /* 邻接矩阵 */</span></span>
<span class="line"><span style="color:#ABB2BF;">	DataType </span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[MaxVertexNum];</span><span style="color:#7F848E;font-style:italic;">      /* 存顶点的数据 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	/* 注意：很多情况下，顶点无数据，此时Data[]可以不用出现 */</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#ABB2BF;"> PtrToGNode MGraph;</span><span style="color:#7F848E;font-style:italic;"> /* 以邻接矩阵存储的图类型 */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">MGraph </span><span style="color:#61AFEF;">CreateGraph</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">int</span><span style="color:#E06C75;font-style:italic;"> VertexNum</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 初始化一个有VertexNum个顶点但没有边的图 */</span></span>
<span class="line"><span style="color:#ABB2BF;">	Vertex V, W;</span></span>
<span class="line"><span style="color:#ABB2BF;">	MGraph Graph;</span></span>
<span class="line"><span style="color:#ABB2BF;">	Graph </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> (MGraph)</span><span style="color:#61AFEF;">malloc</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">sizeof</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> GNode));</span><span style="color:#7F848E;font-style:italic;"> /* 建立图 */</span></span>
<span class="line"><span style="color:#E5C07B;">	Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> VertexNum;</span></span>
<span class="line"><span style="color:#E5C07B;">	Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Ne</span><span style="color:#C678DD;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	/* 初始化邻接矩阵 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	/* 注意：这里默认顶点编号从0开始，到(Graph-&gt;Nv - 1) */</span></span>
<span class="line"><span style="color:#C678DD;">	for</span><span style="color:#ABB2BF;"> (V </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; V </span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;">		for</span><span style="color:#ABB2BF;"> (W </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; W </span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; W</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E5C07B;">			Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[V][W] </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> INFINITY;</span></span>
<span class="line"><span style="color:#C678DD;">	return</span><span style="color:#ABB2BF;"> Graph;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> InsertEdge</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">MGraph </span><span style="color:#E06C75;font-style:italic;">Graph</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> Edge </span><span style="color:#E06C75;font-style:italic;">E</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	/* 插入边 &lt;V1, V2&gt; */</span></span>
<span class="line"><span style="color:#E5C07B;">	Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[</span><span style="color:#E5C07B;">E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">V1</span><span style="color:#ABB2BF;">][</span><span style="color:#E5C07B;">E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">V2</span><span style="color:#ABB2BF;">] </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Weight</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	/* 若是无向图，还要插入边&lt;V2, V1&gt; */</span></span>
<span class="line"><span style="color:#E5C07B;">	Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[</span><span style="color:#E5C07B;">E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">V2</span><span style="color:#ABB2BF;">][</span><span style="color:#E5C07B;">E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">V1</span><span style="color:#ABB2BF;">] </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Weight</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">MGraph </span><span style="color:#61AFEF;">BuildGraph</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">	MGraph Graph;</span></span>
<span class="line"><span style="color:#ABB2BF;">	Edge E;</span></span>
<span class="line"><span style="color:#ABB2BF;">	Vertex V;</span></span>
<span class="line"><span style="color:#C678DD;">	int</span><span style="color:#ABB2BF;"> Nv, i;</span></span>
<span class="line"><span style="color:#61AFEF;">	scanf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;</span><span style="color:#D19A66;">%d</span><span style="color:#98C379;">&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">&amp;</span><span style="color:#ABB2BF;">Nv);</span><span style="color:#7F848E;font-style:italic;">   /* 读入顶点个数 */</span></span>
<span class="line"><span style="color:#ABB2BF;">	Graph </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> CreateGraph</span><span style="color:#ABB2BF;">(Nv);</span><span style="color:#7F848E;font-style:italic;"> /* 初始化有Nv个顶点但没有边的图 */</span></span>
<span class="line"><span style="color:#61AFEF;">	scanf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;</span><span style="color:#D19A66;">%d</span><span style="color:#98C379;">&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">&amp;</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Ne</span><span style="color:#ABB2BF;">));</span><span style="color:#7F848E;font-style:italic;">   /* 读入边数 */</span></span>
<span class="line"><span style="color:#C678DD;">	if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Ne</span><span style="color:#C678DD;"> !=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">) {</span><span style="color:#7F848E;font-style:italic;"> /* 如果有边 */</span></span>
<span class="line"><span style="color:#ABB2BF;">		E </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> (Edge)</span><span style="color:#61AFEF;">malloc</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">sizeof</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> ENode));</span><span style="color:#7F848E;font-style:italic;"> /* 建立边结点 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		/* 读入边，格式为&quot;起点 终点 权重&quot;，插入邻接矩阵 */</span></span>
<span class="line"><span style="color:#C678DD;">		for</span><span style="color:#ABB2BF;"> (i </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; i </span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Ne</span><span style="color:#ABB2BF;">; i</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#61AFEF;">			scanf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;</span><span style="color:#D19A66;">%d</span><span style="color:#D19A66;"> %d</span><span style="color:#D19A66;"> %d</span><span style="color:#98C379;">&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">&amp;</span><span style="color:#E5C07B;">E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">V1</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">&amp;</span><span style="color:#E5C07B;">E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">V2</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">&amp;</span><span style="color:#E5C07B;">E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Weight</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/* 注意：如果权重不是整型，Weight的读入格式要改 */</span></span>
<span class="line"><span style="color:#61AFEF;">			InsertEdge</span><span style="color:#ABB2BF;">(Graph, E);</span></span>
<span class="line"><span style="color:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	/* 如果顶点有数据的话，读入数据 */</span></span>
<span class="line"><span style="color:#C678DD;">	for</span><span style="color:#ABB2BF;"> (V </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; V </span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#61AFEF;">		scanf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot; </span><span style="color:#D19A66;">%c</span><span style="color:#98C379;">&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">&amp;</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">[V]));</span></span>
<span class="line"><span style="color:#C678DD;">	return</span><span style="color:#ABB2BF;"> Graph;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br></div></div><h4 id="邻接表" tabindex="-1">邻接表 <a class="header-anchor" href="#邻接表" aria-label="Permalink to &quot;邻接表&quot;">​</a></h4><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">#define</span><span style="color:#61AFEF;"> MaxVertexNum</span><span style="color:#D19A66;"> 100</span><span style="color:#7F848E;font-style:italic;">    /* 最大顶点数设为100 */</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> int</span><span style="color:#ABB2BF;"> Vertex;</span><span style="color:#7F848E;font-style:italic;">         /* 用顶点下标表示顶点,为整型 */</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> int</span><span style="color:#ABB2BF;"> WeightType;</span><span style="color:#7F848E;font-style:italic;">        /* 边的权值设为整型 */</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> char</span><span style="color:#ABB2BF;"> DataType;</span><span style="color:#7F848E;font-style:italic;">        /* 顶点存储的数据类型设为字符型 */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/* 边的定义 */</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> struct</span><span style="color:#ABB2BF;"> ENode</span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;"> PtrToENode;</span></span>
<span class="line"><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> ENode {</span></span>
<span class="line"><span style="color:#ABB2BF;">	Vertex V1, V2;</span><span style="color:#7F848E;font-style:italic;">      /* 有向边&lt;V1, V2&gt; */</span></span>
<span class="line"><span style="color:#ABB2BF;">	WeightType Weight;</span><span style="color:#7F848E;font-style:italic;">  /* 权重 */</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#ABB2BF;"> PtrToENode Edge;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/* 邻接点的定义 */</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> struct</span><span style="color:#ABB2BF;"> AdjVNode</span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;"> PtrToAdjVNode;</span></span>
<span class="line"><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> AdjVNode {</span></span>
<span class="line"><span style="color:#ABB2BF;">	Vertex AdjV;</span><span style="color:#7F848E;font-style:italic;">        /* 邻接点下标 */</span></span>
<span class="line"><span style="color:#ABB2BF;">	WeightType Weight;</span><span style="color:#7F848E;font-style:italic;">  /* 边权重 */</span></span>
<span class="line"><span style="color:#ABB2BF;">	PtrToAdjVNode Next;</span><span style="color:#7F848E;font-style:italic;">    /* 指向下一个邻接点的指针 */</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/* 顶点表头结点的定义 */</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> struct</span><span style="color:#ABB2BF;"> Vnode {</span></span>
<span class="line"><span style="color:#ABB2BF;">	PtrToAdjVNode FirstEdge;</span><span style="color:#7F848E;font-style:italic;">/* 边表头指针 */</span></span>
<span class="line"><span style="color:#ABB2BF;">	DataType Data;</span><span style="color:#7F848E;font-style:italic;">            /* 存顶点的数据 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	/* 注意：很多情况下，顶点无数据，此时Data可以不用出现 */</span></span>
<span class="line"><span style="color:#ABB2BF;">} </span><span style="color:#E06C75;">AdjList</span><span style="color:#ABB2BF;">[MaxVertexNum];</span><span style="color:#7F848E;font-style:italic;">    /* AdjList是邻接表类型 */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/* 图结点的定义 */</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#C678DD;"> struct</span><span style="color:#ABB2BF;"> GNode</span><span style="color:#C678DD;">*</span><span style="color:#ABB2BF;"> PtrToGNode;</span></span>
<span class="line"><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> GNode {</span></span>
<span class="line"><span style="color:#C678DD;">	int</span><span style="color:#ABB2BF;"> Nv;</span><span style="color:#7F848E;font-style:italic;">     /* 顶点数 */</span></span>
<span class="line"><span style="color:#C678DD;">	int</span><span style="color:#ABB2BF;"> Ne;</span><span style="color:#7F848E;font-style:italic;">     /* 边数   */</span></span>
<span class="line"><span style="color:#ABB2BF;">	AdjList G;</span><span style="color:#7F848E;font-style:italic;">  /* 邻接表 */</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#ABB2BF;"> PtrToGNode LGraph;</span><span style="color:#7F848E;font-style:italic;"> /* 以邻接表方式存储的图类型 */</span></span>
<span class="line"><span style="color:#ABB2BF;">LGraph </span><span style="color:#61AFEF;">CreateGraph</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">int</span><span style="color:#E06C75;font-style:italic;"> VertexNum</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 初始化一个有VertexNum个顶点但没有边的图 */</span></span>
<span class="line"><span style="color:#ABB2BF;">	Vertex V;</span></span>
<span class="line"><span style="color:#ABB2BF;">	LGraph Graph;</span></span>
<span class="line"><span style="color:#ABB2BF;">	Graph </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> (LGraph)</span><span style="color:#61AFEF;">malloc</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">sizeof</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> GNode));</span><span style="color:#7F848E;font-style:italic;"> /* 建立图 */</span></span>
<span class="line"><span style="color:#E5C07B;">	Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> VertexNum;</span></span>
<span class="line"><span style="color:#E5C07B;">	Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Ne</span><span style="color:#C678DD;"> =</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	/* 初始化邻接表头指针 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	/* 注意：这里默认顶点编号从0开始，到(Graph-&gt;Nv - 1) */</span></span>
<span class="line"><span style="color:#C678DD;">	for</span><span style="color:#ABB2BF;"> (V </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; V </span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E5C07B;">		Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[V].</span><span style="color:#E06C75;">FirstEdge</span><span style="color:#C678DD;"> =</span><span style="color:#D19A66;"> NULL</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">	return</span><span style="color:#ABB2BF;"> Graph;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> InsertEdge</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">LGraph </span><span style="color:#E06C75;font-style:italic;">Graph</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> Edge </span><span style="color:#E06C75;font-style:italic;">E</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">	PtrToAdjVNode NewNode;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	/* 插入边 &lt;V1, V2&gt; */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	/* 为V2建立新的邻接点 */</span></span>
<span class="line"><span style="color:#ABB2BF;">	NewNode </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> (PtrToAdjVNode)</span><span style="color:#61AFEF;">malloc</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">sizeof</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> AdjVNode));</span></span>
<span class="line"><span style="color:#E5C07B;">	NewNode</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">AdjV</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">V2</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">	NewNode</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Weight</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Weight</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	/* 将V2插入V1的表头 */</span></span>
<span class="line"><span style="color:#E5C07B;">	NewNode</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Next</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[</span><span style="color:#E5C07B;">E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">V1</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">FirstEdge</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">	Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[</span><span style="color:#E5C07B;">E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">V1</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">FirstEdge</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> NewNode;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	/* 若是无向图，还要插入边 &lt;V2, V1&gt; */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	/* 为V1建立新的邻接点 */</span></span>
<span class="line"><span style="color:#ABB2BF;">	NewNode </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> (PtrToAdjVNode)</span><span style="color:#61AFEF;">malloc</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">sizeof</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> AdjVNode));</span></span>
<span class="line"><span style="color:#E5C07B;">	NewNode</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">AdjV</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">V1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">	NewNode</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Weight</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Weight</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	/* 将V1插入V2的表头 */</span></span>
<span class="line"><span style="color:#E5C07B;">	NewNode</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Next</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[</span><span style="color:#E5C07B;">E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">V2</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">FirstEdge</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E5C07B;">	Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[</span><span style="color:#E5C07B;">E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">V2</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">FirstEdge</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> NewNode;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">LGraph </span><span style="color:#61AFEF;">BuildGraph</span><span style="color:#ABB2BF;">()</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">	LGraph Graph;</span></span>
<span class="line"><span style="color:#ABB2BF;">	Edge E;</span></span>
<span class="line"><span style="color:#ABB2BF;">	Vertex V;</span></span>
<span class="line"><span style="color:#C678DD;">	int</span><span style="color:#ABB2BF;"> Nv, i;</span></span>
<span class="line"><span style="color:#61AFEF;">	scanf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;</span><span style="color:#D19A66;">%d</span><span style="color:#98C379;">&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">&amp;</span><span style="color:#ABB2BF;">Nv);</span><span style="color:#7F848E;font-style:italic;">   /* 读入顶点个数 */</span></span>
<span class="line"><span style="color:#ABB2BF;">	Graph </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> CreateGraph</span><span style="color:#ABB2BF;">(Nv);</span><span style="color:#7F848E;font-style:italic;"> /* 初始化有Nv个顶点但没有边的图 */</span></span>
<span class="line"><span style="color:#61AFEF;">	scanf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;</span><span style="color:#D19A66;">%d</span><span style="color:#98C379;">&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">&amp;</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Ne</span><span style="color:#ABB2BF;">));</span><span style="color:#7F848E;font-style:italic;">   /* 读入边数 */</span></span>
<span class="line"><span style="color:#C678DD;">	if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Ne</span><span style="color:#C678DD;"> !=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">) {</span><span style="color:#7F848E;font-style:italic;"> /* 如果有边 */</span></span>
<span class="line"><span style="color:#ABB2BF;">		E </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> (Edge)</span><span style="color:#61AFEF;">malloc</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">sizeof</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> ENode));</span><span style="color:#7F848E;font-style:italic;"> /* 建立边结点 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">		/* 读入边，格式为&quot;起点 终点 权重&quot;，插入邻接矩阵 */</span></span>
<span class="line"><span style="color:#C678DD;">		for</span><span style="color:#ABB2BF;"> (i </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; i </span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Ne</span><span style="color:#ABB2BF;">; i</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#61AFEF;">			scanf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;</span><span style="color:#D19A66;">%d</span><span style="color:#D19A66;"> %d</span><span style="color:#D19A66;"> %d</span><span style="color:#98C379;">&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">&amp;</span><span style="color:#E5C07B;">E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">V1</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">&amp;</span><span style="color:#E5C07B;">E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">V2</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">&amp;</span><span style="color:#E5C07B;">E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Weight</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">			/* 注意：如果权重不是整型，Weight的读入格式要改 */</span></span>
<span class="line"><span style="color:#61AFEF;">			InsertEdge</span><span style="color:#ABB2BF;">(Graph, E);</span></span>
<span class="line"><span style="color:#ABB2BF;">		}</span></span>
<span class="line"><span style="color:#ABB2BF;">	}</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">	/* 如果顶点有数据的话，读入数据 */</span></span>
<span class="line"><span style="color:#C678DD;">	for</span><span style="color:#ABB2BF;"> (V </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; V </span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#61AFEF;">		scanf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot; </span><span style="color:#D19A66;">%c</span><span style="color:#98C379;">&quot;</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">&amp;</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[V].</span><span style="color:#E06C75;">Data</span><span style="color:#ABB2BF;">));</span></span>
<span class="line"><span style="color:#C678DD;">	return</span><span style="color:#ABB2BF;"> Graph;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br></div></div><h3 id="遍历" tabindex="-1">遍历 <a class="header-anchor" href="#遍历" aria-label="Permalink to &quot;遍历&quot;">​</a></h3><h4 id="邻接表-dfs" tabindex="-1">邻接表 - DFS <a class="header-anchor" href="#邻接表-dfs" aria-label="Permalink to &quot;邻接表 - DFS&quot;">​</a></h4><p>深度优先搜索（Depth First Search)：每次都尝试向更深的节点走，通常<strong>递归调用自身</strong></p><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> Visit</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> Vertex </span><span style="color:#E06C75;font-style:italic;">V</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#61AFEF;">    printf</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&quot;正在访问顶点</span><span style="color:#D19A66;">%d</span><span style="color:#56B6C2;">\\n</span><span style="color:#98C379;">&quot;</span><span style="color:#ABB2BF;">, V);</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/* Visited[]为全局变量，已经初始化为false */</span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> DFS</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> LGraph </span><span style="color:#E06C75;font-style:italic;">Graph</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> Vertex </span><span style="color:#E06C75;font-style:italic;">V</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;"> void</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">*</span><span style="color:#E06C75;">Visit</span><span style="color:#ABB2BF;">)(</span><span style="color:#E06C75;">Vertex</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;">   /* 以V为出发点对邻接表存储的图Graph进行DFS搜索 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    PtrToAdjVNode W;</span></span>
<span class="line"><span style="color:#ABB2BF;">     </span></span>
<span class="line"><span style="color:#61AFEF;">    Visit</span><span style="color:#ABB2BF;">( V );</span><span style="color:#7F848E;font-style:italic;"> /* 访问第V个顶点 */</span></span>
<span class="line"><span style="color:#E06C75;">    Visited</span><span style="color:#ABB2BF;">[V] </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> true</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 标记V已访问 */</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    for</span><span style="color:#ABB2BF;">( W</span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[V].</span><span style="color:#E06C75;">FirstEdge</span><span style="color:#ABB2BF;">; W; W</span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;">W</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Next</span><span style="color:#ABB2BF;"> )</span><span style="color:#7F848E;font-style:italic;"> /* 对V的每个邻接点W-&gt;AdjV */</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#56B6C2;">!</span><span style="color:#E06C75;">Visited</span><span style="color:#ABB2BF;">[</span><span style="color:#E5C07B;">W</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">AdjV</span><span style="color:#ABB2BF;">] )</span><span style="color:#7F848E;font-style:italic;">    /* 若W-&gt;AdjV未被访问 */</span></span>
<span class="line"><span style="color:#61AFEF;">            DFS</span><span style="color:#ABB2BF;">( Graph, </span><span style="color:#E5C07B;">W</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">AdjV</span><span style="color:#ABB2BF;">, Visit );</span><span style="color:#7F848E;font-style:italic;">    /* 则递归访问之 */</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="邻接矩阵-bfs" tabindex="-1">邻接矩阵 - BFS <a class="header-anchor" href="#邻接矩阵-bfs" aria-label="Permalink to &quot;邻接矩阵 - BFS&quot;">​</a></h4><p>广度优先搜索（Breadth First Search)：从根节点开始，沿着树的宽度遍历树的节点</p><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;">/* IsEdge(Graph, V, W)检查&lt;V, W&gt;是否图Graph中的一条边，即W是否V的邻接点。  */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/* 此函数根据图的不同类型要做不同的实现，关键取决于对不存在的边的表示方法。*/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/* 例如对有权图, 如果不存在的边被初始化为INFINITY, 则函数实现如下:         */</span></span>
<span class="line"><span style="color:#C678DD;">bool</span><span style="color:#61AFEF;"> IsEdge</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> MGraph </span><span style="color:#E06C75;font-style:italic;">Graph</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> Vertex </span><span style="color:#E06C75;font-style:italic;">V</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> Vertex </span><span style="color:#E06C75;font-style:italic;">W</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[V][W]</span><span style="color:#C678DD;">&lt;</span><span style="color:#ABB2BF;">INFINITY </span><span style="color:#C678DD;">?</span><span style="color:#D19A66;"> true</span><span style="color:#C678DD;"> :</span><span style="color:#D19A66;"> false</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/* Visited[]为全局变量，已经初始化为false */</span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> BFS</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;"> MGraph </span><span style="color:#E06C75;font-style:italic;">Graph</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> Vertex </span><span style="color:#E06C75;font-style:italic;">S</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;"> void</span><span style="color:#ABB2BF;"> (</span><span style="color:#C678DD;">*</span><span style="color:#E06C75;">Visit</span><span style="color:#ABB2BF;">)(</span><span style="color:#E06C75;">Vertex</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;">   /* 以S为出发点对邻接矩阵存储的图Graph进行BFS搜索 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    Queue Q;     </span></span>
<span class="line"><span style="color:#ABB2BF;">    Vertex V, W;</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">    Q </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> CreateQueue</span><span style="color:#ABB2BF;">( MaxSize );</span><span style="color:#7F848E;font-style:italic;"> /* 创建空队列, MaxSize为外部定义的常数 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 访问顶点S：此处可根据具体访问需要改写 */</span></span>
<span class="line"><span style="color:#61AFEF;">    Visit</span><span style="color:#ABB2BF;">( S );</span></span>
<span class="line"><span style="color:#E06C75;">    Visited</span><span style="color:#ABB2BF;">[S] </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> true</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 标记S已访问 */</span></span>
<span class="line"><span style="color:#61AFEF;">    AddQ</span><span style="color:#ABB2BF;">(Q, S);</span><span style="color:#7F848E;font-style:italic;"> /* S入队列 */</span></span>
<span class="line"><span style="color:#ABB2BF;">     </span></span>
<span class="line"><span style="color:#C678DD;">    while</span><span style="color:#ABB2BF;"> ( </span><span style="color:#56B6C2;">!</span><span style="color:#61AFEF;">IsEmpty</span><span style="color:#ABB2BF;">(Q) ) {</span></span>
<span class="line"><span style="color:#ABB2BF;">        V </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> DeleteQ</span><span style="color:#ABB2BF;">(Q);</span><span style="color:#7F848E;font-style:italic;">  /* 弹出V */</span></span>
<span class="line"><span style="color:#C678DD;">        for</span><span style="color:#ABB2BF;">( W</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; W</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; W</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;"> )</span><span style="color:#7F848E;font-style:italic;"> /* 对图中的每个顶点W */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            /* 若W是V的邻接点并且未访问过 */</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#56B6C2;">!</span><span style="color:#E06C75;">Visited</span><span style="color:#ABB2BF;">[W] </span><span style="color:#56B6C2;">&amp;&amp;</span><span style="color:#61AFEF;"> IsEdge</span><span style="color:#ABB2BF;">(Graph, V, W) ) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">                /* 访问顶点W */</span></span>
<span class="line"><span style="color:#61AFEF;">                Visit</span><span style="color:#ABB2BF;">( W );</span></span>
<span class="line"><span style="color:#E06C75;">                Visited</span><span style="color:#ABB2BF;">[W] </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> true</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 标记W已访问 */</span></span>
<span class="line"><span style="color:#61AFEF;">                AddQ</span><span style="color:#ABB2BF;">(Q, W);</span><span style="color:#7F848E;font-style:italic;"> /* W入队列 */</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span><span style="color:#7F848E;font-style:italic;"> /* while结束*/</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h3 id="最短路径" tabindex="-1">最短路径 <a class="header-anchor" href="#最短路径" aria-label="Permalink to &quot;最短路径&quot;">​</a></h3><ul><li><strong>确定起点的最短路径问题</strong> - 单源最短路问题，已知起始结点。在边权非负时适合使用<a href="https://wiwiki.kfd.me/wiki/Dijkstra%E7%AE%97%E6%B3%95" target="_blank" rel="noreferrer">Dijkstra算法</a>，若边权为负时则适合使用<a href="https://wiwiki.kfd.me/wiki/Bellman-ford" target="_blank" rel="noreferrer">Bellman-ford算法</a>或者<a href="https://wiwiki.kfd.me/wiki/SPFA%E7%AE%97%E6%B3%95" target="_blank" rel="noreferrer">SPFA算法</a>。</li><li><strong>确定终点的最短路径问题</strong> - 与确定起点的问题相反，该问题是已知终结结点，求最短路径的问题。在<a href="https://wiwiki.kfd.me/wiki/%E7%84%A1%E5%90%91%E5%9C%96" target="_blank" rel="noreferrer">无向图</a>中该问题与确定起点的问题完全等同，在<a href="https://wiwiki.kfd.me/wiki/%E6%9C%89%E5%90%91%E5%9B%BE" target="_blank" rel="noreferrer">有向图</a>中该问题等同于把所有路径方向反转的确定起点的问题。</li><li><strong>确定起点终点的最短路径问题</strong> - 即已知起点和终点，求两结点之间的最短路径。</li><li><strong>全局最短路径问题</strong> - 也叫多源最短路问题，求图中所有的最短路径。适合使用<a href="https://wiwiki.kfd.me/wiki/Floyd-Warshall%E7%AE%97%E6%B3%95" target="_blank" rel="noreferrer">Floyd-Warshall算法</a>。</li></ul><h4 id="邻接表-无权图的单源-算法" tabindex="-1">邻接表 - 无权图的单源 算法 <a class="header-anchor" href="#邻接表-无权图的单源-算法" aria-label="Permalink to &quot;邻接表 - 无权图的单源 算法&quot;">​</a></h4><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;">/* dist[]和path[]全部初始化为-1 */</span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> Unweighted</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;"> LGraph </span><span style="color:#E06C75;font-style:italic;">Graph</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;font-style:italic;"> dist</span><span style="color:#C678DD;">[]</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;font-style:italic;"> path</span><span style="color:#C678DD;">[]</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> Vertex </span><span style="color:#E06C75;font-style:italic;">S</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">    Queue Q;</span></span>
<span class="line"><span style="color:#ABB2BF;">    Vertex V;</span></span>
<span class="line"><span style="color:#ABB2BF;">    PtrToAdjVNode W;</span></span>
<span class="line"><span style="color:#ABB2BF;">     </span></span>
<span class="line"><span style="color:#ABB2BF;">    Q </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> CreateQueue</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;"> );</span><span style="color:#7F848E;font-style:italic;"> /* 创建空队列, MaxSize为外部定义的常数 */</span></span>
<span class="line"><span style="color:#E06C75;">    dist</span><span style="color:#ABB2BF;">[S] </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 初始化源点 */</span></span>
<span class="line"><span style="color:#61AFEF;">    AddQ</span><span style="color:#ABB2BF;"> (Q, S);</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    while</span><span style="color:#ABB2BF;">( </span><span style="color:#56B6C2;">!</span><span style="color:#61AFEF;">IsEmpty</span><span style="color:#ABB2BF;">(Q) ){</span></span>
<span class="line"><span style="color:#ABB2BF;">        V </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> DeleteQ</span><span style="color:#ABB2BF;">(Q);</span></span>
<span class="line"><span style="color:#C678DD;">        for</span><span style="color:#ABB2BF;"> ( W</span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[V].</span><span style="color:#E06C75;">FirstEdge</span><span style="color:#ABB2BF;">; W; W</span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;">W</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Next</span><span style="color:#ABB2BF;"> )</span><span style="color:#7F848E;font-style:italic;"> /* 对V的每个邻接点W-&gt;AdjV */</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#E06C75;">dist</span><span style="color:#ABB2BF;">[</span><span style="color:#E5C07B;">W</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">AdjV</span><span style="color:#ABB2BF;">]</span><span style="color:#C678DD;">==-</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;"> ) {</span><span style="color:#7F848E;font-style:italic;"> /* 若W-&gt;AdjV未被访问过 */</span></span>
<span class="line"><span style="color:#E06C75;">                dist</span><span style="color:#ABB2BF;">[</span><span style="color:#E5C07B;">W</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">AdjV</span><span style="color:#ABB2BF;">] </span><span style="color:#C678DD;">=</span><span style="color:#E06C75;"> dist</span><span style="color:#ABB2BF;">[V]</span><span style="color:#C678DD;">+</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* W-&gt;AdjV到S的距离更新 */</span></span>
<span class="line"><span style="color:#E06C75;">                path</span><span style="color:#ABB2BF;">[</span><span style="color:#E5C07B;">W</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">AdjV</span><span style="color:#ABB2BF;">] </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> V;</span><span style="color:#7F848E;font-style:italic;"> /* 将V记录在S到W-&gt;AdjV的路径上 */</span></span>
<span class="line"><span style="color:#61AFEF;">                AddQ</span><span style="color:#ABB2BF;">(Q, </span><span style="color:#E5C07B;">W</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">AdjV</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span><span style="color:#7F848E;font-style:italic;"> /* while结束*/</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="邻接矩阵-有权图的单源-dijkstra算法" tabindex="-1">邻接矩阵 - 有权图的单源 Dijkstra算法 <a class="header-anchor" href="#邻接矩阵-有权图的单源-dijkstra算法" aria-label="Permalink to &quot;邻接矩阵 - 有权图的单源 Dijkstra算法&quot;">​</a></h4><p><strong>流程</strong></p><ol><li>将结点分成两个集合：已确定最短路长度的点集（记为S集合）的和未确定最短路长度的点集（记为T集合）。初始所有的点都属于T集合。</li><li>初始化dis(s)=0 ，其他点的dis均为∞。</li><li>然后重复这些操作： <ol><li>从T集合中，选取一个最短路长度最小的结点，移到S集合中。</li><li>对那些刚刚被加入S集合的结点的所有出边执行松弛操作。</li></ol></li><li>直到T集合为空，算法结束。</li></ol><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#ABB2BF;">Vertex </span><span style="color:#61AFEF;">FindMinDist</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> MGraph </span><span style="color:#E06C75;font-style:italic;">Graph</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;font-style:italic;"> dist</span><span style="color:#C678DD;">[]</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;font-style:italic;"> collected</span><span style="color:#C678DD;">[]</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 返回未被收录顶点中dist最小者 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    Vertex MinV, V;</span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#ABB2BF;"> MinDist </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> INFINITY;</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    for</span><span style="color:#ABB2BF;"> (V</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#E06C75;">collected</span><span style="color:#ABB2BF;">[V]</span><span style="color:#C678DD;">==</span><span style="color:#D19A66;">false</span><span style="color:#56B6C2;"> &amp;&amp;</span><span style="color:#E06C75;"> dist</span><span style="color:#ABB2BF;">[V]</span><span style="color:#C678DD;">&lt;</span><span style="color:#ABB2BF;">MinDist) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            /* 若V未被收录，且dist[V]更小 */</span></span>
<span class="line"><span style="color:#ABB2BF;">            MinDist </span><span style="color:#C678DD;">=</span><span style="color:#E06C75;"> dist</span><span style="color:#ABB2BF;">[V];</span><span style="color:#7F848E;font-style:italic;"> /* 更新最小距离 */</span></span>
<span class="line"><span style="color:#ABB2BF;">            MinV </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> V;</span><span style="color:#7F848E;font-style:italic;"> /* 更新对应顶点 */</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;"> (MinDist </span><span style="color:#C678DD;">&lt;</span><span style="color:#ABB2BF;"> INFINITY)</span><span style="color:#7F848E;font-style:italic;"> /* 若找到最小dist */</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#ABB2BF;"> MinV;</span><span style="color:#7F848E;font-style:italic;"> /* 返回对应的顶点下标 */</span></span>
<span class="line"><span style="color:#C678DD;">    else</span><span style="color:#C678DD;"> return</span><span style="color:#ABB2BF;"> ERROR;</span><span style="color:#7F848E;font-style:italic;">  /* 若这样的顶点不存在，返回错误标记 */</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">bool</span><span style="color:#61AFEF;"> Dijkstra</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> MGraph </span><span style="color:#E06C75;font-style:italic;">Graph</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;font-style:italic;"> dist</span><span style="color:#C678DD;">[]</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;font-style:italic;"> path</span><span style="color:#C678DD;">[]</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> Vertex </span><span style="color:#E06C75;font-style:italic;">S</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#E06C75;"> collected</span><span style="color:#ABB2BF;">[MaxVertexNum];</span></span>
<span class="line"><span style="color:#ABB2BF;">    Vertex V, W;</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 初始化：此处默认邻接矩阵中不存在的边用INFINITY表示 */</span></span>
<span class="line"><span style="color:#C678DD;">    for</span><span style="color:#ABB2BF;"> ( V</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;"> ) {</span></span>
<span class="line"><span style="color:#E06C75;">        dist</span><span style="color:#ABB2BF;">[V] </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[S][V];</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#E06C75;">dist</span><span style="color:#ABB2BF;">[V]</span><span style="color:#C678DD;">&lt;</span><span style="color:#ABB2BF;">INFINITY )</span></span>
<span class="line"><span style="color:#E06C75;">            path</span><span style="color:#ABB2BF;">[V] </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> S;</span></span>
<span class="line"><span style="color:#C678DD;">        else</span></span>
<span class="line"><span style="color:#E06C75;">            path</span><span style="color:#ABB2BF;">[V] </span><span style="color:#C678DD;">=</span><span style="color:#C678DD;"> -</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E06C75;">        collected</span><span style="color:#ABB2BF;">[V] </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> false</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 先将起点收入集合 */</span></span>
<span class="line"><span style="color:#E06C75;">    dist</span><span style="color:#ABB2BF;">[S] </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E06C75;">    collected</span><span style="color:#ABB2BF;">[S] </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> true</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    while</span><span style="color:#ABB2BF;"> (</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        /* V = 未被收录顶点中dist最小者 */</span></span>
<span class="line"><span style="color:#ABB2BF;">        V </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> FindMinDist</span><span style="color:#ABB2BF;">( Graph, dist, collected );</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> ( V</span><span style="color:#C678DD;">==</span><span style="color:#ABB2BF;">ERROR )</span><span style="color:#7F848E;font-style:italic;"> /* 若这样的V不存在 */</span></span>
<span class="line"><span style="color:#C678DD;">            break</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;">      /* 算法结束 */</span></span>
<span class="line"><span style="color:#E06C75;">        collected</span><span style="color:#ABB2BF;">[V] </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> true</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;">  /* 收录V */</span></span>
<span class="line"><span style="color:#C678DD;">        for</span><span style="color:#ABB2BF;">( W</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; W</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; W</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;"> )</span><span style="color:#7F848E;font-style:italic;"> /* 对图中的每个顶点W */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            /* 若W是V的邻接点并且未被收录 */</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#E06C75;">collected</span><span style="color:#ABB2BF;">[W]</span><span style="color:#C678DD;">==</span><span style="color:#D19A66;">false</span><span style="color:#56B6C2;"> &amp;&amp;</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[V][W]</span><span style="color:#C678DD;">&lt;</span><span style="color:#ABB2BF;">INFINITY ) {</span></span>
<span class="line"><span style="color:#C678DD;">                if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[V][W]</span><span style="color:#C678DD;">&lt;</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> )</span><span style="color:#7F848E;font-style:italic;"> /* 若有负边 */</span></span>
<span class="line"><span style="color:#C678DD;">                    return</span><span style="color:#D19A66;"> false</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 不能正确解决，返回错误标记 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">                /* 若收录V使得dist[W]变小 */</span></span>
<span class="line"><span style="color:#C678DD;">                if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#E06C75;">dist</span><span style="color:#ABB2BF;">[V]</span><span style="color:#C678DD;">+</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[V][W] </span><span style="color:#C678DD;">&lt;</span><span style="color:#E06C75;"> dist</span><span style="color:#ABB2BF;">[W] ) {</span></span>
<span class="line"><span style="color:#E06C75;">                    dist</span><span style="color:#ABB2BF;">[W] </span><span style="color:#C678DD;">=</span><span style="color:#E06C75;"> dist</span><span style="color:#ABB2BF;">[V]</span><span style="color:#C678DD;">+</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[V][W];</span><span style="color:#7F848E;font-style:italic;"> /* 更新dist[W] */</span></span>
<span class="line"><span style="color:#E06C75;">                    path</span><span style="color:#ABB2BF;">[W] </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> V;</span><span style="color:#7F848E;font-style:italic;"> /* 更新S到W的路径 */</span></span>
<span class="line"><span style="color:#ABB2BF;">                }</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span><span style="color:#7F848E;font-style:italic;"> /* while结束*/</span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#D19A66;"> true</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 算法执行完毕，返回正确标记 */</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><p>使用堆优化</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">class</span><span style="color:#E5C07B;"> State</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 图节点的 id</span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#E06C75;"> id</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 从 start 节点到当前节点的距离</span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#E06C75;"> distFromStart</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">    State</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">int</span><span style="color:#E06C75;font-style:italic;"> id</span><span style="color:#ABB2BF;">, </span><span style="color:#C678DD;">int</span><span style="color:#E06C75;font-style:italic;"> distFromStart</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#E5C07B;">        this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">id</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> id;</span></span>
<span class="line"><span style="color:#E5C07B;">        this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">distFromStart</span><span style="color:#56B6C2;"> =</span><span style="color:#ABB2BF;"> distFromStart;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 返回节点 from 到节点 to 之间的边的权重</span></span>
<span class="line"><span style="color:#C678DD;">int</span><span style="color:#61AFEF;"> weight</span><span style="color:#E06C75;">(</span><span style="color:#C678DD;">int</span><span style="color:#E06C75;"> from</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;"> to)</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 输入节点 s 返回 s 的相邻节点</span></span>
<span class="line"><span style="color:#E5C07B;">List</span><span style="color:#56B6C2;">&lt;</span><span style="color:#E06C75;">Integer</span><span style="color:#56B6C2;">&gt;</span><span style="color:#61AFEF;"> adj</span><span style="color:#E06C75;">(</span><span style="color:#C678DD;">int</span><span style="color:#E06C75;"> s)</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 输入一幅图和一个起点 start，计算 start 到其他节点的最短距离</span></span>
<span class="line"><span style="color:#C678DD;">int</span><span style="color:#E06C75;">[] </span><span style="color:#61AFEF;">dijkstra</span><span style="color:#E06C75;">(</span><span style="color:#C678DD;">int</span><span style="color:#E06C75;"> start</span><span style="color:#ABB2BF;">,</span><span style="color:#E5C07B;"> List</span><span style="color:#56B6C2;">&lt;</span><span style="color:#E06C75;">Integer</span><span style="color:#56B6C2;">&gt;</span><span style="color:#E06C75;">[] graph) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 图中节点的个数</span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#E06C75;"> V </span><span style="color:#56B6C2;">=</span><span style="color:#E5C07B;"> graph</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">length</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 记录最短路径的权重，可以理解为 dp table</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 定义：distTo[i] 的值就是节点 start 到达节点 i 的最短路径权重</span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#E06C75;">[] distTo </span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;"> new</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;">[V]</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 求最小值，所以 dp table 初始化为正无穷</span></span>
<span class="line"><span style="color:#E5C07B;">    Arrays</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">fill</span><span style="color:#ABB2BF;">(distTo, </span><span style="color:#E5C07B;">Integer</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">MAX_VALUE</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // base case，start 到 start 的最短距离就是 0</span></span>
<span class="line"><span style="color:#E06C75;">    distTo[start] </span><span style="color:#56B6C2;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 优先级队列，distFromStart 较小的排在前面</span></span>
<span class="line"><span style="color:#E5C07B;">    Queue</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">State</span><span style="color:#ABB2BF;">&gt;</span><span style="color:#E06C75;"> pq </span><span style="color:#56B6C2;">=</span><span style="color:#C678DD;"> new</span><span style="color:#E5C07B;"> PriorityQueue</span><span style="color:#ABB2BF;">&lt;&gt;</span><span style="color:#E06C75;">((a</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> b) </span><span style="color:#C678DD;">-&gt;</span><span style="color:#E06C75;"> {</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#E5C07B;"> a</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">distFromStart</span><span style="color:#56B6C2;"> -</span><span style="color:#E5C07B;"> b</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">distFromStart</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E06C75;">    })</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    // 从起点 start 开始进行 BFS</span></span>
<span class="line"><span style="color:#E5C07B;">    pq</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">offer</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">new</span><span style="color:#61AFEF;"> State</span><span style="color:#ABB2BF;">(start, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">    while</span><span style="color:#E06C75;"> (</span><span style="color:#56B6C2;">!</span><span style="color:#E5C07B;">pq</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">isEmpty</span><span style="color:#ABB2BF;">()</span><span style="color:#E06C75;">) {</span></span>
<span class="line"><span style="color:#E5C07B;">        State</span><span style="color:#E06C75;"> curState </span><span style="color:#56B6C2;">=</span><span style="color:#E5C07B;"> pq</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">poll</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#C678DD;">        int</span><span style="color:#E06C75;"> curNodeID </span><span style="color:#56B6C2;">=</span><span style="color:#E5C07B;"> curState</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">id</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">        int</span><span style="color:#E06C75;"> curDistFromStart </span><span style="color:#56B6C2;">=</span><span style="color:#E5C07B;"> curState</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">distFromStart</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#E06C75;"> (curDistFromStart </span><span style="color:#56B6C2;">&gt;</span><span style="color:#E06C75;"> distTo[curNodeID]) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 已经有一条更短的路径到达 curNode 节点了</span></span>
<span class="line"><span style="color:#C678DD;">            continue</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E06C75;">        }</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        // 将 curNode 的相邻节点装入队列</span></span>
<span class="line"><span style="color:#C678DD;">        for</span><span style="color:#E06C75;"> (</span><span style="color:#C678DD;">int</span><span style="color:#E06C75;"> nextNodeID </span><span style="color:#C678DD;">:</span><span style="color:#61AFEF;"> adj</span><span style="color:#E06C75;">(curNodeID)) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            // 看看从 curNode 达到 nextNode 的距离是否会更短</span></span>
<span class="line"><span style="color:#C678DD;">            int</span><span style="color:#E06C75;"> distToNextNode </span><span style="color:#56B6C2;">=</span><span style="color:#E06C75;"> distTo[curNodeID] </span><span style="color:#56B6C2;">+</span><span style="color:#61AFEF;"> weight</span><span style="color:#E06C75;">(curNodeID</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> nextNodeID)</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#E06C75;"> (distTo[nextNodeID] </span><span style="color:#56B6C2;">&gt;</span><span style="color:#E06C75;"> distToNextNode) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">                // 更新 dp table</span></span>
<span class="line"><span style="color:#E06C75;">                distTo[nextNodeID] </span><span style="color:#56B6C2;">=</span><span style="color:#E06C75;"> distToNextNode</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">                // 将这个节点以及距离放入队列</span></span>
<span class="line"><span style="color:#E5C07B;">                pq</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">offer</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">new</span><span style="color:#61AFEF;"> State</span><span style="color:#ABB2BF;">(nextNodeID, distToNextNode));</span></span>
<span class="line"><span style="color:#E06C75;">            }</span></span>
<span class="line"><span style="color:#E06C75;">        }</span></span>
<span class="line"><span style="color:#E06C75;">    }</span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#E06C75;"> distTo</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E06C75;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><h4 id="邻接矩阵-多源-floyd算法" tabindex="-1">邻接矩阵 - 多源 Floyd算法 <a class="header-anchor" href="#邻接矩阵-多源-floyd算法" aria-label="Permalink to &quot;邻接矩阵 - 多源  Floyd算法&quot;">​</a></h4><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">bool</span><span style="color:#61AFEF;"> Floyd</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> MGraph </span><span style="color:#E06C75;font-style:italic;">Graph</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> WeightType D</span><span style="color:#C678DD;">[]</span><span style="color:#E06C75;">[MaxVertexNum]</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> Vertex path</span><span style="color:#C678DD;">[]</span><span style="color:#E06C75;">[MaxVertexNum] </span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#ABB2BF;">    Vertex i, j, k;</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 初始化 */</span></span>
<span class="line"><span style="color:#C678DD;">    for</span><span style="color:#ABB2BF;"> ( i</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; i</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; i</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#C678DD;">        for</span><span style="color:#ABB2BF;">( j</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; j</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; j</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;"> ) {</span></span>
<span class="line"><span style="color:#E06C75;">            D</span><span style="color:#ABB2BF;">[i][j] </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[i][j];</span></span>
<span class="line"><span style="color:#E06C75;">            path</span><span style="color:#ABB2BF;">[i][j] </span><span style="color:#C678DD;">=</span><span style="color:#C678DD;"> -</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    for</span><span style="color:#ABB2BF;">( k</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; k</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; k</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#C678DD;">        for</span><span style="color:#ABB2BF;">( i</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; i</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; i</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#C678DD;">            for</span><span style="color:#ABB2BF;">( j</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; j</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; j</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#C678DD;">                if</span><span style="color:#ABB2BF;">( </span><span style="color:#E06C75;">D</span><span style="color:#ABB2BF;">[i][k] </span><span style="color:#C678DD;">+</span><span style="color:#E06C75;"> D</span><span style="color:#ABB2BF;">[k][j] </span><span style="color:#C678DD;">&lt;</span><span style="color:#E06C75;"> D</span><span style="color:#ABB2BF;">[i][j] ) {</span></span>
<span class="line"><span style="color:#E06C75;">                    D</span><span style="color:#ABB2BF;">[i][j] </span><span style="color:#C678DD;">=</span><span style="color:#E06C75;"> D</span><span style="color:#ABB2BF;">[i][k] </span><span style="color:#C678DD;">+</span><span style="color:#E06C75;"> D</span><span style="color:#ABB2BF;">[k][j];</span></span>
<span class="line"><span style="color:#C678DD;">                    if</span><span style="color:#ABB2BF;"> ( i</span><span style="color:#C678DD;">==</span><span style="color:#ABB2BF;">j </span><span style="color:#56B6C2;">&amp;&amp;</span><span style="color:#E06C75;"> D</span><span style="color:#ABB2BF;">[i][j]</span><span style="color:#C678DD;">&lt;</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> )</span><span style="color:#7F848E;font-style:italic;"> /* 若发现负值圈 */</span></span>
<span class="line"><span style="color:#C678DD;">                        return</span><span style="color:#D19A66;"> false</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 不能正确解决，返回错误标记 */</span></span>
<span class="line"><span style="color:#E06C75;">                    path</span><span style="color:#ABB2BF;">[i][j] </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> k;</span></span>
<span class="line"><span style="color:#ABB2BF;">                }</span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#D19A66;"> true</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 算法执行完毕，返回正确标记 */</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="最小生成树" tabindex="-1">最小生成树 <a class="header-anchor" href="#最小生成树" aria-label="Permalink to &quot;最小生成树&quot;">​</a></h3><p>最小生成树（Minimum Spanning Tree，MST）：一副<strong>连通加权无向图</strong>中一棵权值最小的生成树。</p><h4 id="邻接矩阵-prim算法" tabindex="-1">邻接矩阵 - Prim算法 <a class="header-anchor" href="#邻接矩阵-prim算法" aria-label="Permalink to &quot;邻接矩阵 - Prim算法&quot;">​</a></h4><p>基本思想：从一个结点开始，每次选择距离最小的一个结点，以及用新的边更新其他结点的距离</p><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#ABB2BF;">Vertex </span><span style="color:#61AFEF;">FindMinDist</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> MGraph </span><span style="color:#E06C75;font-style:italic;">Graph</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> WeightType </span><span style="color:#E06C75;font-style:italic;">dist</span><span style="color:#C678DD;">[]</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 返回未被收录顶点中dist最小者 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    Vertex MinV, V;</span></span>
<span class="line"><span style="color:#ABB2BF;">    WeightType MinDist </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> INFINITY;</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    for</span><span style="color:#ABB2BF;"> (V</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#E06C75;">dist</span><span style="color:#ABB2BF;">[V]</span><span style="color:#C678DD;">!=</span><span style="color:#D19A66;">0</span><span style="color:#56B6C2;"> &amp;&amp;</span><span style="color:#E06C75;"> dist</span><span style="color:#ABB2BF;">[V]</span><span style="color:#C678DD;">&lt;</span><span style="color:#ABB2BF;">MinDist) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            /* 若V未被收录，且dist[V]更小 */</span></span>
<span class="line"><span style="color:#ABB2BF;">            MinDist </span><span style="color:#C678DD;">=</span><span style="color:#E06C75;"> dist</span><span style="color:#ABB2BF;">[V];</span><span style="color:#7F848E;font-style:italic;"> /* 更新最小距离 */</span></span>
<span class="line"><span style="color:#ABB2BF;">            MinV </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> V;</span><span style="color:#7F848E;font-style:italic;"> /* 更新对应顶点 */</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;"> (MinDist </span><span style="color:#C678DD;">&lt;</span><span style="color:#ABB2BF;"> INFINITY)</span><span style="color:#7F848E;font-style:italic;"> /* 若找到最小dist */</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#ABB2BF;"> MinV;</span><span style="color:#7F848E;font-style:italic;"> /* 返回对应的顶点下标 */</span></span>
<span class="line"><span style="color:#C678DD;">    else</span><span style="color:#C678DD;"> return</span><span style="color:#ABB2BF;"> ERROR;</span><span style="color:#7F848E;font-style:italic;">  /* 若这样的顶点不存在，返回-1作为标记 */</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">int</span><span style="color:#61AFEF;"> Prim</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> MGraph </span><span style="color:#E06C75;font-style:italic;">Graph</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> LGraph </span><span style="color:#E06C75;font-style:italic;">MST</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 将最小生成树保存为邻接表存储的图MST，返回最小权重和 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    WeightType </span><span style="color:#E06C75;">dist</span><span style="color:#ABB2BF;">[MaxVertexNum], TotalWeight;</span></span>
<span class="line"><span style="color:#ABB2BF;">    Vertex </span><span style="color:#E06C75;">parent</span><span style="color:#ABB2BF;">[MaxVertexNum], V, W;</span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#ABB2BF;"> VCount;</span></span>
<span class="line"><span style="color:#ABB2BF;">    Edge E;</span></span>
<span class="line"><span style="color:#ABB2BF;">     </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 初始化。默认初始点下标是0 */</span></span>
<span class="line"><span style="color:#C678DD;">       for</span><span style="color:#ABB2BF;"> (V</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        /* 这里假设若V到W没有直接的边，则Graph-&gt;G[V][W]定义为INFINITY */</span></span>
<span class="line"><span style="color:#E06C75;">           dist</span><span style="color:#ABB2BF;">[V] </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">][V];</span></span>
<span class="line"><span style="color:#E06C75;">           parent</span><span style="color:#ABB2BF;">[V] </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 暂且定义所有顶点的父结点都是初始点0 */</span><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">    TotalWeight </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 初始化权重和     */</span></span>
<span class="line"><span style="color:#ABB2BF;">    VCount </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;">      /* 初始化收录的顶点数 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 创建包含所有顶点但没有边的图。注意用邻接表版本 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    MST </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> CreateGraph</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">    E </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> (Edge)</span><span style="color:#61AFEF;">malloc</span><span style="color:#ABB2BF;">( </span><span style="color:#C678DD;">sizeof</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> ENode) );</span><span style="color:#7F848E;font-style:italic;"> /* 建立空的边结点 */</span></span>
<span class="line"><span style="color:#ABB2BF;">            </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 将初始点0收录进MST */</span></span>
<span class="line"><span style="color:#E06C75;">    dist</span><span style="color:#ABB2BF;">[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">] </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    VCount </span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E06C75;">    parent</span><span style="color:#ABB2BF;">[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">] </span><span style="color:#C678DD;">=</span><span style="color:#C678DD;"> -</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 当前树根是0 */</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    while</span><span style="color:#ABB2BF;"> (</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">        V </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> FindMinDist</span><span style="color:#ABB2BF;">( Graph, dist );</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        /* V = 未被收录顶点中dist最小者 */</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> ( V</span><span style="color:#C678DD;">==</span><span style="color:#ABB2BF;">ERROR )</span><span style="color:#7F848E;font-style:italic;"> /* 若这样的V不存在 */</span></span>
<span class="line"><span style="color:#C678DD;">            break</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;">   /* 算法结束 */</span></span>
<span class="line"><span style="color:#ABB2BF;">             </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        /* 将V及相应的边&lt;parent[V], V&gt;收录进MST */</span></span>
<span class="line"><span style="color:#E5C07B;">        E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">V1</span><span style="color:#C678DD;"> =</span><span style="color:#E06C75;"> parent</span><span style="color:#ABB2BF;">[V];</span></span>
<span class="line"><span style="color:#E5C07B;">        E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">V2</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> V;</span></span>
<span class="line"><span style="color:#E5C07B;">        E</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Weight</span><span style="color:#C678DD;"> =</span><span style="color:#E06C75;"> dist</span><span style="color:#ABB2BF;">[V];</span></span>
<span class="line"><span style="color:#61AFEF;">        InsertEdge</span><span style="color:#ABB2BF;">( MST, E );</span></span>
<span class="line"><span style="color:#ABB2BF;">        TotalWeight </span><span style="color:#C678DD;">+=</span><span style="color:#E06C75;"> dist</span><span style="color:#ABB2BF;">[V];</span></span>
<span class="line"><span style="color:#E06C75;">        dist</span><span style="color:#ABB2BF;">[V] </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">        VCount</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">         </span></span>
<span class="line"><span style="color:#C678DD;">        for</span><span style="color:#ABB2BF;">( W</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; W</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; W</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;"> )</span><span style="color:#7F848E;font-style:italic;"> /* 对图中的每个顶点W */</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#E06C75;">dist</span><span style="color:#ABB2BF;">[W]</span><span style="color:#C678DD;">!=</span><span style="color:#D19A66;">0</span><span style="color:#56B6C2;"> &amp;&amp;</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[V][W]</span><span style="color:#C678DD;">&lt;</span><span style="color:#ABB2BF;">INFINITY ) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            /* 若W是V的邻接点并且未被收录 */</span></span>
<span class="line"><span style="color:#C678DD;">                if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[V][W] </span><span style="color:#C678DD;">&lt;</span><span style="color:#E06C75;"> dist</span><span style="color:#ABB2BF;">[W] ) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">                /* 若收录V使得dist[W]变小 */</span></span>
<span class="line"><span style="color:#E06C75;">                    dist</span><span style="color:#ABB2BF;">[W] </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[V][W];</span><span style="color:#7F848E;font-style:italic;"> /* 更新dist[W] */</span></span>
<span class="line"><span style="color:#E06C75;">                    parent</span><span style="color:#ABB2BF;">[W] </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> V;</span><span style="color:#7F848E;font-style:italic;"> /* 更新树 */</span></span>
<span class="line"><span style="color:#ABB2BF;">                }</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span><span style="color:#7F848E;font-style:italic;"> /* while结束*/</span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;"> ( VCount </span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;"> )</span><span style="color:#7F848E;font-style:italic;"> /* MST中收的顶点不到|V|个 */</span></span>
<span class="line"><span style="color:#ABB2BF;">       TotalWeight </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> ERROR;</span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#ABB2BF;"> TotalWeight;</span><span style="color:#7F848E;font-style:italic;">   /* 算法执行完毕，返回最小权重和或错误标记 */</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br></div></div><h4 id="邻接表-kruskal算法" tabindex="-1">邻接表 - Kruskal算法 <a class="header-anchor" href="#邻接表-kruskal算法" aria-label="Permalink to &quot;邻接表 - Kruskal算法&quot;">​</a></h4><p>基本思想：每次选取未联通且权值最小的边 <br> 步骤</p><ol><li>新建图，拥有原图中相同的节点，但没有边</li><li>将原图中所有的边按权值从小到大排序</li><li>从权值最小的边开始，如果这条边连接的两个节点于图中不在同一个连通分量中，则添加这条边到图中</li><li>重复3，直至图中所有的节点都在同一个连通分量中</li></ol><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;">/*-------------------- 顶点并查集定义 --------------------*/</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#ABB2BF;"> Vertex ElementType;</span><span style="color:#7F848E;font-style:italic;"> /* 默认元素可以用非负整数表示 */</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#ABB2BF;"> Vertex SetName;</span><span style="color:#7F848E;font-style:italic;">     /* 默认用根结点的下标作为集合名称 */</span></span>
<span class="line"><span style="color:#C678DD;">typedef</span><span style="color:#ABB2BF;"> ElementType </span><span style="color:#E06C75;">SetType</span><span style="color:#ABB2BF;">[MaxVertexNum];</span><span style="color:#7F848E;font-style:italic;"> /* 假设集合元素下标从0开始 */</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> InitializeVSet</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> SetType </span><span style="color:#E06C75;font-style:italic;">S</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;font-style:italic;"> N</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 初始化并查集 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    ElementType X;</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    for</span><span style="color:#ABB2BF;"> ( X</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; X</span><span style="color:#C678DD;">&lt;</span><span style="color:#ABB2BF;">N; X</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;"> ) </span><span style="color:#E06C75;">S</span><span style="color:#ABB2BF;">[X] </span><span style="color:#C678DD;">=</span><span style="color:#C678DD;"> -</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> Union</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> SetType </span><span style="color:#E06C75;font-style:italic;">S</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> SetName </span><span style="color:#E06C75;font-style:italic;">Root1</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> SetName </span><span style="color:#E06C75;font-style:italic;">Root2</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 这里默认Root1和Root2是不同集合的根结点 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 保证小集合并入大集合 */</span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#E06C75;">S</span><span style="color:#ABB2BF;">[Root2] </span><span style="color:#C678DD;">&lt;</span><span style="color:#E06C75;"> S</span><span style="color:#ABB2BF;">[Root1] ) {</span><span style="color:#7F848E;font-style:italic;"> /* 如果集合2比较大 */</span></span>
<span class="line"><span style="color:#E06C75;">        S</span><span style="color:#ABB2BF;">[Root2] </span><span style="color:#C678DD;">+=</span><span style="color:#E06C75;"> S</span><span style="color:#ABB2BF;">[Root1];</span><span style="color:#7F848E;font-style:italic;">     /* 集合1并入集合2  */</span></span>
<span class="line"><span style="color:#E06C75;">        S</span><span style="color:#ABB2BF;">[Root1] </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> Root2;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#C678DD;">    else</span><span style="color:#ABB2BF;"> {</span><span style="color:#7F848E;font-style:italic;">                         /* 如果集合1比较大 */</span></span>
<span class="line"><span style="color:#E06C75;">        S</span><span style="color:#ABB2BF;">[Root1] </span><span style="color:#C678DD;">+=</span><span style="color:#E06C75;"> S</span><span style="color:#ABB2BF;">[Root2];</span><span style="color:#7F848E;font-style:italic;">     /* 集合2并入集合1  */</span></span>
<span class="line"><span style="color:#E06C75;">        S</span><span style="color:#ABB2BF;">[Root2] </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> Root1;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">SetName </span><span style="color:#61AFEF;">Find</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> SetType </span><span style="color:#E06C75;font-style:italic;">S</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> ElementType </span><span style="color:#E06C75;font-style:italic;">X</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 默认集合元素全部初始化为-1 */</span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#E06C75;">S</span><span style="color:#ABB2BF;">[X] </span><span style="color:#C678DD;">&lt;</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;"> )</span><span style="color:#7F848E;font-style:italic;"> /* 找到集合的根 */</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#ABB2BF;"> X;</span></span>
<span class="line"><span style="color:#C678DD;">    else</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#E06C75;"> S</span><span style="color:#ABB2BF;">[X] </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> Find</span><span style="color:#ABB2BF;">( S, </span><span style="color:#E06C75;">S</span><span style="color:#ABB2BF;">[X] );</span><span style="color:#7F848E;font-style:italic;"> /* 路径压缩 */</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">bool</span><span style="color:#61AFEF;"> CheckCycle</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> SetType </span><span style="color:#E06C75;font-style:italic;">VSet</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> Vertex </span><span style="color:#E06C75;font-style:italic;">V1</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> Vertex </span><span style="color:#E06C75;font-style:italic;">V2</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 检查连接V1和V2的边是否在现有的最小生成树子集中构成回路 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    Vertex Root1, Root2;</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">    Root1 </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> Find</span><span style="color:#ABB2BF;">( VSet, V1 );</span><span style="color:#7F848E;font-style:italic;"> /* 得到V1所属的连通集名称 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    Root2 </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> Find</span><span style="color:#ABB2BF;">( VSet, V2 );</span><span style="color:#7F848E;font-style:italic;"> /* 得到V2所属的连通集名称 */</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;">( Root1</span><span style="color:#C678DD;">==</span><span style="color:#ABB2BF;">Root2 )</span><span style="color:#7F848E;font-style:italic;"> /* 若V1和V2已经连通，则该边不能要 */</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#D19A66;"> false</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">    else</span><span style="color:#ABB2BF;"> {</span><span style="color:#7F848E;font-style:italic;"> /* 否则该边可以被收集，同时将V1和V2并入同一连通集 */</span></span>
<span class="line"><span style="color:#61AFEF;">        Union</span><span style="color:#ABB2BF;">( VSet, Root1, Root2 );</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#D19A66;"> true</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/*-------------------- 并查集定义结束 --------------------*/</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/*-------------------- 边的最小堆定义 --------------------*/</span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> PercDown</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> Edge </span><span style="color:#E06C75;font-style:italic;">ESet</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;font-style:italic;"> p</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;font-style:italic;"> N</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 改编代码4.24的PercDown( MaxHeap H, int p )    */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">  /* 将N个元素的边数组中以ESet[p]为根的子堆调整为关于Weight的最小堆 */</span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#ABB2BF;"> Parent, Child;</span></span>
<span class="line"><span style="color:#C678DD;">    struct</span><span style="color:#ABB2BF;"> ENode X;</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">    X </span><span style="color:#C678DD;">=</span><span style="color:#E06C75;"> ESet</span><span style="color:#ABB2BF;">[p];</span><span style="color:#7F848E;font-style:italic;"> /* 取出根结点存放的值 */</span></span>
<span class="line"><span style="color:#C678DD;">    for</span><span style="color:#ABB2BF;">( Parent</span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;">p; (Parent</span><span style="color:#C678DD;">*</span><span style="color:#D19A66;">2</span><span style="color:#C678DD;">+</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">)</span><span style="color:#C678DD;">&lt;</span><span style="color:#ABB2BF;">N; Parent</span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;">Child ) {</span></span>
<span class="line"><span style="color:#ABB2BF;">        Child </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> Parent </span><span style="color:#C678DD;">*</span><span style="color:#D19A66;"> 2</span><span style="color:#C678DD;"> +</span><span style="color:#D19A66;"> 1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;">( (Child</span><span style="color:#C678DD;">!=</span><span style="color:#ABB2BF;">N</span><span style="color:#C678DD;">-</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">&amp;&amp;</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">ESet</span><span style="color:#ABB2BF;">[Child].</span><span style="color:#E06C75;">Weight</span><span style="color:#C678DD;">&gt;</span><span style="color:#E06C75;">ESet</span><span style="color:#ABB2BF;">[Child</span><span style="color:#C678DD;">+</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">Weight</span><span style="color:#ABB2BF;">) )</span></span>
<span class="line"><span style="color:#ABB2BF;">            Child</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;">  /* Child指向左右子结点的较小者 */</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">X</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">Weight</span><span style="color:#C678DD;"> &lt;=</span><span style="color:#E06C75;"> ESet</span><span style="color:#ABB2BF;">[Child].</span><span style="color:#E06C75;">Weight</span><span style="color:#ABB2BF;"> ) </span><span style="color:#C678DD;">break</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 找到了合适位置 */</span></span>
<span class="line"><span style="color:#C678DD;">        else</span><span style="color:#7F848E;font-style:italic;">  /* 下滤X */</span></span>
<span class="line"><span style="color:#E06C75;">            ESet</span><span style="color:#ABB2BF;">[Parent] </span><span style="color:#C678DD;">=</span><span style="color:#E06C75;"> ESet</span><span style="color:#ABB2BF;">[Child];</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#E06C75;">    ESet</span><span style="color:#ABB2BF;">[Parent] </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> X;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">void</span><span style="color:#61AFEF;"> InitializeESet</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> LGraph </span><span style="color:#E06C75;font-style:italic;">Graph</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> Edge </span><span style="color:#E06C75;font-style:italic;">ESet</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 将图的边存入数组ESet，并且初始化为最小堆 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    Vertex V;</span></span>
<span class="line"><span style="color:#ABB2BF;">    PtrToAdjVNode W;</span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#ABB2BF;"> ECount;</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 将图的边存入数组ESet */</span></span>
<span class="line"><span style="color:#ABB2BF;">    ECount </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">    for</span><span style="color:#ABB2BF;"> ( V</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#C678DD;">        for</span><span style="color:#ABB2BF;"> ( W</span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[V].</span><span style="color:#E06C75;">FirstEdge</span><span style="color:#ABB2BF;">; W; W</span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;">W</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Next</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> ( V </span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;"> W</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">AdjV</span><span style="color:#ABB2BF;"> ) {</span><span style="color:#7F848E;font-style:italic;"> /* 避免重复录入无向图的边，只收V1&lt;V2的边 */</span></span>
<span class="line"><span style="color:#E06C75;">                ESet</span><span style="color:#ABB2BF;">[ECount].</span><span style="color:#E06C75;">V1</span><span style="color:#C678DD;"> =</span><span style="color:#ABB2BF;"> V;</span></span>
<span class="line"><span style="color:#E06C75;">                ESet</span><span style="color:#ABB2BF;">[ECount].</span><span style="color:#E06C75;">V2</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> W</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">AdjV</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#E06C75;">                ESet</span><span style="color:#ABB2BF;">[ECount</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">].</span><span style="color:#E06C75;">Weight</span><span style="color:#C678DD;"> =</span><span style="color:#E5C07B;"> W</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Weight</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">            }</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 初始化为最小堆 */</span></span>
<span class="line"><span style="color:#C678DD;">    for</span><span style="color:#ABB2BF;"> ( ECount</span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Ne</span><span style="color:#C678DD;">/</span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">; ECount</span><span style="color:#C678DD;">&gt;=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; ECount</span><span style="color:#C678DD;">--</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#61AFEF;">        PercDown</span><span style="color:#ABB2BF;">( ESet, ECount, </span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Ne</span><span style="color:#ABB2BF;"> );</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">int</span><span style="color:#61AFEF;"> GetEdge</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> Edge </span><span style="color:#E06C75;font-style:italic;">ESet</span><span style="color:#ABB2BF;">,</span><span style="color:#C678DD;"> int</span><span style="color:#E06C75;font-style:italic;"> CurrentSize</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 给定当前堆的大小CurrentSize，将当前最小边位置弹出并调整堆 */</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 将最小边与当前堆的最后一个位置的边交换 */</span></span>
<span class="line"><span style="color:#61AFEF;">    Swap</span><span style="color:#ABB2BF;">( </span><span style="color:#C678DD;">&amp;</span><span style="color:#E06C75;">ESet</span><span style="color:#ABB2BF;">[</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">], </span><span style="color:#C678DD;">&amp;</span><span style="color:#E06C75;">ESet</span><span style="color:#ABB2BF;">[CurrentSize</span><span style="color:#C678DD;">-</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">]);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 将剩下的边继续调整成最小堆 */</span></span>
<span class="line"><span style="color:#61AFEF;">    PercDown</span><span style="color:#ABB2BF;">( ESet, </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">, CurrentSize</span><span style="color:#C678DD;">-</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;"> );</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#ABB2BF;"> CurrentSize</span><span style="color:#C678DD;">-</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 返回最小边所在位置 */</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">/*-------------------- 最小堆定义结束 --------------------*/</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">int</span><span style="color:#61AFEF;"> Kruskal</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> LGraph </span><span style="color:#E06C75;font-style:italic;">Graph</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> LGraph </span><span style="color:#E06C75;font-style:italic;">MST</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 将最小生成树保存为邻接表存储的图MST，返回最小权重和 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    WeightType TotalWeight;</span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#ABB2BF;"> ECount, NextEdge;</span></span>
<span class="line"><span style="color:#ABB2BF;">    SetType VSet;</span><span style="color:#7F848E;font-style:italic;"> /* 顶点数组 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    Edge ESet;</span><span style="color:#7F848E;font-style:italic;">    /* 边数组 */</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#61AFEF;">    InitializeVSet</span><span style="color:#ABB2BF;">( VSet, </span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;"> );</span><span style="color:#7F848E;font-style:italic;"> /* 初始化顶点并查集 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    ESet </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> (Edge)</span><span style="color:#61AFEF;">malloc</span><span style="color:#ABB2BF;">( </span><span style="color:#C678DD;">sizeof</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">struct</span><span style="color:#ABB2BF;"> ENode)</span><span style="color:#C678DD;">*</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Ne</span><span style="color:#ABB2BF;"> );</span></span>
<span class="line"><span style="color:#61AFEF;">    InitializeESet</span><span style="color:#ABB2BF;">( Graph, ESet );</span><span style="color:#7F848E;font-style:italic;"> /* 初始化边的最小堆 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 创建包含所有顶点但没有边的图。注意用邻接表版本 */</span></span>
<span class="line"><span style="color:#ABB2BF;">    MST </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> CreateGraph</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">    TotalWeight </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 初始化权重和     */</span></span>
<span class="line"><span style="color:#ABB2BF;">    ECount </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;">      /* 初始化收录的边数 */</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">    NextEdge </span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Ne</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 原始边集的规模 */</span></span>
<span class="line"><span style="color:#C678DD;">    while</span><span style="color:#ABB2BF;"> ( ECount </span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#C678DD;">-</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;"> ) {</span><span style="color:#7F848E;font-style:italic;">  /* 当收集的边不足以构成树时 */</span></span>
<span class="line"><span style="color:#ABB2BF;">        NextEdge </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> GetEdge</span><span style="color:#ABB2BF;">( ESet, NextEdge );</span><span style="color:#7F848E;font-style:italic;"> /* 从边集中得到最小边的位置 */</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> (NextEdge </span><span style="color:#C678DD;">&lt;</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">)</span><span style="color:#7F848E;font-style:italic;"> /* 边集已空 */</span></span>
<span class="line"><span style="color:#C678DD;">            break</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        /* 如果该边的加入不构成回路，即两端结点不属于同一连通集 */</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#61AFEF;">CheckCycle</span><span style="color:#ABB2BF;">( VSet, </span><span style="color:#E06C75;">ESet</span><span style="color:#ABB2BF;">[NextEdge].</span><span style="color:#E06C75;">V1</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">ESet</span><span style="color:#ABB2BF;">[NextEdge].</span><span style="color:#E06C75;">V2</span><span style="color:#ABB2BF;"> )</span><span style="color:#C678DD;">==</span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;"> ) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">            /* 将该边插入MST */</span></span>
<span class="line"><span style="color:#61AFEF;">            InsertEdge</span><span style="color:#ABB2BF;">( MST, ESet</span><span style="color:#C678DD;">+</span><span style="color:#ABB2BF;">NextEdge );</span></span>
<span class="line"><span style="color:#ABB2BF;">            TotalWeight </span><span style="color:#C678DD;">+=</span><span style="color:#E06C75;"> ESet</span><span style="color:#ABB2BF;">[NextEdge].</span><span style="color:#E06C75;">Weight</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 累计权重 */</span></span>
<span class="line"><span style="color:#ABB2BF;">            ECount</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 生成树中边数加1 */</span></span>
<span class="line"><span style="color:#ABB2BF;">        }</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;"> ( ECount </span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#C678DD;">-</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">        TotalWeight </span><span style="color:#C678DD;">=</span><span style="color:#C678DD;"> -</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 设置错误标记，表示生成树不存在 */</span></span>
<span class="line"><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    return</span><span style="color:#ABB2BF;"> TotalWeight;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br></div></div><h4 id="boruvka-算法" tabindex="-1">Boruvka 算法 <a class="header-anchor" href="#boruvka-算法" aria-label="Permalink to &quot;Boruvka 算法&quot;">​</a></h4><p>前两种算法的结合。它可以用于求解 <strong>边权互不相同</strong> 的无向图的最小生成森林</p><h3 id="邻接表-拓扑排序" tabindex="-1">邻接表 - 拓扑排序 <a class="header-anchor" href="#邻接表-拓扑排序" aria-label="Permalink to &quot;邻接表 - 拓扑排序&quot;">​</a></h3><p>Topological sorting <br> 任何有向无环图至少有一个拓扑排序</p><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;">bool</span><span style="color:#61AFEF;"> TopSort</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;"> LGraph </span><span style="color:#E06C75;font-style:italic;">Graph</span><span style="color:#ABB2BF;">,</span><span style="color:#E06C75;"> Vertex </span><span style="color:#E06C75;font-style:italic;">TopOrder</span><span style="color:#C678DD;">[]</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#ABB2BF;">{</span><span style="color:#7F848E;font-style:italic;"> /* 对Graph进行拓扑排序,  TopOrder[]顺序存储排序后的顶点下标 */</span></span>
<span class="line"><span style="color:#C678DD;">    int</span><span style="color:#E06C75;"> Indegree</span><span style="color:#ABB2BF;">[MaxVertexNum], cnt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    Vertex V;</span></span>
<span class="line"><span style="color:#ABB2BF;">    PtrToAdjVNode W;</span></span>
<span class="line"><span style="color:#ABB2BF;">       Queue Q </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> CreateQueue</span><span style="color:#ABB2BF;">( </span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;"> );</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 初始化Indegree[] */</span></span>
<span class="line"><span style="color:#C678DD;">    for</span><span style="color:#ABB2BF;"> (V</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;">        Indegree</span><span style="color:#ABB2BF;">[V] </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">         </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 遍历图，得到Indegree[] */</span></span>
<span class="line"><span style="color:#C678DD;">    for</span><span style="color:#ABB2BF;"> (V</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;">        for</span><span style="color:#ABB2BF;"> (W</span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[V].</span><span style="color:#E06C75;">FirstEdge</span><span style="color:#ABB2BF;">; W; W</span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;">W</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Next</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E06C75;">            Indegree</span><span style="color:#ABB2BF;">[</span><span style="color:#E5C07B;">W</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">AdjV</span><span style="color:#ABB2BF;">]</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 对有向边&lt;V, W-&gt;AdjV&gt;累计终点的入度 */</span></span>
<span class="line"><span style="color:#ABB2BF;">             </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 将所有入度为0的顶点入列 */</span></span>
<span class="line"><span style="color:#C678DD;">    for</span><span style="color:#ABB2BF;"> (V</span><span style="color:#C678DD;">=</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">&lt;</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;">; V</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;">        if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#E06C75;">Indegree</span><span style="color:#ABB2BF;">[V]</span><span style="color:#C678DD;">==</span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#61AFEF;">            AddQ</span><span style="color:#ABB2BF;">(Q, V);</span></span>
<span class="line"><span style="color:#ABB2BF;">             </span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">    /* 下面进入拓扑排序 */</span><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">    cnt </span><span style="color:#C678DD;">=</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;">; </span></span>
<span class="line"><span style="color:#C678DD;">    while</span><span style="color:#ABB2BF;">( </span><span style="color:#56B6C2;">!</span><span style="color:#61AFEF;">IsEmpty</span><span style="color:#ABB2BF;">(Q) ){</span></span>
<span class="line"><span style="color:#ABB2BF;">        V </span><span style="color:#C678DD;">=</span><span style="color:#61AFEF;"> DeleteQ</span><span style="color:#ABB2BF;">(Q);</span><span style="color:#7F848E;font-style:italic;"> /* 弹出一个入度为0的顶点 */</span></span>
<span class="line"><span style="color:#E06C75;">        TopOrder</span><span style="color:#ABB2BF;">[cnt</span><span style="color:#C678DD;">++</span><span style="color:#ABB2BF;">] </span><span style="color:#C678DD;">=</span><span style="color:#ABB2BF;"> V;</span><span style="color:#7F848E;font-style:italic;"> /* 将之存为结果序列的下一个元素 */</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">        /* 对V的每个邻接点W-&gt;AdjV */</span></span>
<span class="line"><span style="color:#C678DD;">        for</span><span style="color:#ABB2BF;"> ( W</span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;">Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">G</span><span style="color:#ABB2BF;">[V].</span><span style="color:#E06C75;">FirstEdge</span><span style="color:#ABB2BF;">; W; W</span><span style="color:#C678DD;">=</span><span style="color:#E5C07B;">W</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Next</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#C678DD;">            if</span><span style="color:#ABB2BF;"> ( </span><span style="color:#C678DD;">--</span><span style="color:#E06C75;">Indegree</span><span style="color:#ABB2BF;">[</span><span style="color:#E5C07B;">W</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">AdjV</span><span style="color:#ABB2BF;">] </span><span style="color:#C678DD;">==</span><span style="color:#D19A66;"> 0</span><span style="color:#ABB2BF;"> )</span><span style="color:#7F848E;font-style:italic;">/* 若删除V使得W-&gt;AdjV入度为0 */</span></span>
<span class="line"><span style="color:#61AFEF;">                AddQ</span><span style="color:#ABB2BF;">(Q, </span><span style="color:#E5C07B;">W</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">AdjV</span><span style="color:#ABB2BF;">);</span><span style="color:#7F848E;font-style:italic;"> /* 则该顶点入列 */</span><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span><span style="color:#7F848E;font-style:italic;"> /* while结束*/</span></span>
<span class="line"><span style="color:#ABB2BF;">     </span></span>
<span class="line"><span style="color:#C678DD;">    if</span><span style="color:#ABB2BF;"> ( cnt </span><span style="color:#C678DD;">!=</span><span style="color:#E5C07B;"> Graph</span><span style="color:#ABB2BF;">-&gt;</span><span style="color:#E06C75;">Nv</span><span style="color:#ABB2BF;"> )</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#D19A66;"> false</span><span style="color:#ABB2BF;">;</span><span style="color:#7F848E;font-style:italic;"> /* 说明图中有回路, 返回不成功标志 */</span><span style="color:#ABB2BF;"> </span></span>
<span class="line"><span style="color:#C678DD;">    else</span></span>
<span class="line"><span style="color:#C678DD;">        return</span><span style="color:#D19A66;"> true</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div>`,106),b=[A];function C(D,E,u,m,d,f){return n(),a("div",null,b)}const T=s(F,[["render",C]]);export{h as __pageData,T as default};
