
# ——可扩展标记语言（eXtensible Markup Language）——
XML 语言没有预定义的标签，设计用来传输和存储数据

首行：`<?xml version="1.0"?>`



# ——文档类型定义（DTD）——
使用一系列合法的元素来定义XML文档的结构。  <br />  DTD 可被成行地声明于 XML 文档中，也可作为一个外部引用。



# —— XPath ——
XML Path Language 一门在 XML 文档中查找信息的语言，可用来在 XML 文档中对元素和属性进行遍历。

- 节点（Node）：元素、属性、文本、命名空间、处理指令、注释以及文档（根）节点
- 节点关系：父（Parent）、子（Children）、同胞（Sibling）、先辈（Ancestor）、后代（Descendant）
- 基本值（或称原子值，Atomic value）：无父或无子的节点
- 节点（集）是通过沿着路径 (path) 或者步 (steps) 来选取的


**路径表达式**

| 表达式 | 描述 |
| --- | --- |
| nodename | 选取此节点的所有子节点。 |
| / | 从根节点选取。 |
| // | 从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置。 |
| . | 选取当前节点。 |
| .. | 选取当前节点的父节点。 |
| @ | 选取属性。 |

| 通配符 | 描述 |
| --- | --- |
| * | 匹配任何元素节点。 |
| @* | 匹配任何属性节点。 |
| node() | 匹配任何类型的节点。 |

在路径表达式中使用“|”运算符，可以选取若干个路径


谓语（Predicates）：查找某个特定的节点或者包含某个指定的值的节点，被嵌在方括号中。

| 路径表达式 | 结果 |
| --- | --- |
| /bookstore/book[1] | 选取属于 bookstore 子元素的第一个 book 元素。 |
| /bookstore/book[last()] | 选取属于 bookstore 子元素的最后一个 book 元素。 |
| /bookstore/book[last()-1] | 选取属于 bookstore 子元素的倒数第二个 book 元素。 |
| /bookstore/book[position()<3] | 选取最前面的两个属于 bookstore 元素的子元素的 book 元素。 |
| //title[@lang] | 选取所有拥有名为 lang 的属性的 title 元素。 |
| //title[@lang='eng'] | 选取所有 title 元素，且这些元素拥有值为 eng 的 lang 属性。 |
| /bookstore/book[price>35.00] | 选取 bookstore 元素的所有 book 元素，且其中的 price 元素的值须大于 35.00。 |
| /bookstore/book[price>35.00]/title | 选取 bookstore 元素中的 book 元素的所有 title 元素，且其中的 price 元素的值须大于 35.00。 |


# 步（step）

- 轴（axis）：定义所选节点与当前节点之间的树关系
- 节点测试（node-test）：识别某个轴内部的节点
- 零个或者更多谓语（predicate）：更深入地提炼所选的节点集

**语法：轴名称::节点测试[谓语]**

**Axes（轴）**

| 轴名称 | 结果 |
| --- | --- |
| ancestor | 选取当前节点的所有先辈（父、祖父等）。 |
| ancestor-or-self | 选取当前节点的所有先辈（父、祖父等）以及当前节点本身。 |
| attribute | 选取当前节点的所有属性。 |
| child | 选取当前节点的所有子元素。 |
| descendant | 选取当前节点的所有后代元素（子、孙等）。 |
| descendant-or-self | 选取当前节点的所有后代元素（子、孙等）以及当前节点本身。 |
| following | 选取文档中当前节点的结束标签之后的所有节点。 |
| namespace | 选取当前节点的所有命名空间节点。 |
| parent | 选取当前节点的父节点。 |
| preceding | 选取文档中当前节点的开始标签之前的所有节点。 |
| preceding-sibling | 选取当前节点之前的所有同级节点。 |
| self | 选取当前节点。 |


# [XPath函数](https://www.w3school.com.cn/xpath/xpath_functions.asp#accessor)



# —— JSON ——

[JSON](https://www.json.org/json-zh.html)(JavaScript Object Notation) 是一种轻量级的数据交换格式。 易于人阅读和编写。同时也易于机器解析和生成。 它基于JavaScript Programming Language, Standard ECMA-262 3rd Edition - December 1999的一个子集。

**形式**

- 对象（object）：一个无序的“‘名称/值’对”集合。一个对象以 {左括号 开始， }右括号 结束。每个“名称”后跟一个 :冒号 ；“‘名称/值’ 对”之间使用 ,逗号 分隔。
- 数组（array）：值（value）的有序集合。一个数组以 [左中括号 开始， ]右中括号 结束。值之间使用 ,逗号 分隔。
- 值（value）：双引号括起来的字符串（string）、数值(number)、true、false、 null、对象（object）或者数组（array）。
- 字符串（string）是由双引号包围的任意数量Unicode字符的集合，使用反斜线转义。
- 数值（number）：十进制，可用科学计数法（e/E）


## [jsonpatch](http://jsonpatch.com/)
[JSON](http://json.com/) Patch is a format for describing changes to a JSON document. It can be used to avoid sending a whole document when only a part has changed. When used in combination with the HTTP PATCH method, it allows partial updates for HTTP APIs in a standards compliant way.

JSON Pointer  <br />  defines a string format for identifying a specific value within a JSON document. It is used by all operations in JSON Patch to specify the part of the document to operate on.
```javascript
root	""
path	/object/array/index/key
end of an array	-
```
如果需要在名称中使用~或引用键/，则必须分别使用~0和对字符进行转义~1

**operations**  <br />  The operations are applied in order: if any of them fail then the whole patch operation should abort.

Add  <br />  插入到给定的索引之前
```javascript
{ "op": "add", "path": "/biscuits/1", "value": { "name": "Ginger Nut" } }
```
Remove
```javascript
{ "op": "remove", "path": "/biscuits" }
```
Replace
```javascript
{ "op": "replace", "path": "/biscuits/0/name", "value": "Chocolate Digestive" }
```
Move
```javascript
{ "op": "move", "from": "/biscuits", "path": "/cookies" }
```
Test
```javascript
{ "op": "test", "path": "/best_biscuit/name", "value": "Choco Leibniz" }
```



# —— YAML ——
"YAML Ain't a Markup Language"（[YAML](https://yaml.org/)不是一种[标记语言](https://zh.wikipedia.org/wiki/%E6%A0%87%E8%AE%B0%E8%AF%AD%E8%A8%80)）的[递归缩写](https://zh.wikipedia.org/wiki/%E9%81%9E%E8%BF%B4%E7%B8%AE%E5%AF%AB)  <br />  数据序列化语言，一种通用的数据串行化格式。

基本语法规则

- 文件后缀为 .yml
- 大小写敏感
- 使用缩进表示层级关系
- 缩进只允许空格，空格数自定，相同层级的元素左对齐即可
- 表示注释
- 列表成员用前导连字符( - )表示。

在单一文件中，可用连续三个[连字号](https://zh.wikipedia.org/wiki/%E8%BF%9E%E5%AD%97%E5%8F%B7)（**---**）区分多个文件。  <br />  选择性的连续三个点号（** ... **）用来表示文件结尾


# 数据类型

## 对象
键值对的集合，又称为映射（mapping）/ 哈希（hashes） / 字典（dictionary）  <br />  内置格式（inline format）
```javascript
key:{key1: value1, key2: value2, ...}
```
区块格式（block format）
```javascript
key: 
    child-key: value
    child-key2: value2
```
使用问号加一个空格代表一个复杂的 key，配合一个冒号加一个空格代表一个 value
```javascript
?  
    - complexkey1
    - complexkey2
:
    - complexvalue1
    - complexvalue2
```

## 数组
一组按次序排列的值，又称为序列（sequence） / 列表（list）  <br />  以 - 开头的行表示构成一个数组
```javascript
- A
- B
- C
```
支持多维数组，可以使用行内表示
```javascript
key: [value1, value2, ...]
```
数据结构的子成员是一个数组，则可以在该项下面缩进一个空格。
```javascript
-
 - A
 - B
 - C
```

## 纯量（scalars）
单个的、不可再分的值

- 字符串、布尔值、整数、浮点数、Null、时间、日期
```javascript
boolean: 
    - TRUE  # true,True 都可以
    - FALSE  # false，False 都可以
float:
    - 3.14
    - 6.8523015e+5  #可以使用科学计数法
int:
    - 123
    - 0b1010_0111_0100_1010_1110    #二进制表示
null:
    nodeName: 'node'
    parent: ~  # 使用~表示null
str:
    - 这是一行字符串  # 字符串默认不使用引号表示
    - 'Hello world'  # 可字符串之中包含空格或特殊字符，需要放在引号之中，双引号不会对特殊字符转义
    - newline
      newline2    # 字符串可以写成多行，从第二行开始，必须有一个单空格缩进。换行符会被转为空格。
date:
    - 2018-02-17    # 日期使用ISO 8601格式，即yyyy-MM-dd
datetime: 
    -  2018-02-17T15:02:31+08:00    # 时间使用ISO 8601格式，时间和日期之间使用T连接，最后使用+代表时区
```
使用双引号表示字符串时，可用倒斜线（** \ **）开始的转义字符

## 多行文字（multi-line strings）
`!!`  强制转换数据类型  <br />  `|`  **保留换行(Newlines preserved)：**每行开头的缩进（以首行为基准）和行末空白会被去除，而不同的缩进会保留差异。  <br />  `**>**`**  折叠换行(Newlines folded)：**只有空白行才视为换行，原本的换行字符会被转换成空白字符  <br />  `+` 保留文字块末尾的换行  <br />  `-` 删除字符串末尾的换行
```javascript
e: !!str 123
f: !!str true

this: |
  Foo
  Bar
that: >
  Foo
  Bar
  
  
s1: |
Foo

s2: |+
  Foo

s3: |-
  Foo
```

## 引用
`&`  建立锚点（defaults）  <br />  `<<`  合并到当前数据  <br />  `*`   引用锚点
```javascript
defaults: &defaults
  adapter:  postgres
  host:     localhost
  
development:
  database: myapp_development
  <<: *defaults
  
  # 等同
defaults:
  adapter:  postgres
  host:     localhost
  
development:
  database: myapp_development
  adapter:  postgres
  host:     localhost
```
